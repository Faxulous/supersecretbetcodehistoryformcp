[
    {
        "user": "UNW8Q88EL",
        "type": "message",
        "ts": "1625654843.325200",
        "client_msg_id": "e2c65a5c-6293-40f8-b850-06595fc2f9c4",
        "text": "Hi <@UBS7QANF3> \/ <@UUE6E1LA1> The delay in the virtual price stream relates to the time it takes to calculate the virtual bets that are displayed using  our cross-matching algorithm, as described in the docs via <https:\/\/docs.developer.betfair.com\/pages\/viewpage.action?pageId=43090178#AdditionalInformation-VirtualBets>",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "cc2c2669d548",
            "image_72": "https:\/\/avatars.slack-edge.com\/2021-10-21\/2643683806753_cc2c2669d548a3476e65_72.jpg",
            "first_name": "Neil",
            "real_name": "Neil T (Betfair)",
            "display_name": "Neil T (Betfair)",
            "team": "T4G9NBD2M",
            "name": "neil.thomas",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1625488138.294700",
        "parent_user_id": "UBS7QANF3",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Gs=",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Hi "
                            },
                            {
                                "type": "user",
                                "user_id": "UBS7QANF3"
                            },
                            {
                                "type": "text",
                                "text": " \/ "
                            },
                            {
                                "type": "user",
                                "user_id": "UUE6E1LA1"
                            },
                            {
                                "type": "text",
                                "text": " The delay in the virtual price stream relates to the time it takes to calculate the virtual bets that are displayed using  our cross-matching algorithm, as described in the docs via "
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/docs.developer.betfair.com\/pages\/viewpage.action?pageId=43090178#AdditionalInformation-VirtualBets"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UBS7QANF3",
        "type": "message",
        "ts": "1625654999.326100",
        "client_msg_id": "B195D5F0-D21F-4008-8C34-D1A1DD69485B",
        "text": "So for each non-virtual update there is a corresponding virtual update? There is no batching of updates?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gaaf844a4a90",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/eaaf844a4a905431d83430e563b077aa.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png",
            "first_name": "",
            "real_name": "Maurice Berk",
            "display_name": "Mo",
            "team": "T4G9NBD2M",
            "name": "maurice",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1625488138.294700",
        "parent_user_id": "UBS7QANF3",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "8+T",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "So for each non-virtual update there is a corresponding virtual update? There is no batching of updates?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UNW8Q88EL",
        "type": "message",
        "ts": "1625656561.326300",
        "edited": {
            "user": "UNW8Q88EL",
            "ts": "1625656587.000000"
        },
        "client_msg_id": "005cc6da-9b07-4045-9230-08fd9e7d8c11",
        "text": "Yes, if a non-virtual update results in a corresponding virtual update calculated by the cross-matching algorithm.  Exception would be if cross-matching wasn't active on a market (this would be signified by the crossMatching bool field returned via the MarketDefiniton in the Stream API or listMarketBook.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "cc2c2669d548",
            "image_72": "https:\/\/avatars.slack-edge.com\/2021-10-21\/2643683806753_cc2c2669d548a3476e65_72.jpg",
            "first_name": "Neil",
            "real_name": "Neil T (Betfair)",
            "display_name": "Neil T (Betfair)",
            "team": "T4G9NBD2M",
            "name": "neil.thomas",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1625488138.294700",
        "parent_user_id": "UBS7QANF3",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "SNW",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Yes, if a non-virtual update results in a corresponding virtual update calculated by the cross-matching algorithm.  Exception would be if cross-matching wasn't active on a market (this would be signified by the crossMatching bool field returned via the MarketDefiniton in the Stream API or listMarketBook."
                            }
                        ]
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "middle_finger",
                "users": [
                    "UUE6E1LA1"
                ],
                "count": 1
            }
        ]
    },
    {
        "user": "UBS7QANF3",
        "type": "message",
        "ts": "1625656600.326600",
        "client_msg_id": "35f03bf7-9c2f-4bc4-8dbe-0ac8ff2192e5",
        "text": "Cheers, that's very helpful",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gaaf844a4a90",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/eaaf844a4a905431d83430e563b077aa.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png",
            "first_name": "",
            "real_name": "Maurice Berk",
            "display_name": "Mo",
            "team": "T4G9NBD2M",
            "name": "maurice",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1625488138.294700",
        "parent_user_id": "UBS7QANF3",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "kk8in",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Cheers, that's very helpful"
                            }
                        ]
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "+1",
                "users": [
                    "UNW8Q88EL",
                    "UUE6E1LA1"
                ],
                "count": 2
            }
        ]
    },
    {
        "subtype": "channel_join",
        "user": "U027B2PHRD0",
        "text": "<@U027B2PHRD0> has joined the channel",
        "type": "message",
        "ts": "1625661258.327300"
    },
    {
        "user": "U01A5GVTBST",
        "type": "message",
        "ts": "1625697038.329900",
        "client_msg_id": "4028f656-b4f9-47e1-b4a4-4a5866628a02",
        "text": "Can we add and remove dynamically at runtime markets to a strategy market filter?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "2b9b6916d876",
            "image_72": "https:\/\/avatars.slack-edge.com\/2020-09-13\/1357224664949_2b9b6916d8763fd7e1bc_72.png",
            "first_name": "",
            "real_name": "Matthieu Labour",
            "display_name": "Matthieu Labour",
            "team": "T4G9NBD2M",
            "name": "matthieu.labour",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "2bmF",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Can we add and remove dynamically at runtime markets to a strategy market filter?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U9JHLMZB4",
        "type": "message",
        "ts": "1625697768.330100",
        "client_msg_id": "1ed4f409-e60b-46a1-a46a-b4efcfe4f6b9",
        "text": "No.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g951ddcb43e7",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/3951ddcb43e788a387d6daf330dad5ca.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png",
            "first_name": "",
            "real_name": "Peter Coles",
            "display_name": "Peter",
            "team": "T4G9NBD2M",
            "name": "peter",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "hdtZ",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "No."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U9JHLMZB4",
        "type": "message",
        "ts": "1625697922.331600",
        "client_msg_id": "bde37277-2238-410b-b60a-05ceacb3691e",
        "text": "There's no option in the Betfair API to do this, so no way to include the functionality in Flumine. However you can include code in your strategy's check_market_book method to ignore markets that you're not interested in.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g951ddcb43e7",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/3951ddcb43e788a387d6daf330dad5ca.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png",
            "first_name": "",
            "real_name": "Peter Coles",
            "display_name": "Peter",
            "team": "T4G9NBD2M",
            "name": "peter",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1625697922.331600",
        "reply_count": 1,
        "reply_users_count": 1,
        "latest_reply": "1625699297.331700",
        "reply_users": [
            "U01A5GVTBST"
        ],
        "replies": [
            {
                "user": "U01A5GVTBST",
                "ts": "1625699297.331700"
            }
        ],
        "is_locked": false,
        "subscribed": false,
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Tq9oh",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "There's no option in the Betfair API to do this, so no way to include the functionality in Flumine. However you can include code in your strategy's check_market_book method to ignore markets that you're not interested in."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U01A5GVTBST",
        "type": "message",
        "ts": "1625699297.331700",
        "client_msg_id": "e54f7862-36fa-4ada-9263-c7424d35ac5a",
        "text": "Thank you.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "2b9b6916d876",
            "image_72": "https:\/\/avatars.slack-edge.com\/2020-09-13\/1357224664949_2b9b6916d8763fd7e1bc_72.png",
            "first_name": "",
            "real_name": "Matthieu Labour",
            "display_name": "Matthieu Labour",
            "team": "T4G9NBD2M",
            "name": "matthieu.labour",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1625697922.331600",
        "parent_user_id": "U9JHLMZB4",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "GTLCl",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Thank you."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "subtype": "channel_join",
        "user": "U027SDUHU3T",
        "text": "<@U027SDUHU3T> has joined the channel",
        "type": "message",
        "ts": "1625703277.332000"
    },
    {
        "user": "U01S1VB9X9P",
        "type": "message",
        "ts": "1625711627.337400",
        "client_msg_id": "ce22ff57-eba3-4202-af02-9181d4b261a7",
        "text": "Could someone help me understand the following scenario? If I am retrieving the last price traded from market_book.runners every cycle and there is lag, how are the delayed messages handled? Are they all queued up and delivered once everything resumes, or are the delayed messages skipped over and only the last update sent through? E.g. in process_market_book, i save the ltp into a variable and 5 market updates are created but I don't receive them until the 6th update, do I only get the 6th update or will all 6 come through at once? Thanks",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gedbe1c0faac",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/da19bb58fa64d5c88c2a156c73a2ccf3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png",
            "first_name": "Adrian",
            "real_name": "Adrian",
            "display_name": "Adrian",
            "team": "T4G9NBD2M",
            "name": "adrianwf",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "pVLUB",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Could someone help me understand the following scenario? If I am retrieving the last price traded from market_book.runners every cycle and there is lag, how are the delayed messages handled? Are they all queued up and delivered once everything resumes, or are the delayed messages skipped over and only the last update sent through? E.g. in process_market_book, i save the ltp into a variable and 5 market updates are created but I don't receive them until the 6th update, do I only get the 6th update or will all 6 come through at once? Thanks"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1625718753.338000",
        "client_msg_id": "7CE8CD96-DDED-477A-8BF9-C0F4826C9073",
        "text": "Random, don’t use the delayed key",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "iuHR",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Random, don’t use the delayed key"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U01S1VB9X9P",
        "type": "message",
        "ts": "1625720421.341500",
        "client_msg_id": "8d4127e0-6f6d-4a98-a2cc-db413117af30",
        "text": "I'm using the live key. I just wanted to know how flumine queues up the market messages. I think I found the answer but it would be good to confirm. It seems there is a one-to-one ratio between loops and market messages, provided there is a message. Therefore if there is a delay and 5 messages are published, it will take 5 loops of the function to catch up, rather that catching them all up on the next loop.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gedbe1c0faac",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/da19bb58fa64d5c88c2a156c73a2ccf3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png",
            "first_name": "Adrian",
            "real_name": "Adrian",
            "display_name": "Adrian",
            "team": "T4G9NBD2M",
            "name": "adrianwf",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "AqqS",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I'm using the live key. I just wanted to know how flumine queues up the market messages. I think I found the answer but it would be good to confirm. It seems there is a one-to-one ratio between loops and market messages, provided there is a message. Therefore if there is a delay and 5 messages are published, it will take 5 loops of the function to catch up, rather that catching them all up on the next loop."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1625725205.343600",
        "client_msg_id": "E2EBA91A-C070-4DD4-B8F1-8FA57E5374CC",
        "text": "Sorry yes, it’s a fifo queue ",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "jGD",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Sorry yes, it’s a fifo queue "
                            }
                        ]
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "pray",
                "users": [
                    "U01S1VB9X9P"
                ],
                "count": 1
            }
        ]
    },
    {
        "user": "U01S1VB9X9P",
        "type": "message",
        "ts": "1625725759.344700",
        "client_msg_id": "9ec72028-621d-44e5-8e0b-510208a56941",
        "text": "Thanks, no need to apologise. I don't yet have the vocabulary for what I'm seeing so my questions are long winded",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gedbe1c0faac",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/da19bb58fa64d5c88c2a156c73a2ccf3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png",
            "first_name": "Adrian",
            "real_name": "Adrian",
            "display_name": "Adrian",
            "team": "T4G9NBD2M",
            "name": "adrianwf",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "\/+h",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Thanks, no need to apologise. I don't yet have the vocabulary for what I'm seeing so my questions are long winded"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1625725820.345600",
        "client_msg_id": "B64276E3-0CA3-4C73-87CD-A2E0762F4A1E",
        "text": "Well I didn’t read it, just saw the word delayed :joy:",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "+WKk",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Well I didn’t read it, just saw the word delayed "
                            },
                            {
                                "type": "emoji",
                                "name": "joy",
                                "unicode": "1f602"
                            }
                        ]
                    }
                ]
            }
        ]
    }
]