[
    {
        "user": "U059W9V61QC",
        "type": "message",
        "ts": "1694174120.402989",
        "client_msg_id": "ae50e4bd-8f3e-4bf1-99c5-3e293bc8fe9b",
        "text": "Hello everyone ! I'm working on my project and I got a couple of questions. First, before placing an order for the MATCH_ODDS market for instance, I like to check the trading price for a given runner. However, I do this via the _last_price_traded_ attribute of the corresponding runner, and I think that I'm getting its corresponding LAY price instead of the BACK one, which is the one I would like to get. How could I get the BACK one? Any clue? \n\nAnd another thing, say I wanna bet a selection with size 20€ at a price of 1.70€ but there are 15€ available to match at higher price (1.75€ for instance) and 10€ at 1.72€. Is there any way to set the matching process at the highest available possible and hence increase the initially planned price?  \n\nHope I made myself clear enough. Thanks for your help :innocent: !",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gb56c245a46c",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/b56c245a46cb73df572265c933464962.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-72.png",
            "first_name": "Alejandro",
            "real_name": "Alejandro Pablos Sánchez",
            "display_name": "Alejandro Pablos Sánchez",
            "team": "T4G9NBD2M",
            "name": "alejandropablos",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1694174120.402989",
        "reply_count": 6,
        "reply_users_count": 3,
        "latest_reply": "1694177640.443579",
        "reply_users": [
            "UCQB6S222",
            "U4H19D1D2",
            "U059W9V61QC"
        ],
        "replies": [
            {
                "user": "UCQB6S222",
                "ts": "1694174309.163389"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1694175906.239049"
            },
            {
                "user": "U059W9V61QC",
                "ts": "1694177562.185769"
            },
            {
                "user": "U059W9V61QC",
                "ts": "1694177604.457859"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1694177621.289109"
            },
            {
                "user": "U059W9V61QC",
                "ts": "1694177640.443579"
            }
        ],
        "is_locked": false,
        "subscribed": true,
        "last_read": "1694177640.443579",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "W4I",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Hello everyone ! I'm working on my project and I got a couple of questions. First, before placing an order for the MATCH_ODDS market for instance, I like to check the trading price for a given runner. However, I do this via the "
                            },
                            {
                                "type": "text",
                                "text": "last_price_traded ",
                                "style": {
                                    "italic": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "attribute of the corresponding runner, and I think that I'm getting its corresponding LAY price instead of the BACK one, which is the one I would like to get. How could I get the BACK one? Any clue? \n\nAnd another thing, say I wanna bet a selection with size 20€ at a price of 1.70€ but there are 15€ available to match at higher price (1.75€ for instance) and 10€ at 1.72€. Is there any way to set the matching process at the highest available possible and hence increase the initially planned price?  \n\nHope I made myself clear enough. Thanks for your help "
                            },
                            {
                                "type": "emoji",
                                "name": "innocent",
                                "unicode": "1f607"
                            },
                            {
                                "type": "text",
                                "text": " !"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UCQB6S222",
        "type": "message",
        "ts": "1694174309.163389",
        "client_msg_id": "03a2e72f-f561-4591-87d5-b6caf8fe3207",
        "text": "sounds like you need to look at `runner.ex.available_to_back`",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g953ffd5e3b7",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/5813be539113b05ece8212c2a06d006a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png",
            "first_name": "George",
            "real_name": "George",
            "display_name": "George",
            "team": "T4G9NBD2M",
            "name": "gd",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1694174120.402989",
        "parent_user_id": "U059W9V61QC",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "JUuSr",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "sounds like you need to look at "
                            },
                            {
                                "type": "text",
                                "text": "runner.ex.available_to_back",
                                "style": {
                                    "code": true
                                }
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1694175906.239049",
        "client_msg_id": "953a56f1-4a53-4b3d-b6e8-e8785bc96da0",
        "text": "And BPE is the default, are you using flumine?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1694174120.402989",
        "parent_user_id": "U059W9V61QC",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "KYmfI",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "And BPE is the default, are you using flumine?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U059W9V61QC",
        "type": "message",
        "ts": "1694177562.185769",
        "client_msg_id": "2c78b4fc-3266-4ec0-b0ba-b5c86ea4be65",
        "text": "No, I am using betfairlightweight",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gb56c245a46c",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/b56c245a46cb73df572265c933464962.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-72.png",
            "first_name": "Alejandro",
            "real_name": "Alejandro Pablos Sánchez",
            "display_name": "Alejandro Pablos Sánchez",
            "team": "T4G9NBD2M",
            "name": "alejandropablos",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1694174120.402989",
        "parent_user_id": "U059W9V61QC",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "eVL",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "No, I am using betfairlightweight"
                            }
                        ]
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "yawning_face",
                "users": [
                    "U4H19D1D2"
                ],
                "count": 1
            }
        ]
    },
    {
        "user": "U059W9V61QC",
        "type": "message",
        "ts": "1694177604.457859",
        "client_msg_id": "2fb344c1-b6f6-4223-b125-8e142f918d9c",
        "text": "<@UCQB6S222> I tried ex attribute but is None so it does not have the available_to_back",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gb56c245a46c",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/b56c245a46cb73df572265c933464962.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-72.png",
            "first_name": "Alejandro",
            "real_name": "Alejandro Pablos Sánchez",
            "display_name": "Alejandro Pablos Sánchez",
            "team": "T4G9NBD2M",
            "name": "alejandropablos",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1694174120.402989",
        "parent_user_id": "U059W9V61QC",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "2qLxg",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "user",
                                "user_id": "UCQB6S222"
                            },
                            {
                                "type": "text",
                                "text": " I tried ex attribute but is None so it does not have the available_to_back"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1694177621.289109",
        "client_msg_id": "e7dca8c1-e859-4f33-843f-738c1a87c5a5",
        "text": "Have you asked for it?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1694174120.402989",
        "parent_user_id": "U059W9V61QC",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "L7x",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Have you asked for it?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U059W9V61QC",
        "type": "message",
        "ts": "1694177640.443579",
        "client_msg_id": "6b863aae-f33b-4cb3-b542-c9f02a47060e",
        "text": "No",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gb56c245a46c",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/b56c245a46cb73df572265c933464962.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-72.png",
            "first_name": "Alejandro",
            "real_name": "Alejandro Pablos Sánchez",
            "display_name": "Alejandro Pablos Sánchez",
            "team": "T4G9NBD2M",
            "name": "alejandropablos",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1694174120.402989",
        "parent_user_id": "U059W9V61QC",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "td6K",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "No"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U0155J92A7Q",
        "type": "message",
        "ts": "1694178071.294519",
        "edited": {
            "user": "U0155J92A7Q",
            "ts": "1694178338.000000"
        },
        "client_msg_id": "5735eab0-2ac6-401c-b6b3-eb6529919542",
        "text": "Hey guys. I'm trying to understand what it the best method for calculating an implied probability of every runner pre-game, using the exchange's back odds, in order to calculate the EV of my bets (i.e. removing the margin).\n\nThis is for Soccer, match odds, for the leagues I bet in, I have recorded the prices 5 minutes before the game goes in-play and I got 50000 markets.\n\n• The method of just normalizing the implied probs. by the back odds to sum to 1, gives me a mean Brier Score of 0.60682\n• The method of applying margin weights proportional to the back odds gives me a mean Brier Score of 0.60677 (I thought it would be much better, but is only slightly better?)\n• The shin method gives me only a Brier Score of 0.63244 (but this is supposed to be the best method so what am I missing?)\nAre there better measurements for this than the Brier Score? I am a noob in this area, this is the most intuitive one I could find",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gde8c5d51af5",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/de8c5d51af54a5ac7b501f416ddb262c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png",
            "first_name": "",
            "real_name": "Jorge",
            "display_name": "Jorge",
            "team": "T4G9NBD2M",
            "name": "jgarciam95",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1694178071.294519",
        "reply_count": 2,
        "reply_users_count": 2,
        "latest_reply": "1694179671.757179",
        "reply_users": [
            "UBS7QANF3",
            "U0155J92A7Q"
        ],
        "replies": [
            {
                "user": "UBS7QANF3",
                "ts": "1694178932.014439"
            },
            {
                "user": "U0155J92A7Q",
                "ts": "1694179671.757179"
            }
        ],
        "is_locked": false,
        "subscribed": false,
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "ZYSd",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Hey guys. I'm trying to understand what it the best method for calculating an implied probability of every runner pre-game, using the exchange's back odds, in order to calculate the EV of my bets (i.e. removing the margin).\n\nThis is for Soccer, match odds, for the leagues I bet in, I have recorded the prices 5 minutes before the game goes in-play and I got 50000 markets.\n\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_list",
                        "elements": [
                            {
                                "type": "rich_text_section",
                                "elements": [
                                    {
                                        "type": "text",
                                        "text": "The method of just normalizing the implied probs. by the back odds to sum to 1, gives me a mean Brier Score of 0.60682"
                                    }
                                ]
                            },
                            {
                                "type": "rich_text_section",
                                "elements": [
                                    {
                                        "type": "text",
                                        "text": "The method of applying margin weights proportional to the back odds gives me a mean Brier Score of 0.60677 (I thought it would be much better, but is only slightly better?)"
                                    }
                                ]
                            },
                            {
                                "type": "rich_text_section",
                                "elements": [
                                    {
                                        "type": "text",
                                        "text": "The shin method gives me only a Brier Score of 0.63244 (but this is supposed to be the best method so what am I missing?)"
                                    }
                                ]
                            }
                        ],
                        "style": "bullet",
                        "indent": 0,
                        "border": 0
                    },
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "\nAre there better measurements for this than the Brier Score? I am a noob in this area, this is the most intuitive one I could find"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UBS7QANF3",
        "type": "message",
        "ts": "1694178932.014439",
        "client_msg_id": "6c8b0326-549a-4112-8570-15be27a71016",
        "text": "<https:\/\/betcode-org.slack.com\/archives\/C4H05KKMY\/p1692967067839049?thread_ts=1692965565.370919&amp;cid=C4H05KKMY>",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gaaf844a4a90",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/eaaf844a4a905431d83430e563b077aa.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png",
            "first_name": "",
            "real_name": "Maurice Berk",
            "display_name": "Mo",
            "team": "T4G9NBD2M",
            "name": "maurice",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1694178071.294519",
        "parent_user_id": "U0155J92A7Q",
        "attachments": [
            {
                "from_url": "https:\/\/betcode-org.slack.com\/archives\/C4H05KKMY\/p1692967067839049?thread_ts=1692965565.370919&amp;cid=C4H05KKMY",
                "ts": "1692967067.839049",
                "author_id": "UBS7QANF3",
                "channel_id": "C4H05KKMY",
                "channel_team": "T4G9NBD2M",
                "is_msg_unfurl": true,
                "is_reply_unfurl": true,
                "message_blocks": [
                    {
                        "team": "T4G9NBD2M",
                        "channel": "C4H05KKMY",
                        "ts": "1692967067.839049",
                        "message": {
                            "blocks": [
                                {
                                    "type": "rich_text",
                                    "block_id": "ndBpi",
                                    "elements": [
                                        {
                                            "type": "rich_text_section",
                                            "elements": [
                                                {
                                                    "type": "text",
                                                    "text": "I suspect the difference is the scoring method. I am using the Ignorance Score as I find the arguments in "
                                                },
                                                {
                                                    "type": "link",
                                                    "url": "https:\/\/arxiv.org\/abs\/1908.08980"
                                                },
                                                {
                                                    "type": "text",
                                                    "text": " against both the RPS and Brier score compelling"
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        }
                    }
                ],
                "id": 1,
                "original_url": "https:\/\/betcode-org.slack.com\/archives\/C4H05KKMY\/p1692967067839049?thread_ts=1692965565.370919&amp;cid=C4H05KKMY",
                "fallback": "[August 25th, 2023 5:37 AM] maurice: I suspect the difference is the scoring method. I am using the Ignorance Score as I find the arguments in <https:\/\/arxiv.org\/abs\/1908.08980> against both the RPS and Brier score compelling",
                "text": "I suspect the difference is the scoring method. I am using the Ignorance Score as I find the arguments in <https:\/\/arxiv.org\/abs\/1908.08980> against both the RPS and Brier score compelling",
                "author_name": "Maurice Berk",
                "author_link": "https:\/\/betcode-org.slack.com\/team\/UBS7QANF3",
                "author_icon": "https:\/\/secure.gravatar.com\/avatar\/eaaf844a4a905431d83430e563b077aa.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-48.png",
                "author_subname": "Maurice Berk",
                "mrkdwn_in": [
                    "text"
                ],
                "footer": "Thread in Slack conversation"
            }
        ],
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "ZoX",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "link",
                                "url": "https:\/\/betcode-org.slack.com\/archives\/C4H05KKMY\/p1692967067839049?thread_ts=1692965565.370919&cid=C4H05KKMY"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U0155J92A7Q",
        "type": "message",
        "ts": "1694179671.757179",
        "client_msg_id": "e3323aad-bffd-4c67-9fc5-139245c23da5",
        "text": "Thanks <@UBS7QANF3>, will read that and check the results:eyes:",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gde8c5d51af5",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/de8c5d51af54a5ac7b501f416ddb262c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png",
            "first_name": "",
            "real_name": "Jorge",
            "display_name": "Jorge",
            "team": "T4G9NBD2M",
            "name": "jgarciam95",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1694178071.294519",
        "parent_user_id": "U0155J92A7Q",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "MEW6Z",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Thanks "
                            },
                            {
                                "type": "user",
                                "user_id": "UBS7QANF3"
                            },
                            {
                                "type": "text",
                                "text": ", will read that and check the results"
                            },
                            {
                                "type": "emoji",
                                "name": "eyes",
                                "unicode": "1f440"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U01DCR5PXDY",
        "type": "message",
        "ts": "1694197691.812809",
        "client_msg_id": "29f1ca37-15d7-4694-a4a1-a711487443fd",
        "text": "I'm curious, has anyone here fully implemented queue positioning and cross matching in their backtest system?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "903bc20cd9db",
            "image_72": "https:\/\/avatars.slack-edge.com\/2020-10-26\/1448127317798_903bc20cd9dba9a758e0_72.png",
            "first_name": "thambie1",
            "real_name": "thambie1",
            "display_name": "thambie1",
            "team": "T4G9NBD2M",
            "name": "thambie1",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1694197691.812809",
        "reply_count": 6,
        "reply_users_count": 3,
        "latest_reply": "1694325179.877879",
        "reply_users": [
            "UBS7QANF3",
            "U01DCR5PXDY",
            "U4H19D1D2"
        ],
        "replies": [
            {
                "user": "UBS7QANF3",
                "ts": "1694245103.622259"
            },
            {
                "user": "U01DCR5PXDY",
                "ts": "1694245164.898379"
            },
            {
                "user": "UBS7QANF3",
                "ts": "1694245177.786209"
            },
            {
                "user": "U01DCR5PXDY",
                "ts": "1694267854.712139"
            },
            {
                "user": "UBS7QANF3",
                "ts": "1694267936.989909"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1694325179.877879"
            }
        ],
        "is_locked": false,
        "subscribed": true,
        "last_read": "1694325179.877879",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "sfQJ",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I'm curious, has anyone here fully implemented queue positioning and cross matching in their backtest system?"
                            }
                        ]
                    }
                ]
            }
        ]
    }
]