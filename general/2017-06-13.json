[
    {
        "user": "U4H3EEV45",
        "type": "message",
        "ts": "1497359662.857566",
        "text": "<@U4H19D1D2> I mentioned a while ago about having issues with streaming connections that were stopping unexpectedly but weren't throwing an exception - may have found the issue",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "ga8143e60fb6",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/ea8143e60fb603cad63a14bfd181f72d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png",
            "first_name": "Aaron",
            "real_name": "Aaron Berk",
            "display_name": "agberk",
            "team": "T4G9NBD2M",
            "name": "agberk",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "SPi",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "user",
                                "user_id": "U4H19D1D2"
                            },
                            {
                                "type": "text",
                                "text": " I mentioned a while ago about having issues with streaming connections that were stopping unexpectedly but weren't throwing an exception - may have found the issue"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H3EEV45",
        "type": "message",
        "ts": "1497359789.898406",
        "text": "I attached to one of the hung processes with <https:\/\/pyrasite.readthedocs.io\/en\/latest\/> and on the _socket it had the following field set:",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "ga8143e60fb6",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/ea8143e60fb603cad63a14bfd181f72d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png",
            "first_name": "Aaron",
            "real_name": "Aaron Berk",
            "display_name": "agberk",
            "team": "T4G9NBD2M",
            "name": "agberk",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "BzdsJ",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I attached to one of the hung processes with "
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/pyrasite.readthedocs.io\/en\/latest\/"
                            },
                            {
                                "type": "text",
                                "text": " and on the _socket it had the following field set:"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H3EEV45",
        "type": "message",
        "ts": "1497359796.900643",
        "text": "```x: EOF occurred in violation of protocol (_ssl.c:1754)```",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "ga8143e60fb6",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/ea8143e60fb603cad63a14bfd181f72d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png",
            "first_name": "Aaron",
            "real_name": "Aaron Berk",
            "display_name": "agberk",
            "team": "T4G9NBD2M",
            "name": "agberk",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "ZvWK0",
                "elements": [
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "x: EOF occurred in violation of protocol (_ssl.c:1754)"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H3EEV45",
        "type": "message",
        "ts": "1497359835.913139",
        "text": "And the stack trace suggested it was here: <https:\/\/hg.python.org\/cpython\/file\/2.7\/Lib\/ssl.py#l660>",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "ga8143e60fb6",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/ea8143e60fb603cad63a14bfd181f72d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png",
            "first_name": "Aaron",
            "real_name": "Aaron Berk",
            "display_name": "agberk",
            "team": "T4G9NBD2M",
            "name": "agberk",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Ail",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "And the stack trace suggested it was here: "
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/hg.python.org\/cpython\/file\/2.7\/Lib\/ssl.py#l660"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H3EEV45",
        "type": "message",
        "ts": "1497359883.928689",
        "text": "This is running betfairlightweight v1.0.0 and was at this point: <https:\/\/github.com\/liampauling\/betfairlightweight\/blob\/1.0\/betfairlightweight\/streaming\/betfairstream.py#L173>",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "ga8143e60fb6",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/ea8143e60fb603cad63a14bfd181f72d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png",
            "first_name": "Aaron",
            "real_name": "Aaron Berk",
            "display_name": "agberk",
            "team": "T4G9NBD2M",
            "name": "agberk",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "attachments": [
            {
                "service_name": "GitHub",
                "title": "liampauling\/betfairlightweight",
                "title_link": "https:\/\/github.com\/liampauling\/betfairlightweight\/blob\/1.0\/betfairlightweight\/streaming\/betfairstream.py#L173",
                "text": "betfairlightweight - Lightweight python wrapper for Betfair API-NG (with streaming)",
                "fallback": "GitHub: liampauling\/betfairlightweight",
                "from_url": "https:\/\/github.com\/liampauling\/betfairlightweight\/blob\/1.0\/betfairlightweight\/streaming\/betfairstream.py#L173",
                "thumb_url": "https:\/\/avatars0.githubusercontent.com\/u\/12016537?v=3&s=400",
                "thumb_width": 250,
                "thumb_height": 250,
                "service_icon": "https:\/\/a.slack-edge.com\/bfaba\/img\/unfurl_icons\/github.png",
                "id": 1
            }
        ],
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "CgC",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "This is running betfairlightweight v1.0.0 and was at this point: "
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/github.com\/liampauling\/betfairlightweight\/blob\/1.0\/betfairlightweight\/streaming\/betfairstream.py#L173"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H3EEV45",
        "type": "message",
        "ts": "1497359960.953616",
        "text": "working hypothesis is that one of these \"ragged\" EOFs get sent, but because the default in ssl.py is to ignore it (not sure why - apparently because a load of sites\/servers close connections uncleanly?) it catches it and returns something",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "ga8143e60fb6",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/ea8143e60fb603cad63a14bfd181f72d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png",
            "first_name": "Aaron",
            "real_name": "Aaron Berk",
            "display_name": "agberk",
            "team": "T4G9NBD2M",
            "name": "agberk",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "bBm",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "working hypothesis is that one of these \"ragged\" EOFs get sent, but because the default in ssl.py is to ignore it (not sure why - apparently because a load of sites\/servers close connections uncleanly?) it catches it and returns something"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H3EEV45",
        "type": "message",
        "ts": "1497360050.983617",
        "text": "`part` is `b''` in the linked betfairlightweight code now and so it just proceeds as normal, comes back round for the next loop drops into recv and an underlying read in ssl.py which blocks and will never get anything because the receiving of the EOF means the connection is closed I think?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "ga8143e60fb6",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/ea8143e60fb603cad63a14bfd181f72d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png",
            "first_name": "Aaron",
            "real_name": "Aaron Berk",
            "display_name": "agberk",
            "team": "T4G9NBD2M",
            "name": "agberk",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "pwtq",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "part",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " is "
                            },
                            {
                                "type": "text",
                                "text": "b''",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " in the linked betfairlightweight code now and so it just proceeds as normal, comes back round for the next loop drops into recv and an underlying read in ssl.py which blocks and will never get anything because the receiving of the EOF means the connection is closed I think?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H3EEV45",
        "type": "message",
        "ts": "1497360094.997842",
        "text": "I've opened a ticket with BDP asking them to look at a specific connectionId where this has happened to see if they can tell me how it was closed and whether there was some error or whatever",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "ga8143e60fb6",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/ea8143e60fb603cad63a14bfd181f72d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png",
            "first_name": "Aaron",
            "real_name": "Aaron Berk",
            "display_name": "agberk",
            "team": "T4G9NBD2M",
            "name": "agberk",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Cqy+F",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I've opened a ticket with BDP asking them to look at a specific connectionId where this has happened to see if they can tell me how it was closed and whether there was some error or whatever"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H3EEV45",
        "type": "message",
        "ts": "1497360179.025752",
        "text": "I'm also going to try setting the field on the socket `suppress_ragged_eofs` to False and run my code - if that's the issue then I should expect to see these exceptions get raised in my logs following by an automatic restart which my code takes care of",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "ga8143e60fb6",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/ea8143e60fb603cad63a14bfd181f72d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png",
            "first_name": "Aaron",
            "real_name": "Aaron Berk",
            "display_name": "agberk",
            "team": "T4G9NBD2M",
            "name": "agberk",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "kZj=5",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I'm also going to try setting the field on the socket "
                            },
                            {
                                "type": "text",
                                "text": "suppress_ragged_eofs",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " to False and run my code - if that's the issue then I should expect to see these exceptions get raised in my logs following by an automatic restart which my code takes care of"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H3EEV45",
        "type": "message",
        "ts": "1497360304.067833",
        "text": "If that is indeed the issue then the solution might be either to change that suppress_ragged_eofs flag, or maybe to take some different action like throwing an exception if part is empty - though I'm not too sure whether that happens a lot anyway? Or if that can only happen if a ragged EOF comes through",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "ga8143e60fb6",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/ea8143e60fb603cad63a14bfd181f72d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png",
            "first_name": "Aaron",
            "real_name": "Aaron Berk",
            "display_name": "agberk",
            "team": "T4G9NBD2M",
            "name": "agberk",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "AA+D",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "If that is indeed the issue then the solution might be either to change that suppress_ragged_eofs flag, or maybe to take some different action like throwing an exception if part is empty - though I'm not too sure whether that happens a lot anyway? Or if that can only happen if a ragged EOF comes through"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H3EEV45",
        "type": "message",
        "ts": "1497360358.086235",
        "text": "The docstring in ssl.py does say \"\"\"Read up to LEN bytes and return them.\n\n        Return zero-length string on EOF.\"\"\"",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "ga8143e60fb6",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/ea8143e60fb603cad63a14bfd181f72d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png",
            "first_name": "Aaron",
            "real_name": "Aaron Berk",
            "display_name": "agberk",
            "team": "T4G9NBD2M",
            "name": "agberk",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "U3XG9",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "The docstring in ssl.py does say \"\"\"Read up to LEN bytes and return them.\n\n        Return zero-length string on EOF.\"\"\""
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H3EEV45",
        "type": "message",
        "ts": "1497360389.096739",
        "text": "So I would guess 0 length string implies EOF",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "ga8143e60fb6",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/ea8143e60fb603cad63a14bfd181f72d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png",
            "first_name": "Aaron",
            "real_name": "Aaron Berk",
            "display_name": "agberk",
            "team": "T4G9NBD2M",
            "name": "agberk",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "11Ib",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "So I would guess 0 length string implies EOF"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H3EEV45",
        "type": "message",
        "ts": "1497360483.128792",
        "text": "The next question is whether EOF on an SSL socket means it should be closed?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "ga8143e60fb6",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/ea8143e60fb603cad63a14bfd181f72d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png",
            "first_name": "Aaron",
            "real_name": "Aaron Berk",
            "display_name": "agberk",
            "team": "T4G9NBD2M",
            "name": "agberk",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "ybR",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "The next question is whether EOF on an SSL socket means it should be closed?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1497360654.189850",
        "text": "Hmm interesting, I don't think I have encounter this or maybe I have but my error catching is hiding it. Will be interesting to see what betfair say along with your test. Would an alternative of trying to catch all potential socket errors at .recv work?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "zRE5",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Hmm interesting, I don't think I have encounter this or maybe I have but my error catching is hiding it. Will be interesting to see what betfair say along with your test. Would an alternative of trying to catch all potential socket errors at .recv work?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H3EEV45",
        "type": "message",
        "ts": "1497360762.228598",
        "text": "If that `suppress_ragged_eofs` flag is set to True then there wouldn't be an exception to catch unfortunately",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "ga8143e60fb6",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/ea8143e60fb603cad63a14bfd181f72d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png",
            "first_name": "Aaron",
            "real_name": "Aaron Berk",
            "display_name": "agberk",
            "team": "T4G9NBD2M",
            "name": "agberk",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "\/tM",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "If that "
                            },
                            {
                                "type": "text",
                                "text": "suppress_ragged_eofs",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " flag is set to True then there wouldn't be an exception to catch unfortunately"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1497360906.279224",
        "text": "If EOF means that betfair has closed the connection then hiding it will cause an issue no? Most likely a timeout error ",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "aml",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "If EOF means that betfair has closed the connection then hiding it will cause an issue no? Most likely a timeout error"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H3EEV45",
        "type": "message",
        "ts": "1497360947.293871",
        "text": "Yup - that flag is set to True by default in ssl.py",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "ga8143e60fb6",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/ea8143e60fb603cad63a14bfd181f72d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png",
            "first_name": "Aaron",
            "real_name": "Aaron Berk",
            "display_name": "agberk",
            "team": "T4G9NBD2M",
            "name": "agberk",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "DBNU",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Yup - that flag is set to True by default in ssl.py"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H3EEV45",
        "type": "message",
        "ts": "1497361147.364113",
        "text": "I don't quite understand the point of the flag - because if EOF means your connection is done and it's suppressing it... then is just the point of it to stop an exception being thrown? As in if it wasn't there, whenever the connection got closed while you were receiving you'd get an exception, but this way you'll just get a 0 length string and its down to the user to take some action if the return is a 0 length string because they should know that's what it means? And it stops them from having to catch an exception?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "ga8143e60fb6",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/ea8143e60fb603cad63a14bfd181f72d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png",
            "first_name": "Aaron",
            "real_name": "Aaron Berk",
            "display_name": "agberk",
            "team": "T4G9NBD2M",
            "name": "agberk",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "dtp",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I don't quite understand the point of the flag - because if EOF means your connection is done and it's suppressing it... then is just the point of it to stop an exception being thrown? As in if it wasn't there, whenever the connection got closed while you were receiving you'd get an exception, but this way you'll just get a 0 length string and its down to the user to take some action if the return is a 0 length string because they should know that's what it means? And it stops them from having to catch an exception?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H3EEV45",
        "type": "message",
        "ts": "1497361189.379585",
        "text": "It seems like a pretty serious result that's sort of being swept under the rug lol",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "ga8143e60fb6",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/ea8143e60fb603cad63a14bfd181f72d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png",
            "first_name": "Aaron",
            "real_name": "Aaron Berk",
            "display_name": "agberk",
            "team": "T4G9NBD2M",
            "name": "agberk",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Of0t",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "It seems like a pretty serious result that's sort of being swept under the rug lol"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H3EEV45",
        "type": "message",
        "ts": "1497361198.382620",
        "text": "Which is why I'm not sure I fully trust my analysis of it",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "ga8143e60fb6",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/ea8143e60fb603cad63a14bfd181f72d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png",
            "first_name": "Aaron",
            "real_name": "Aaron Berk",
            "display_name": "agberk",
            "team": "T4G9NBD2M",
            "name": "agberk",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "wTnuT",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Which is why I'm not sure I fully trust my analysis of it"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H3EEV45",
        "type": "message",
        "ts": "1497361266.407227",
        "text": "This also happens fairly regularly for us - maybe once or more a week? They are long running processes but we've also had it happen within like an hour of restarting, and other times it takes days",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "ga8143e60fb6",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/ea8143e60fb603cad63a14bfd181f72d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png",
            "first_name": "Aaron",
            "real_name": "Aaron Berk",
            "display_name": "agberk",
            "team": "T4G9NBD2M",
            "name": "agberk",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "l5l=E",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "This also happens fairly regularly for us - maybe once or more a week? They are long running processes but we've also had it happen within like an hour of restarting, and other times it takes days"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H3EEV45",
        "type": "message",
        "ts": "1497361287.415315",
        "text": "Which also means it's odd that someone else hasn't experienced it",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "ga8143e60fb6",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/ea8143e60fb603cad63a14bfd181f72d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png",
            "first_name": "Aaron",
            "real_name": "Aaron Berk",
            "display_name": "agberk",
            "team": "T4G9NBD2M",
            "name": "agberk",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "N1P",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Which also means it's odd that someone else hasn't experienced it"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1497361403.458026",
        "text": "Sometimes it's as though there are only a handful of people actually using the api. I'm still waiting on an answer about cancel requests not having an error code sometimes ",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "mZfUX",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Sometimes it's as though there are only a handful of people actually using the api. I'm still waiting on an answer about cancel requests not having an error code sometimes"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H3EEV45",
        "type": "message",
        "ts": "1497361451.475186",
        "text": "lol wouldn't surprise me actually",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "ga8143e60fb6",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/ea8143e60fb603cad63a14bfd181f72d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png",
            "first_name": "Aaron",
            "real_name": "Aaron Berk",
            "display_name": "agberk",
            "team": "T4G9NBD2M",
            "name": "agberk",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "B\/V64",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "lol wouldn't surprise me actually"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1497361642.546590",
        "text": "I guess we need to confirm lightweight is creating the correct sort of socket, it's been a while since I wrote the connect code so I don't know why I choose the settings present ",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "nsPE",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I guess we need to confirm lightweight is creating the correct sort of socket, it's been a while since I wrote the connect code so I don't know why I choose the settings present"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1497361847.623255",
        "text": "The C sharp example code can be found here ",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "wVSH",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "The C sharp example code can be found here"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1497361851.624694",
        "text": "<https:\/\/github.com\/betfair\/stream-api-sample-code\/blob\/master\/csharp\/Betfair.ESAClient\/Betfair.ESAClient\/Client.cs>",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "attachments": [
            {
                "service_name": "GitHub",
                "title": "betfair\/stream-api-sample-code",
                "title_link": "https:\/\/github.com\/betfair\/stream-api-sample-code\/blob\/master\/csharp\/Betfair.ESAClient\/Betfair.ESAClient\/Client.cs",
                "text": "stream-api-sample-code - Sample code for the exchange stream api which provide real time market and order data from betfair.",
                "fallback": "GitHub: betfair\/stream-api-sample-code",
                "from_url": "https:\/\/github.com\/betfair\/stream-api-sample-code\/blob\/master\/csharp\/Betfair.ESAClient\/Betfair.ESAClient\/Client.cs",
                "thumb_url": "https:\/\/avatars1.githubusercontent.com\/u\/1446226?v=3&s=400",
                "thumb_width": 250,
                "thumb_height": 250,
                "service_icon": "https:\/\/a.slack-edge.com\/bfaba\/img\/unfurl_icons\/github.png",
                "id": 1
            }
        ],
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Z\/2",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "link",
                                "url": "https:\/\/github.com\/betfair\/stream-api-sample-code\/blob\/master\/csharp\/Betfair.ESAClient\/Betfair.ESAClient\/Client.cs"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U5D4ZBEAG",
        "type": "message",
        "ts": "1497361989.676007",
        "text": "```\/\/ Create an SSL stream that will close the client's stream.\nSslStream sslStream = new SslStream(stream, false);```",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g147ed91a398",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/7147ed91a39866d363a9cfa66ef64cb8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png",
            "first_name": "",
            "real_name": "seaders",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "seaders",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Lq1",
                "elements": [
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "\/\/ Create an SSL stream that will close the client's stream.\nSslStream sslStream = new SslStream(stream, false);"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U5D4ZBEAG",
        "type": "message",
        "ts": "1497362000.680299",
        "text": "<https:\/\/msdn.microsoft.com\/en-us\/library\/6edd48se(v=vs.110).aspx>\n```public SslStream(\n\tStream innerStream,\n\tbool leaveInnerStreamOpen\n)```",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g147ed91a398",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/7147ed91a39866d363a9cfa66ef64cb8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png",
            "first_name": "",
            "real_name": "seaders",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "seaders",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "nzO9",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "link",
                                "url": "https:\/\/msdn.microsoft.com\/en-us\/library\/6edd48se(v=vs.110).aspx"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "public SslStream(\n    Stream innerStream,\n    bool leaveInnerStreamOpen\n)"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U5D4ZBEAG",
        "type": "message",
        "ts": "1497362006.682665",
        "text": "```leaveInnerStreamOpen\n    Type: System.Boolean\n\n    A Boolean value that indicates the closure behavior of the Stream object used by the SslStream for sending and receiving data. This parameter indicates if the inner stream is left open.```",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g147ed91a398",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/7147ed91a39866d363a9cfa66ef64cb8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png",
            "first_name": "",
            "real_name": "seaders",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "seaders",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "nYBt",
                "elements": [
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "leaveInnerStreamOpen\n    Type: System.Boolean\n\n    A Boolean value that indicates the closure behavior of the Stream object used by the SslStream for sending and receiving data. This parameter indicates if the inner stream is left open."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U5D4ZBEAG",
        "type": "message",
        "ts": "1497362015.685900",
        "text": "doesn't seem anything too special from them, either",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g147ed91a398",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/7147ed91a39866d363a9cfa66ef64cb8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png",
            "first_name": "",
            "real_name": "seaders",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "seaders",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "rVy",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "doesn't seem anything too special from them, either"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H3EEV45",
        "type": "message",
        "ts": "1497362150.736976",
        "text": "Yeah I think the socket creation is fine; remains to be seen whether setting this flag to False should be done or not",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "ga8143e60fb6",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/ea8143e60fb603cad63a14bfd181f72d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png",
            "first_name": "Aaron",
            "real_name": "Aaron Berk",
            "display_name": "agberk",
            "team": "T4G9NBD2M",
            "name": "agberk",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "H6LL",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Yeah I think the socket creation is fine; remains to be seen whether setting this flag to False should be done or not"
                            }
                        ]
                    }
                ]
            }
        ]
    }
]