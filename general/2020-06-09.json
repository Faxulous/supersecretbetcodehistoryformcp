[
    {
        "user": "UN1497LJC",
        "type": "message",
        "ts": "1591691250.366000",
        "client_msg_id": "575e2b62-1bc1-47ef-8914-ad7b0950c947",
        "text": "Could the code be refactored further, so that Simulated.size_remaining and Simulated.average_price_matched are calculated when Simulated.matched is updated? Calls to size_matched are still taking up 28% of the runtime of my backtests.\n\nI haven't tested the refactoring, but could benchmark it this evening if you don't think it'll be an issue.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "ga740a9a5a57",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/1a740a9a5a57633755157e17ebe96b27.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png",
            "first_name": "",
            "real_name": "JonJonJon",
            "display_name": "JonJonJon",
            "team": "T4G9NBD2M",
            "name": "edgetrading2",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1591647089.359700",
        "parent_user_id": "UN1497LJC",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "jzqxB",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Could the code be refactored further, so that Simulated.size_remaining and Simulated.average_price_matched are calculated when Simulated.matched is updated? Calls to size_matched are still taking up 28% of the runtime of my backtests.\n\nI haven't tested the refactoring, but could benchmark it this evening if you don't think it'll be an issue."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1591691522.366200",
        "client_msg_id": "79c69d9b-2826-4201-96cd-4be4152d648b",
        "text": "I am aware it is a bottleneck, an LRUCache might be simpler to start off with <https:\/\/github.com\/liampauling\/flumine\/blob\/master\/flumine\/utils.py#L134>",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1591647089.359700",
        "parent_user_id": "UN1497LJC",
        "attachments": [
            {
                "fallback": "[liampauling\/flumine] flumine\/utils.py:134",
                "text": "```\n# todo LRU cache?\n```",
                "title": "flumine\/utils.py:134",
                "footer": "<https:\/\/github.com\/liampauling\/flumine|liampauling\/flumine>",
                "id": 1,
                "title_link": "https:\/\/github.com\/liampauling\/flumine\/blob\/master\/flumine\/utils.py#L134",
                "footer_icon": "https:\/\/github.githubassets.com\/favicon.ico",
                "color": "24292f",
                "mrkdwn_in": [
                    "text"
                ],
                "bot_id": "B01144Z0734",
                "app_unfurl_url": "https:\/\/github.com\/liampauling\/flumine\/blob\/master\/flumine\/utils.py#L134",
                "is_app_unfurl": true
            }
        ],
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "fZZh",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I am aware it is a bottleneck, an LRUCache might be simpler to start off with "
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/github.com\/liampauling\/flumine\/blob\/master\/flumine\/utils.py#L134"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1591691550.366500",
        "client_msg_id": "7cec926b-15dc-4f35-ba11-e62117b484e4",
        "text": "Would certainly be interested in any profiling as it is dependant on strategies so don't want to optimise just for my use case",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1591647089.359700",
        "parent_user_id": "UN1497LJC",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "c0n9",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Would certainly be interested in any profiling as it is dependant on strategies so don't want to optimise just for my use case"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U013G3A29A5",
        "type": "message",
        "ts": "1591709226.369400",
        "client_msg_id": "5ad8b923-0792-47f0-9ef2-2b32aff9e61a",
        "text": "Thankyou Mo, you are very helpful.  Seems like a strange way to do it to me (from Betfair's perspective). I didn't realise Betfair had such a thing and I got a bit excited after seeing MartinAlley mention it....but not yet ready to try and apply it's use...now its on the todo list :slightly_smiling_face:",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g8026ff1e069",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/8026ff1e06918d1dd3f1ed309cf853b8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0017-72.png",
            "first_name": "",
            "real_name": "John Sheppard",
            "display_name": "John Sheppard",
            "team": "T4G9NBD2M",
            "name": "john.thomas.sheppard",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "kr3",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Thankyou Mo, you are very helpful.  Seems like a strange way to do it to me (from Betfair's perspective). I didn't realise Betfair had such a thing and I got a bit excited after seeing MartinAlley mention it....but not yet ready to try and apply it's use...now its on the todo list "
                            },
                            {
                                "type": "emoji",
                                "name": "slightly_smiling_face",
                                "unicode": "1f642"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UBS7QANF3",
        "type": "message",
        "ts": "1591709364.371200",
        "client_msg_id": "68dd0f7c-788b-4405-b6fe-cae8efaed02f",
        "text": "I am quite inexperienced when it comes to horse racing but my impression is that Betfair made a poor decision in the early days to treat each race meeting as an event rather than each race as an event and that's why it's such a faff to get data on a race by race basis, whether it is all markets for a given race, the race card or use the race status API",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gaaf844a4a90",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/eaaf844a4a905431d83430e563b077aa.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png",
            "first_name": "",
            "real_name": "Maurice Berk",
            "display_name": "Mo",
            "team": "T4G9NBD2M",
            "name": "maurice",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "R62",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I am quite inexperienced when it comes to horse racing but my impression is that Betfair made a poor decision in the early days to treat each race meeting as an event rather than each race as an event and that's why it's such a faff to get data on a race by race basis, whether it is all markets for a given race, the race card or use the race status API"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U013G3A29A5",
        "type": "message",
        "ts": "1591709617.371900",
        "client_msg_id": "03a0efd8-4af3-4b29-af80-166f7d2b4484",
        "text": "Well...they're still smarter than me :slightly_smiling_face:",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g8026ff1e069",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/8026ff1e06918d1dd3f1ed309cf853b8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0017-72.png",
            "first_name": "",
            "real_name": "John Sheppard",
            "display_name": "John Sheppard",
            "team": "T4G9NBD2M",
            "name": "john.thomas.sheppard",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "JEG5s",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Well...they're still smarter than me "
                            },
                            {
                                "type": "emoji",
                                "name": "slightly_smiling_face",
                                "unicode": "1f642"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1591710848.373200",
        "client_msg_id": "0254df73-04a9-47ef-ac39-28d3922d6db8",
        "text": "+ there is a lot of legacy data in there pointing to how they used to manage markets in the sportsbook which has been made even more confusing by the paddy power integration introducing another id for each market\/event",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "wTOG1",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "+ there is a lot of legacy data in there pointing to how they used to manage markets in the sportsbook which has been made even more confusing by the paddy power integration introducing another id for each market\/event"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1591730521.373700",
        "client_msg_id": "CDC66FFA-049D-4715-A6FD-A1B862F6F898",
        "text": "That PR looks great :+1: ",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1591647089.359700",
        "parent_user_id": "UN1497LJC",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "jhL",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "That PR looks great "
                            },
                            {
                                "type": "emoji",
                                "name": "+1",
                                "unicode": "1f44d"
                            },
                            {
                                "type": "text",
                                "text": " "
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UN1497LJC",
        "type": "message",
        "ts": "1591730539.373900",
        "client_msg_id": "167fc048-29f7-48ff-9d67-cac018cbcc34",
        "text": "Thanks Liam.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "ga740a9a5a57",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/1a740a9a5a57633755157e17ebe96b27.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png",
            "first_name": "",
            "real_name": "JonJonJon",
            "display_name": "JonJonJon",
            "team": "T4G9NBD2M",
            "name": "edgetrading2",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1591647089.359700",
        "parent_user_id": "UN1497LJC",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "A2Bj",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Thanks Liam."
                            }
                        ]
                    }
                ]
            }
        ]
    }
]