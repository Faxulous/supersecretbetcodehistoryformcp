[
    {
        "subtype": "thread_broadcast",
        "user": "U04NWADNCFR",
        "thread_ts": "1707518464.148039",
        "root": {
            "user": "U013PLN93AT",
            "type": "message",
            "ts": "1707518464.148039",
            "edited": {
                "user": "U013PLN93AT",
                "ts": "1707518505.000000"
            },
            "client_msg_id": "25b08caa-ec4f-4d8d-b33d-ebf6dfa1f89a",
            "text": "Can someone explain this behaviour to me? I've created a test strategy which places a single fill or kill order on a single market. It is a dead market with no updates. The order gets placed and then moves to `EXECUTION_COMPLETE` status. Nothing happens afterwards so I would expect no updates. However, Flumine keeps calling `process_orders` like mad for some reason, despite there being no changes in orders. The strategy is initialised with `streaming_timeout=None,` so it should not be down to `snap` being called on cache.\n``` Time                    | Source              |   Order count | Order status log\n-------------------------+---------------------+---------------+-----------------------------\n 2024-02-09 22:35:05,801 | process_market_book |             1 | Pending\n 2024-02-09 22:35:05,847 | process_orders      |             1 | Pending\n 2024-02-09 22:35:06,009 | process_orders      |             1 | Pending\n 2024-02-09 22:35:06,273 | process_orders      |             1 | Pending, Execution complete\n 2024-02-09 22:35:06,526 | process_orders      |             1 | Pending, Execution complete\n 2024-02-09 22:35:06,780 | process_orders      |             1 | Pending, Execution complete\n 2024-02-09 22:35:07,034 | process_orders      |             1 | Pending, Execution complete\n 2024-02-09 22:35:07,287 | process_orders      |             1 | Pending, Execution complete\n 2024-02-09 22:35:07,538 | process_orders      |             1 | Pending, Execution complete\n 2024-02-09 22:35:07,790 | process_orders      |             1 | Pending, Execution complete\n 2024-02-09 22:35:08,044 | process_orders      |             1 | Pending, Execution complete\n 2024-02-09 22:35:08,298 | process_orders      |             1 | Pending, Execution complete\n 2024-02-09 22:35:08,549 | process_orders      |             1 | Pending, Execution complete\n 2024-02-09 22:35:08,799 | process_orders      |             1 | Pending, Execution complete\n 2024-02-09 22:35:09,051 | process_orders      |             1 | Pending, Execution complete```",
            "team": "T4G9NBD2M",
            "thread_ts": "1707518464.148039",
            "reply_count": 2,
            "reply_users_count": 2,
            "latest_reply": "1707696418.296139",
            "reply_users": [
                "U04NWADNCFR",
                "U013PLN93AT"
            ],
            "replies": [
                {
                    "user": "U04NWADNCFR",
                    "ts": "1707561583.392119"
                },
                {
                    "user": "U013PLN93AT",
                    "ts": "1707696418.296139"
                }
            ],
            "is_locked": false,
            "subscribed": false,
            "blocks": [
                {
                    "type": "rich_text",
                    "block_id": "q4h8Y",
                    "elements": [
                        {
                            "type": "rich_text_section",
                            "elements": [
                                {
                                    "type": "text",
                                    "text": "Can someone explain this behaviour to me? I've created a test strategy which places a single fill or kill order on a single market. It is a dead market with no updates. The order gets placed and then moves to "
                                },
                                {
                                    "type": "text",
                                    "text": "EXECUTION_COMPLETE",
                                    "style": {
                                        "code": true
                                    }
                                },
                                {
                                    "type": "text",
                                    "text": " status. Nothing happens afterwards so I would expect no updates. However, Flumine keeps calling "
                                },
                                {
                                    "type": "text",
                                    "text": "process_orders",
                                    "style": {
                                        "code": true
                                    }
                                },
                                {
                                    "type": "text",
                                    "text": " like mad for some reason, despite there being no changes in orders. The strategy is initialised with "
                                },
                                {
                                    "type": "text",
                                    "text": "streaming_timeout=None,",
                                    "style": {
                                        "code": true
                                    }
                                },
                                {
                                    "type": "text",
                                    "text": " so it should not be down to "
                                },
                                {
                                    "type": "text",
                                    "text": "snap",
                                    "style": {
                                        "code": true
                                    }
                                },
                                {
                                    "type": "text",
                                    "text": " being called on cache.\n"
                                }
                            ]
                        },
                        {
                            "type": "rich_text_preformatted",
                            "elements": [
                                {
                                    "type": "text",
                                    "text": " Time                    | Source              |   Order count | Order status log\n-------------------------+---------------------+---------------+-----------------------------\n 2024-02-09 22:35:05,801 | process_market_book |             1 | Pending\n 2024-02-09 22:35:05,847 | process_orders      |             1 | Pending\n 2024-02-09 22:35:06,009 | process_orders      |             1 | Pending\n 2024-02-09 22:35:06,273 | process_orders      |             1 | Pending, Execution complete\n 2024-02-09 22:35:06,526 | process_orders      |             1 | Pending, Execution complete\n 2024-02-09 22:35:06,780 | process_orders      |             1 | Pending, Execution complete\n 2024-02-09 22:35:07,034 | process_orders      |             1 | Pending, Execution complete\n 2024-02-09 22:35:07,287 | process_orders      |             1 | Pending, Execution complete\n 2024-02-09 22:35:07,538 | process_orders      |             1 | Pending, Execution complete\n 2024-02-09 22:35:07,790 | process_orders      |             1 | Pending, Execution complete\n 2024-02-09 22:35:08,044 | process_orders      |             1 | Pending, Execution complete\n 2024-02-09 22:35:08,298 | process_orders      |             1 | Pending, Execution complete\n 2024-02-09 22:35:08,549 | process_orders      |             1 | Pending, Execution complete\n 2024-02-09 22:35:08,799 | process_orders      |             1 | Pending, Execution complete\n 2024-02-09 22:35:09,051 | process_orders      |             1 | Pending, Execution complete"
                                }
                            ],
                            "border": 0
                        }
                    ]
                }
            ]
        },
        "type": "message",
        "ts": "1707561583.392119",
        "client_msg_id": "d7a8261d-63dc-44b5-b378-4d211989638e",
        "text": "doesn't process_orders get called every 250ms anyway?",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "h16ex",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "doesn't process_orders get called every 250ms anyway?"
                            }
                        ]
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "+1",
                "users": [
                    "U013PLN93AT"
                ],
                "count": 1
            }
        ]
    },
    {
        "user": "U06J422BWCD",
        "type": "message",
        "ts": "1707564768.807389",
        "client_msg_id": "28D84B1C-B746-403D-8BF2-F189D0F25B56",
        "text": "Hey guys, I'm wanting to know if there is a way I can filter for markets that start less then 30 mins away using streaming_market_filter for implementation of my strategy using flumine? If not I notice that instead there is an argument in market_filter that allows me to do that and but can this be used when streaming with flumine? Also just generally, is flumine constanty updating the markets that fit the criteria in the market filter or is it just ran every minute or so?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g39be4fa9de3",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/39be4fa9de3ea186eb2080ab6f8221a5.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png",
            "first_name": "Ben",
            "real_name": "Ben Coleman",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "buster.coleman",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1707564768.807389",
        "reply_count": 4,
        "reply_users_count": 4,
        "latest_reply": "1707625544.361309",
        "reply_users": [
            "U04NWADNCFR",
            "UUE6E1LA1",
            "U9JHLMZB4",
            "U06J422BWCD"
        ],
        "replies": [
            {
                "user": "U04NWADNCFR",
                "ts": "1707566268.329749"
            },
            {
                "user": "UUE6E1LA1",
                "ts": "1707566276.729829"
            },
            {
                "user": "U9JHLMZB4",
                "ts": "1707570628.853289"
            },
            {
                "user": "U06J422BWCD",
                "ts": "1707625544.361309"
            }
        ],
        "is_locked": false,
        "subscribed": false,
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "mEFdX",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Hey guys, I'm wanting to know if there is a way I can filter for markets that start less then 30 mins away using streaming_market_filter for implementation of my strategy using flumine? If not I notice that instead there is an argument in market_filter that allows me to do that and but can this be used when streaming with flumine? Also just generally, is flumine constanty updating the markets that fit the criteria in the market filter or is it just ran every minute or so?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U04NWADNCFR",
        "type": "message",
        "ts": "1707566268.329749",
        "client_msg_id": "8708212b-a377-47e2-a2ff-5662edbbddcc",
        "text": "this goes against the way that streaming works - generally you would subscribe to the markets you are interested in and just ignore the updates until within 30 minutes of start time.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g3c4e33a28db",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/3c4e33a28dbfc1fe70799f8e243bf305.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png",
            "first_name": "Derek",
            "real_name": "Derek C",
            "display_name": "Derek C",
            "team": "T4G9NBD2M",
            "name": "dataexmachinazzzzz",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1707564768.807389",
        "parent_user_id": "U06J422BWCD",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Rsjar",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "this goes against the way that streaming works - generally you would subscribe to the markets you are interested in and just ignore the updates until within 30 minutes of start time."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UUE6E1LA1",
        "type": "message",
        "ts": "1707566276.729829",
        "client_msg_id": "48d59c69-2b4b-4804-8d6e-c32fb5c22138",
        "text": "The whole point of streaming is for you to pass a filter that is sent one time only - then anything that satisfies it comes through automatically when new markets get created (that also satisfy the filter).",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gf53cae45edd",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/f53cae45edd7f7b67bbe98819597612e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0017-72.png",
            "first_name": "",
            "real_name": "D C",
            "display_name": "D C",
            "team": "T4G9NBD2M",
            "name": "oddsvantage",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1707564768.807389",
        "parent_user_id": "U06J422BWCD",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "b\/PbH",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "The whole point of streaming is for you to pass a filter that is sent one time only - then anything that satisfies it comes through automatically when new markets get created (that also satisfy the filter)."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U9JHLMZB4",
        "type": "message",
        "ts": "1707570628.853289",
        "edited": {
            "user": "U9JHLMZB4",
            "ts": "1707570707.000000"
        },
        "client_msg_id": "4c196a24-809c-4d26-9114-eb06698fadb7",
        "text": "No, you can't use the market_filter for streaming. You have to use the streaming_market_filter. As the previous answers suggest, one-off API calls (market_filter) work in a fundamentally different way to streams (streaming_market_filter).\n\nThere is constant addition of new markets and removal of old markets from the stream, but this is done by Betfair rather than Flumine. Flumine's role is to initiate the stream, keep it open and deliver the results (market books or orders, depending on the type of stream) to your strategies.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g951ddcb43e7",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/3951ddcb43e788a387d6daf330dad5ca.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png",
            "first_name": "",
            "real_name": "Peter Coles",
            "display_name": "Peter",
            "team": "T4G9NBD2M",
            "name": "peter",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1707564768.807389",
        "parent_user_id": "U06J422BWCD",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "8pLqk",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "No, you can't use the market_filter for streaming. You have to use the streaming_market_filter. As the previous answers suggest, one-off API calls (market_filter) work in a fundamentally different way to streams (streaming_market_filter).\n\nThere is constant addition of new markets and removal of old markets from the stream, but this is done by Betfair rather than Flumine. Flumine's role is to initiate the stream, keep it open and deliver the results (market books or orders, depending on the type of stream) to your strategies."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U06J422BWCD",
        "type": "message",
        "ts": "1707625544.361309",
        "client_msg_id": "1912CCBD-7387-4968-B2ED-B3FCFA7D69DC",
        "text": "Cheers thanks guys",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g39be4fa9de3",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/39be4fa9de3ea186eb2080ab6f8221a5.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png",
            "first_name": "Ben",
            "real_name": "Ben Coleman",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "buster.coleman",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1707564768.807389",
        "parent_user_id": "U06J422BWCD",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "rc4Gg",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Cheers thanks guys"
                            }
                        ]
                    }
                ]
            }
        ]
    }
]