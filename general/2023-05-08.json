[
    {
        "user": "U03N5G2T8S0",
        "type": "message",
        "ts": "1683530442.949269",
        "client_msg_id": "4e572961-580e-4b24-b794-a1ba66009947",
        "text": "Hi All - A couple of questions for those using Flumine for running backtests on their strategies and their automation needs:\n1. How close do your backtests compare with reality once you go live on a strategy?\n2. What are some of the factors that influence differences between backtests and live results?\n3. Any experiences \/ comparisons people want to share?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "ge1f468aaaa7",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/e1f468aaaa76b35cffe4aad049ab92ad.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0001-72.png",
            "first_name": "Nick",
            "real_name": "Nick S",
            "display_name": "Nick",
            "team": "T4G9NBD2M",
            "name": "nicksim1980",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1683530442.949269",
        "reply_count": 4,
        "reply_users_count": 3,
        "latest_reply": "1683536813.632389",
        "reply_users": [
            "U9JHLMZB4",
            "U4H19D1D2",
            "U03N5G2T8S0"
        ],
        "replies": [
            {
                "user": "U9JHLMZB4",
                "ts": "1683533447.214399"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1683535326.563769"
            },
            {
                "user": "U03N5G2T8S0",
                "ts": "1683536158.405539"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1683536813.632389"
            }
        ],
        "is_locked": false,
        "subscribed": true,
        "last_read": "1683536813.632389",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "RWD3b",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Hi All - A couple of questions for those using Flumine for running backtests on their strategies and their automation needs:\n1. How close do your backtests compare with reality once you go live on a strategy?\n2. What are some of the factors that influence differences between backtests and live results?\n3. Any experiences \/ comparisons people want to share?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U9JHLMZB4",
        "type": "message",
        "ts": "1683533447.214399",
        "edited": {
            "user": "U9JHLMZB4",
            "ts": "1683543488.000000"
        },
        "client_msg_id": "2c87e67c-666a-4962-bd4a-bf99b0525afc",
        "text": "Sort of need to answer question 2 first. The most important factor is whether you are making or taking a price. If you're taking then the results will probably be quite accurate, as long as you don't keep taking the same liquidity. However if you're making prices (offering) then there are two conflicting forces that can send your actual results in either direction (or cancel out).\n\nI've had strategies where the actual fill rate is less than that implied by backtesting, and those that are matched have a higher propensity to lose. This is known as adverse selection. Doesn't necessarily invalid the strategies, but makes them less profitable.\n\nOn the other hand some people here report seeing better results when running live than in backtesting, as their offers attract additional funds into the market giving them a better match rate.\n\nSo there's not a clear answer and by offering prices you are affecting the market in ways that backtesting can't anticipate. What that effect is will depend on how tight the spreads are how liquid the market is.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g951ddcb43e7",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/3951ddcb43e788a387d6daf330dad5ca.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png",
            "first_name": "",
            "real_name": "Peter Coles",
            "display_name": "Peter",
            "team": "T4G9NBD2M",
            "name": "peter",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1683530442.949269",
        "parent_user_id": "U03N5G2T8S0",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "iM22",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Sort of need to answer question 2 first. The most important factor is whether you are making or taking a price. If you're taking then the results will probably be quite accurate, as long as you don't keep taking the same liquidity. However if you're making prices (offering) then there are two conflicting forces that can send your actual results in either direction (or cancel out).\n\nI've had strategies where the actual fill rate is less than that implied by backtesting, and those that are matched have a higher propensity to lose. This is known as adverse selection. Doesn't necessarily invalid the strategies, but makes them less profitable.\n\nOn the other hand some people here report seeing better results when running live than in backtesting, as their offers attract additional funds into the market giving them a better match rate.\n\nSo there's not a clear answer and by offering prices you are affecting the market in ways that backtesting can't anticipate. What that effect is will depend on how tight the spreads are how liquid the market is."
                            }
                        ]
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "+1",
                "users": [
                    "U4H19D1D2",
                    "U03N5G2T8S0"
                ],
                "count": 2
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1683535326.563769",
        "client_msg_id": "42DD1DD2-0875-46F5-80EB-9A1C307383F2",
        "text": "To add there are some limitations in the <https:\/\/betcode-org.github.io\/flumine\/quickstart\/#simulation_1|docs> ",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1683530442.949269",
        "parent_user_id": "U03N5G2T8S0",
        "attachments": [
            {
                "from_url": "https:\/\/betcode-org.github.io\/flumine\/quickstart\/#simulation_1",
                "service_icon": "https:\/\/betcode-org.github.io\/flumine\/images\/logo.png",
                "id": 1,
                "original_url": "https:\/\/betcode-org.github.io\/flumine\/quickstart\/#simulation_1",
                "fallback": "QuickStart - flumine",
                "text": "Betting trading framework",
                "title": "QuickStart - flumine",
                "title_link": "https:\/\/betcode-org.github.io\/flumine\/quickstart\/#simulation_1",
                "service_name": "betcode-org.github.io"
            }
        ],
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "L3p",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "To add there are some limitations in the "
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/betcode-org.github.io\/flumine\/quickstart\/#simulation_1",
                                "text": "docs"
                            },
                            {
                                "type": "text",
                                "text": " "
                            }
                        ]
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "+1",
                "users": [
                    "U03N5G2T8S0"
                ],
                "count": 1
            }
        ]
    },
    {
        "user": "U03N5G2T8S0",
        "type": "message",
        "ts": "1683536158.405539",
        "client_msg_id": "2e392bef-12c9-4332-b25b-d9de6cef2eab",
        "text": "Thanks for your answer, all that makes sense. So I guess in general there is a need to be more circumspect of backtest results when making a price as opposed to taking a price.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "ge1f468aaaa7",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/e1f468aaaa76b35cffe4aad049ab92ad.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0001-72.png",
            "first_name": "Nick",
            "real_name": "Nick S",
            "display_name": "Nick",
            "team": "T4G9NBD2M",
            "name": "nicksim1980",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1683530442.949269",
        "parent_user_id": "U03N5G2T8S0",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "+W7+",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Thanks for your answer, all that makes sense. So I guess in general there is a need to be more circumspect of backtest results when making a price as opposed to taking a price."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1683536813.632389",
        "client_msg_id": "810c1d72-e3db-4834-8ca3-be38fcd57f51",
        "text": "Too many variables, best practice is to compare your simulations to the real world for each strategy\/marketType\/time of day etc, you will find it will be very consistent over the long run in terms of if it will under\/over state matching\/pnl",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1683530442.949269",
        "parent_user_id": "U03N5G2T8S0",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "kW4r",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Too many variables, best practice is to compare your simulations to the real world for each strategy\/marketType\/time of day etc, you will find it will be very consistent over the long run in terms of if it will under\/over state matching\/pnl"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U013K4VNB6D",
        "type": "message",
        "ts": "1683539343.892819",
        "client_msg_id": "8e836035-08f6-4a46-a9ef-5f13ef6b61cb",
        "text": "Thanks Dave.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gf188478b89f",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/f188478b89f4a5e2c5af9eafa0433712.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png",
            "first_name": "",
            "real_name": "Jeff Waters",
            "display_name": "Jeff Waters",
            "team": "T4G9NBD2M",
            "name": "watersjg",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1683497739.059879",
        "parent_user_id": "U013K4VNB6D",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "F+dQs",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Thanks Dave."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U0155J92A7Q",
        "type": "message",
        "ts": "1683543010.711359",
        "client_msg_id": "518337bd-6eb9-4f05-bbfc-21faddc153bd",
        "text": "Hey guys. Using flumine my Strategy behaves strangely when Latency is high. Could it happen that my <https:\/\/github.com\/betcode-org\/flumine\/blob\/master\/flumine\/markets\/blotter.py#L118|market.blotter.live_orders> gets updated but my <https:\/\/github.com\/betcode-org\/flumine\/blob\/master\/flumine\/markets\/blotter.py#L74|market.blotter.strategy_selection_orders> does not get updated? For example, in the event of an order filled, I'm thinking <https:\/\/github.com\/betcode-org\/flumine\/blob\/master\/flumine\/markets\/blotter.py#L118|market.blotter.live_orders> could change but <https:\/\/github.com\/betcode-org\/flumine\/blob\/master\/flumine\/markets\/blotter.py#L74|market.blotter.strategy_selection_orders> doesn't and therefore my exposure calculation is wrong.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gde8c5d51af5",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/de8c5d51af54a5ac7b501f416ddb262c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png",
            "first_name": "",
            "real_name": "Jorge",
            "display_name": "Jorge",
            "team": "T4G9NBD2M",
            "name": "jgarciam95",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1683543010.711359",
        "reply_count": 5,
        "reply_users_count": 3,
        "latest_reply": "1683629019.075279",
        "reply_users": [
            "U01MPC0GUK1",
            "U9JHLMZB4",
            "U4H19D1D2"
        ],
        "replies": [
            {
                "user": "U01MPC0GUK1",
                "ts": "1683569502.831729"
            },
            {
                "user": "U01MPC0GUK1",
                "ts": "1683569631.219979"
            },
            {
                "user": "U9JHLMZB4",
                "ts": "1683622510.280429"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1683625691.065009"
            },
            {
                "user": "U01MPC0GUK1",
                "ts": "1683629019.075279"
            }
        ],
        "is_locked": false,
        "subscribed": true,
        "last_read": "1683629076.000000",
        "attachments": [
            {
                "id": 1,
                "footer_icon": "https:\/\/slack.github.com\/static\/img\/favicon-neutral.png",
                "color": "24292f",
                "bot_id": "B021ZJYSBMW",
                "app_unfurl_url": "https:\/\/github.com\/betcode-org\/flumine\/blob\/master\/flumine\/markets\/blotter.py#L118",
                "is_app_unfurl": true,
                "app_id": "A01BP7R4KNY",
                "fallback": "<https:\/\/github.com\/betcode-org\/flumine\/blob\/master\/flumine\/markets\/blotter.py | blotter.py>",
                "title": "<https:\/\/github.com\/betcode-org\/flumine\/blob\/master\/flumine\/markets\/blotter.py | blotter.py>",
                "footer": "<https:\/\/github.com\/betcode-org\/flumine|betcode-org\/flumine>",
                "mrkdwn_in": [
                    "text"
                ]
            },
            {
                "id": 2,
                "footer_icon": "https:\/\/slack.github.com\/static\/img\/favicon-neutral.png",
                "color": "24292f",
                "bot_id": "B021ZJYSBMW",
                "app_unfurl_url": "https:\/\/github.com\/betcode-org\/flumine\/blob\/master\/flumine\/markets\/blotter.py#L74",
                "is_app_unfurl": true,
                "app_id": "A01BP7R4KNY",
                "fallback": "<https:\/\/github.com\/betcode-org\/flumine\/blob\/master\/flumine\/markets\/blotter.py | blotter.py>",
                "title": "<https:\/\/github.com\/betcode-org\/flumine\/blob\/master\/flumine\/markets\/blotter.py | blotter.py>",
                "footer": "<https:\/\/github.com\/betcode-org\/flumine|betcode-org\/flumine>",
                "mrkdwn_in": [
                    "text"
                ]
            }
        ],
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "s9cr",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Hey guys. Using flumine my Strategy behaves strangely when Latency is high. Could it happen that my "
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/github.com\/betcode-org\/flumine\/blob\/master\/flumine\/markets\/blotter.py#L118",
                                "text": "market.blotter.live_orders",
                                "unsafe": true
                            },
                            {
                                "type": "text",
                                "text": " gets updated but my "
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/github.com\/betcode-org\/flumine\/blob\/master\/flumine\/markets\/blotter.py#L74",
                                "text": "market.blotter.strategy_selection_orders",
                                "unsafe": true
                            },
                            {
                                "type": "text",
                                "text": " does not get updated? For example, in the event of an order filled, I'm thinking "
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/github.com\/betcode-org\/flumine\/blob\/master\/flumine\/markets\/blotter.py#L118",
                                "text": "market.blotter.live_orders",
                                "unsafe": true
                            },
                            {
                                "type": "text",
                                "text": " could change but "
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/github.com\/betcode-org\/flumine\/blob\/master\/flumine\/markets\/blotter.py#L74",
                                "text": "market.blotter.strategy_selection_orders",
                                "unsafe": true
                            },
                            {
                                "type": "text",
                                "text": " doesn't and therefore my exposure calculation is wrong."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U03N4QBJ0TV",
        "type": "message",
        "ts": "1683545118.275759",
        "client_msg_id": "cc8bd972-5f15-4735-a54b-3edbadd3226d",
        "text": "Yes. Thanks very much, its buried in there. Is there a way to call this data inside a Flumine strategy? I can't find it in the market object or subclasses of the market class.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g2c8538b47ad",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/2c8538b47ad4bed6facbb148134bb486.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0020-72.png",
            "first_name": "Trex44",
            "real_name": "Trex44",
            "display_name": "Trex44",
            "team": "T4G9NBD2M",
            "name": "c.s.mpharm",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1683223728.483679",
        "parent_user_id": "U03N4QBJ0TV",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "msBl",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Yes. Thanks very much, its buried in there. Is there a way to call this data inside a Flumine strategy? I can't find it in the market object or subclasses of the market class."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1683545304.229669",
        "client_msg_id": "816E842C-5061-466B-8811-0DA8512E6B32",
        "text": "Ideally you set it up in a worker similar to <https:\/\/github.com\/betcode-org\/flumine\/blob\/master\/examples\/workers\/inplayservice.py|this> as imagine you will want it called periodically",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1683223728.483679",
        "parent_user_id": "U03N4QBJ0TV",
        "attachments": [
            {
                "id": 1,
                "footer_icon": "https:\/\/slack.github.com\/static\/img\/favicon-neutral.png",
                "color": "24292f",
                "bot_id": "B021ZJYSBMW",
                "app_unfurl_url": "https:\/\/github.com\/betcode-org\/flumine\/blob\/master\/examples\/workers\/inplayservice.py",
                "is_app_unfurl": true,
                "app_id": "A01BP7R4KNY",
                "fallback": "<https:\/\/github.com\/betcode-org\/flumine\/blob\/master\/examples\/workers\/inplayservice.py | inplayservice.py>",
                "text": "```\nimport logging\nfrom flumine.utils import get_event_ids\nfrom flumine.events.events import CustomEvent\n\nlogger = logging.getLogger(__name__)\n\n\"\"\"\nSee examples\/tennisexample.py in how\nto use this worker for betting.\n\"\"\"\n\n\ndef poll_in_play_service(context: dict, flumine, event_type_id: str) -> None:\n    client = flumine.clients.get_betfair_default()\n    event_ids = get_event_ids(flumine.markets, event_type_id=event_type_id)\n    for event_id in event_ids:\n        response = client.betting_client.in_play_service.get_scores(\n            event_ids=[event_id]\n        )\n        if response is None:\n            logger.warning(\n                \"poll_in_play_service\",\n                extra={\"response\": response, \"event_id\": event_id},\n            )\n            continue\n\n        for score in response:\n            flumine.handler_queue.put(CustomEvent(score, callback))\n\n\ndef callback(flumine, event):\n    # update market context\n    score = event.event\n    for market in flumine.markets:\n        if market.event_id == str(score.event_id):\n            logger.debug(\n                \"Updated market {0} with event {1} scores data\".format(\n                    market.market_id, market.event_id\n                )\n            )\n            market.context[\"score\"] = score\n\n```",
                "title": "<https:\/\/github.com\/betcode-org\/flumine\/blob\/master\/examples\/workers\/inplayservice.py | inplayservice.py>",
                "footer": "<https:\/\/github.com\/betcode-org\/flumine|betcode-org\/flumine>",
                "mrkdwn_in": [
                    "text"
                ]
            }
        ],
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "2qh",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Ideally you set it up in a worker similar to "
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/github.com\/betcode-org\/flumine\/blob\/master\/examples\/workers\/inplayservice.py",
                                "text": "this"
                            },
                            {
                                "type": "text",
                                "text": " as imagine you will want it called periodically"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U03N4QBJ0TV",
        "type": "message",
        "ts": "1683545638.691179",
        "edited": {
            "user": "U03N4QBJ0TV",
            "ts": "1683545649.000000"
        },
        "client_msg_id": "f34c9238-5c3b-489c-b01a-56786ad6bdeb",
        "text": "Thanks Liam. I will read up on it and see if I can get my head around it. I just want to filter markets of a certain group as they don't preform well in back tests.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g2c8538b47ad",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/2c8538b47ad4bed6facbb148134bb486.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0020-72.png",
            "first_name": "Trex44",
            "real_name": "Trex44",
            "display_name": "Trex44",
            "team": "T4G9NBD2M",
            "name": "c.s.mpharm",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1683223728.483679",
        "parent_user_id": "U03N4QBJ0TV",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "dpbNH",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Thanks Liam. I will read up on it and see if I can get my head around it. I just want to filter markets of a certain group as they don't preform well in back tests."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U03N4QBJ0TV",
        "type": "message",
        "ts": "1683546599.145729",
        "edited": {
            "user": "U03N4QBJ0TV",
            "ts": "1683546733.000000"
        },
        "client_msg_id": "225491dd-677b-4ec0-a962-c2585d90fed2",
        "text": "Ok wow. Didn't really understand workers before this. If I wanted to create something like a moving average for a runner in an event then I take it using a worker that passes the result to the market context would be the way to do this?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g2c8538b47ad",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/2c8538b47ad4bed6facbb148134bb486.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0020-72.png",
            "first_name": "Trex44",
            "real_name": "Trex44",
            "display_name": "Trex44",
            "team": "T4G9NBD2M",
            "name": "c.s.mpharm",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1683223728.483679",
        "parent_user_id": "U03N4QBJ0TV",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "4=Oqb",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Ok wow. Didn't really understand workers before this. If I wanted to create something like a moving average for a runner in an event then I take it using a worker that passes the result to the market context would be the way to do this?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1683547831.303909",
        "client_msg_id": "D8570E5C-2F4A-47C8-8222-B2C383D33298",
        "text": "Workers suit polling \/ long running process where as a moving average would need every MarketBook so suits being processed in a strategy and then stores in market context ",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1683223728.483679",
        "parent_user_id": "U03N4QBJ0TV",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "SdrpC",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Workers suit polling \/ long running process where as a moving average would need every MarketBook so suits being processed in a strategy and then stores in market context "
                            }
                        ]
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "+1",
                "users": [
                    "U03N4QBJ0TV"
                ],
                "count": 1
            }
        ]
    },
    {
        "user": "U01A5GVTBST",
        "type": "message",
        "ts": "1683557546.742579",
        "client_msg_id": "22b63230-1b50-4b23-ac04-542314dfcbc1",
        "text": "Has anyone had success incorporating the betdaq API or Smarkets API into flumine?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "2b9b6916d876",
            "image_72": "https:\/\/avatars.slack-edge.com\/2020-09-13\/1357224664949_2b9b6916d8763fd7e1bc_72.png",
            "first_name": "",
            "real_name": "Matthieu Labour",
            "display_name": "Matthieu Labour",
            "team": "T4G9NBD2M",
            "name": "matthieu.labour",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1682195219.158889",
        "parent_user_id": "U054DG3CZ6Z",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "z7\/e",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Has anyone had success incorporating the betdaq API or Smarkets API into flumine?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U01MPC0GUK1",
        "type": "message",
        "ts": "1683569502.831729",
        "client_msg_id": "d74d3862-65ea-4882-80b4-8deeb88e3144",
        "text": "I've seen strange things happen with strategy_selection_orders() not returning orders. I posted about it a month ago, but no one replied so I assumed it was just me (<https:\/\/betcode-org.slack.com\/archives\/C4H05ML2E\/p1679771428625779>)",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "3be8fa875ec4",
            "image_72": "https:\/\/avatars.slack-edge.com\/2021-02-15\/1752388211523_3be8fa875ec4866620ff_72.png",
            "first_name": "Beeblebrox",
            "real_name": "Beeblebrox",
            "display_name": "Beeblebrox",
            "team": "T4G9NBD2M",
            "name": "arch4672",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1683543010.711359",
        "parent_user_id": "U0155J92A7Q",
        "attachments": [
            {
                "from_url": "https:\/\/betcode-org.slack.com\/archives\/C4H05ML2E\/p1679771428625779",
                "ts": "1679771428.625779",
                "author_id": "U01MPC0GUK1",
                "channel_id": "C4H05ML2E",
                "channel_team": "T4G9NBD2M",
                "is_msg_unfurl": true,
                "is_thread_root_unfurl": true,
                "message_blocks": [
                    {
                        "team": "T4G9NBD2M",
                        "channel": "C4H05ML2E",
                        "ts": "1679771428.625779",
                        "message": {
                            "blocks": [
                                {
                                    "type": "rich_text",
                                    "block_id": "fsT",
                                    "elements": [
                                        {
                                            "type": "rich_text_section",
                                            "elements": [
                                                {
                                                    "type": "text",
                                                    "text": "I'm having an issue with the blotter function strategy_selection_orders() sometimes not returning any orders even though there have definitely been some orders placed by a strategy on the market. The majority of the time it works, but sometimes it just stops working and I can't work out why. Has anyone else had similar issues? For a bit of context I'm using it for a strategy that places bets on football markets from 12 hours before kick off up to kick off."
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        }
                    }
                ],
                "id": 1,
                "original_url": "https:\/\/betcode-org.slack.com\/archives\/C4H05ML2E\/p1679771428625779",
                "fallback": "[March 25th, 2023 12:10 PM] arch4672: I'm having an issue with the blotter function strategy_selection_orders() sometimes not returning any orders even though there have definitely been some orders placed by a strategy on the market. The majority of the time it works, but sometimes it just stops working and I can't work out why. Has anyone else had similar issues? For a bit of context I'm using it for a strategy that places bets on football markets from 12 hours before kick off up to kick off.",
                "text": "I'm having an issue with the blotter function strategy_selection_orders() sometimes not returning any orders even though there have definitely been some orders placed by a strategy on the market. The majority of the time it works, but sometimes it just stops working and I can't work out why. Has anyone else had similar issues? For a bit of context I'm using it for a strategy that places bets on football markets from 12 hours before kick off up to kick off.",
                "author_name": "Beeblebrox",
                "author_link": "https:\/\/betcode-org.slack.com\/team\/U01MPC0GUK1",
                "author_icon": "https:\/\/avatars.slack-edge.com\/2021-02-15\/1752388211523_3be8fa875ec4866620ff_48.png",
                "author_subname": "Beeblebrox",
                "mrkdwn_in": [
                    "text"
                ],
                "footer": "Thread in Slack conversation"
            }
        ],
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "3BQZ3",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I've seen strange things happen with strategy_selection_orders() not returning orders. I posted about it a month ago, but no one replied so I assumed it was just me ("
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/betcode-org.slack.com\/archives\/C4H05ML2E\/p1679771428625779"
                            },
                            {
                                "type": "text",
                                "text": ")"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U01MPC0GUK1",
        "type": "message",
        "ts": "1683569631.219979",
        "client_msg_id": "2f7474d3-47e5-4bfb-a87d-33606446c17a",
        "text": "I couldn't work out what was causing the issue though, but it tends to go awry on weekends when there's more markets. The only way I've found around it is to stop and restart the bot (with the middleware for repopulating the blotter with execution complete orders) and then it all seems to work again.... until the next week.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "3be8fa875ec4",
            "image_72": "https:\/\/avatars.slack-edge.com\/2021-02-15\/1752388211523_3be8fa875ec4866620ff_72.png",
            "first_name": "Beeblebrox",
            "real_name": "Beeblebrox",
            "display_name": "Beeblebrox",
            "team": "T4G9NBD2M",
            "name": "arch4672",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1683543010.711359",
        "parent_user_id": "U0155J92A7Q",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "sKHY",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I couldn't work out what was causing the issue though, but it tends to go awry on weekends when there's more markets. The only way I've found around it is to stop and restart the bot (with the middleware for repopulating the blotter with execution complete orders) and then it all seems to work again.... until the next week."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U04LPHL9AFP",
        "type": "message",
        "ts": "1683593145.161829",
        "client_msg_id": "392a9235-b4c0-4155-890f-1c33b6e58d99",
        "text": "Hello! I'm using the following filters to place bets but want the bet to be placed normally and if partially filled I want it to automatically cancel after 5 seconds, what filters should I change. I tried FILL_OR_KILL but that doesn't work for me as I want it to stay for a few seconds instead of instantly cancel. I'm passing the constant CANCELLATION_TIME to the function but I'm unsure if it's actually doing anything.\n\n# Define a limit order filter with time_in_force and min_fill_size\n        limit_order_filter = betfairlightweight.filters.limit_order(\n            size=order_size,\n            price=order_price,\n            persistence_type='LAPSE'\n        )\n\n        # Define an instructions filter\n        instructions_filter = betfairlightweight.filters.place_instruction(\n            selection_id=str(bet_object.selection_id),\n            order_type=\"LIMIT\",\n            side=\"BACK\",\n            limit_order=limit_order_filter\n        )\n\n     bet_thread = threading.Thread(\n            target= bfl_trading.betting.place_orders,\n            args=(\n                str(bet_object.match.market_id),\n                [instructions_filter],\n                CANCELLATION_TIME,\n            ),\n        )\n        # Start the bet placement thread\n        bet_thread.start()",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "3561d3f8545a",
            "image_72": "https:\/\/avatars.slack-edge.com\/2023-01-26\/4709009100916_3561d3f8545af07d8b92_72.png",
            "first_name": "Jose",
            "real_name": "Jose Maquia",
            "display_name": "Jose Maquia",
            "team": "T4G9NBD2M",
            "name": "eeseljose",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1683593145.161829",
        "reply_count": 11,
        "reply_users_count": 3,
        "latest_reply": "1683643138.749699",
        "reply_users": [
            "U4H19D1D2",
            "U04J6LUGCFM",
            "U04LPHL9AFP"
        ],
        "replies": [
            {
                "user": "U4H19D1D2",
                "ts": "1683625793.067829"
            },
            {
                "user": "U04J6LUGCFM",
                "ts": "1683637420.395229"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1683637518.205869"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1683637623.472599"
            },
            {
                "user": "U04J6LUGCFM",
                "ts": "1683640374.764649"
            },
            {
                "user": "U04LPHL9AFP",
                "ts": "1683642845.038379"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1683642878.828149"
            },
            {
                "user": "U04LPHL9AFP",
                "ts": "1683642959.291529"
            },
            {
                "user": "U04LPHL9AFP",
                "ts": "1683642980.283229"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1683642987.472339"
            },
            {
                "user": "U04LPHL9AFP",
                "ts": "1683643138.749699"
            }
        ],
        "is_locked": false,
        "subscribed": true,
        "last_read": "1683643138.749699",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "KGP",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Hello! I'm using the following filters to place bets but want the bet to be placed normally and if partially filled I want it to automatically cancel after 5 seconds, what filters should I change. I tried FILL_OR_KILL but that doesn't work for me as I want it to stay for a few seconds instead of instantly cancel. I'm passing the constant CANCELLATION_TIME to the function but I'm unsure if it's actually doing anything.\n\n# Define a limit order filter with time_in_force and min_fill_size\n        limit_order_filter = betfairlightweight.filters.limit_order(\n            size=order_size,\n            price=order_price,\n            persistence_type='LAPSE'\n        )\n\n        # Define an instructions filter\n        instructions_filter = betfairlightweight.filters.place_instruction(\n            selection_id=str(bet_object.selection_id),\n            order_type=\"LIMIT\",\n            side=\"BACK\",\n            limit_order=limit_order_filter\n        )\n\n     bet_thread = threading.Thread(\n            target= bfl_trading.betting.place_orders,\n            args=(\n                str(bet_object.match.market_id),\n                [instructions_filter],\n                CANCELLATION_TIME,\n            ),\n        )\n        # Start the bet placement thread\n        bet_thread.start()"
                            }
                        ]
                    }
                ]
            }
        ]
    }
]