[
    {
        "subtype": "channel_join",
        "user": "U5R89SMJ5",
        "text": "<@U5R89SMJ5> has joined the channel",
        "type": "message",
        "ts": "1497117099.127648"
    },
    {
        "user": "U5R89SMJ5",
        "type": "message",
        "ts": "1497118580.239591",
        "text": "hey guys!\nIm trying to fix my by bot here a bit, by putting all markets under one api stream, instead of creating new ones. And I cant figure out how do you \"feed\" stream to all threads? If I have running n market threads and one of them calls get() from stream queue.Queue() that object is gone, right? So how do I know which of the threads should call the queue to get latest MarketBook?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "ga2b550f5926",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/8a2b550f5926a9c0fd5aad6516d2a55a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0010-72.png",
            "first_name": "Evaldas",
            "real_name": "Evaldas",
            "display_name": "Evaldas",
            "team": "T4G9NBD2M",
            "name": "poklius",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "iMBB",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "hey guys!\nIm trying to fix my by bot here a bit, by putting all markets under one api stream, instead of creating new ones. And I cant figure out how do you \"feed\" stream to all threads? If I have running n market threads and one of them calls get() from stream queue.Queue() that object is gone, right? So how do I know which of the threads should call the queue to get latest MarketBook?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1497119627.306860",
        "text": "I use an event driven framework, numerous threads that are streams and then an event handler in main which processes the market books. I then use the unique id to determine which market book should be sent to which strategy. This prevents race conditions ",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "YQO",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I use an event driven framework, numerous threads that are streams and then an event handler in main which processes the market books. I then use the unique id to determine which market book should be sent to which strategy. This prevents race conditions"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U5R89SMJ5",
        "type": "message",
        "ts": "1497120637.361508",
        "text": "so if I understood correctly I should create bunch of new queues, assign them to threads with unique ids, and feed those new queues from main betfair stream?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "ga2b550f5926",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/8a2b550f5926a9c0fd5aad6516d2a55a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0010-72.png",
            "first_name": "Evaldas",
            "real_name": "Evaldas",
            "display_name": "Evaldas",
            "team": "T4G9NBD2M",
            "name": "poklius",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "iEYw",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "so if I understood correctly I should create bunch of new queues, assign them to threads with unique ids, and feed those new queues from main betfair stream?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1497120655.362418",
        "text": "One queue ",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "DVV0",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "One queue"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U5R89SMJ5",
        "type": "message",
        "ts": "1497120821.370960",
        "text": "i still dont get it, sorry :smile: I can call .get() from queue just once if there is one new object in it, but I have running n threads all calling it",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "ga2b550f5926",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/8a2b550f5926a9c0fd5aad6516d2a55a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0010-72.png",
            "first_name": "Evaldas",
            "real_name": "Evaldas",
            "display_name": "Evaldas",
            "team": "T4G9NBD2M",
            "name": "poklius",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "YVVcW",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "i still dont get it, sorry "
                            },
                            {
                                "type": "emoji",
                                "name": "smile",
                                "unicode": "1f604"
                            },
                            {
                                "type": "text",
                                "text": " I can call .get() from queue just once if there is one new object in it, but I have running n threads all calling it"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1497120941.376974",
        "text": "So you can have one or more market streaming threads 'putting' data in and an event handler in main 'getting' data and processing (placing orders \/ recording data), why do you want a separate thread per market? ",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "TjtA",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "So you can have one or more market streaming threads 'putting' data in and an event handler in main 'getting' data and processing (placing orders \/ recording data), why do you want a separate thread per market?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U5R89SMJ5",
        "type": "message",
        "ts": "1497121198.397547",
        "text": "thats good point. I would need to rewrite a lot tho :smile:",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "ga2b550f5926",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/8a2b550f5926a9c0fd5aad6516d2a55a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0010-72.png",
            "first_name": "Evaldas",
            "real_name": "Evaldas",
            "display_name": "Evaldas",
            "team": "T4G9NBD2M",
            "name": "poklius",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "M1=",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "thats good point. I would need to rewrite a lot tho "
                            },
                            {
                                "type": "emoji",
                                "name": "smile",
                                "unicode": "1f604"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U5R89SMJ5",
        "type": "message",
        "ts": "1497121248.404193",
        "text": "one more. does betfair start streaming new markets? i dont need to resubscribe?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "ga2b550f5926",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/8a2b550f5926a9c0fd5aad6516d2a55a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0010-72.png",
            "first_name": "Evaldas",
            "real_name": "Evaldas",
            "display_name": "Evaldas",
            "team": "T4G9NBD2M",
            "name": "poklius",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "jU\/",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "one more. does betfair start streaming new markets? i dont need to resubscribe?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U5R89SMJ5",
        "type": "message",
        "ts": "1497122836.519821",
        "text": "oh gee, I understand now. get data from stream and put it into market\/strategy object, took me a while, kinda new to this :slightly_smiling_face: thanks",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "ga2b550f5926",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/8a2b550f5926a9c0fd5aad6516d2a55a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0010-72.png",
            "first_name": "Evaldas",
            "real_name": "Evaldas",
            "display_name": "Evaldas",
            "team": "T4G9NBD2M",
            "name": "poklius",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "tNHJ9",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "oh gee, I understand now. get data from stream and put it into market\/strategy object, took me a while, kinda new to this "
                            },
                            {
                                "type": "emoji",
                                "name": "slightly_smiling_face",
                                "unicode": "1f642"
                            },
                            {
                                "type": "text",
                                "text": " thanks"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1497128403.818431",
        "text": "Yeh betfair will send through a new image when a market gets created, lightweight handles this for you ",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "SXE1",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Yeh betfair will send through a new image when a market gets created, lightweight handles this for you"
                            }
                        ]
                    }
                ]
            }
        ]
    }
]