[
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1708071077.837419",
        "client_msg_id": "fa427a19-f59e-4639-a938-4cb645d198ca",
        "text": "<https:\/\/github.com\/betcode-org\/flumine\/blob\/master\/examples\/example-sportsdata.py|examples>",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1708025543.785599",
        "parent_user_id": "UQL0QDEKA",
        "attachments": [
            {
                "id": 1,
                "footer_icon": "https:\/\/slack.github.com\/static\/img\/favicon-neutral.png",
                "color": "24292f",
                "bot_id": "B021ZJYSBMW",
                "app_unfurl_url": "https:\/\/github.com\/betcode-org\/flumine\/blob\/master\/examples\/example-sportsdata.py",
                "is_app_unfurl": true,
                "app_id": "A01BP7R4KNY",
                "fallback": "<https:\/\/github.com\/betcode-org\/flumine\/blob\/master\/examples\/example-sportsdata.py | example-sportsdata.py>",
                "text": "```\nimport time\nimport logging\nimport betfairlightweight\nfrom betfairlightweight.filters import streaming_market_filter\nfrom pythonjsonlogger import jsonlogger\n\nfrom flumine import Flumine, clients, BaseStrategy\nfrom flumine.order.trade import Trade\nfrom flumine.order.ordertype import LimitOrder\nfrom flumine.order.order import OrderStatus\n\nlogger = logging.getLogger()\n\ncustom_format = \"%(asctime) %(levelname) %(message)\"\nlog_handler = logging.StreamHandler()\nformatter = jsonlogger.JsonFormatter(custom_format)\nformatter.converter = time.gmtime\nlog_handler.setFormatter(formatter)\nlogger.addHandler(log_handler)\nlogger.setLevel(<http:\/\/logging.INFO|logging.INFO>)\n\n\nclass ExampleStrategy(BaseStrategy):\n    def process_sports_data(self, market, sports_data) -> None:\n        # called on each update from sports-data-stream\n        print(market, sports_data)\n\n\ntrading = betfairlightweight.APIClient(\"username\")\nclient = clients.BetfairClient(trading)\n\nframework = Flumine(client)\n\nstrategy = ExampleStrategy(\n    market_filter=streaming_market_filter(\n        event_type_ids=[\"4\"], market_types=[\"MATCH_ODDS\"]\n    ),\n    sports_data_filter=[\n        \"cricketSubscription\"\n    ],  # \"cricketSubscription\" and\/or \"raceSubscription\"\n)\nframework.add_strategy(strategy)\n\nframework.run()\n\n```",
                "title": "<https:\/\/github.com\/betcode-org\/flumine\/blob\/master\/examples\/example-sportsdata.py | example-sportsdata.py>",
                "footer": "<https:\/\/github.com\/betcode-org\/flumine|betcode-org\/flumine>",
                "mrkdwn_in": [
                    "text"
                ]
            }
        ],
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "RegjD",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "link",
                                "url": "https:\/\/github.com\/betcode-org\/flumine\/blob\/master\/examples\/example-sportsdata.py",
                                "text": "examples"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UQL0QDEKA",
        "type": "message",
        "ts": "1708080035.399499",
        "client_msg_id": "2b274df1-baac-4c44-81ae-9bd37f316980",
        "text": "Thanks Liam, But I still dont quite get this\nIf for example I was running a backtest and the bet criteria was based on the back price of a selection and the TPD Speed of that selection. As you mentioned above, keeping the files separate (one for normal data) and one for TPD Data, the backtest would need to look up two files wouldnt it?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g444d10128c0",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/444d10128c0aaf094041a52a76796602.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png",
            "first_name": "Peter",
            "real_name": "Peter Lenagh",
            "display_name": "PeterLe",
            "team": "T4G9NBD2M",
            "name": "lenagh",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1708025543.785599",
        "parent_user_id": "UQL0QDEKA",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Co8dm",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Thanks Liam, But I still dont quite get this\nIf for example I was running a backtest and the bet criteria was based on the back price of a selection and the TPD Speed of that selection. As you mentioned above, keeping the files separate (one for normal data) and one for TPD Data, the backtest would need to look up two files wouldnt it?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1708080348.098829",
        "client_msg_id": "52097433-73f5-4efb-ad93-8586dd6a8358",
        "text": "No flumine does the hard work for you as you have both available, the market object which has the `market.market_book` as it was at time x and the `sports_data` ie the tpd race update, this is how you would develop a TPD strategy as well, no change from simulating to live, its very powerful\n\n```def process_sports_data(self, market, sports_data) -&gt; None:\n    # called on each update from sports-data-stream\n    print(market, sports_data)```",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1708025543.785599",
        "parent_user_id": "UQL0QDEKA",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "WLCiz",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "No flumine does the hard work for you as you have both available, the market object which has the "
                            },
                            {
                                "type": "text",
                                "text": "market.market_book",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " as it was at time x and the "
                            },
                            {
                                "type": "text",
                                "text": "sports_data",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " ie the tpd race update, this is how you would develop a TPD strategy as well, no change from simulating to live, its very powerful\n\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "def process_sports_data(self, market, sports_data) -> None:\n    # called on each update from sports-data-stream\n    print(market, sports_data)"
                            }
                        ],
                        "border": 0
                    }
                ]
            }
        ]
    },
    {
        "user": "UQL0QDEKA",
        "type": "message",
        "ts": "1708080504.990679",
        "edited": {
            "user": "UQL0QDEKA",
            "ts": "1708099748.000000"
        },
        "client_msg_id": "c9b6b394-c949-412b-ab82-336124a0a147",
        "text": "OK thanks for the reply, Ill try and work it out",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g444d10128c0",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/444d10128c0aaf094041a52a76796602.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png",
            "first_name": "Peter",
            "real_name": "Peter Lenagh",
            "display_name": "PeterLe",
            "team": "T4G9NBD2M",
            "name": "lenagh",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1708025543.785599",
        "parent_user_id": "UQL0QDEKA",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "p2mVh",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "OK thanks for the reply, Ill try and work it out"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U013K4VNB6D",
        "type": "message",
        "ts": "1708108015.069529",
        "client_msg_id": "24deb6fc-8285-475c-9186-a191308a2cf0",
        "text": "Hi\n\nWhat's the difference between 'reset_seconds' and 'place_reset_seconds'?\n\nAm I right in thinking that their purpose is to make it so that, if you check before placing a bet how much money you already have waiting on a selection, you don't get caught out by making the check before Betfair has a chance to process your order?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gf188478b89f",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/f188478b89f4a5e2c5af9eafa0433712.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png",
            "first_name": "",
            "real_name": "Jeff Waters",
            "display_name": "Jeff Waters",
            "team": "T4G9NBD2M",
            "name": "watersjg",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1708108015.069529",
        "reply_count": 7,
        "reply_users_count": 2,
        "latest_reply": "1708161358.283269",
        "reply_users": [
            "U04NWADNCFR",
            "U013K4VNB6D"
        ],
        "replies": [
            {
                "user": "U04NWADNCFR",
                "ts": "1708113117.424679"
            },
            {
                "user": "U013K4VNB6D",
                "ts": "1708113264.515759"
            },
            {
                "user": "U013K4VNB6D",
                "ts": "1708160153.787299"
            },
            {
                "user": "U04NWADNCFR",
                "ts": "1708160319.556909"
            },
            {
                "user": "U013K4VNB6D",
                "ts": "1708160877.644079"
            },
            {
                "user": "U04NWADNCFR",
                "ts": "1708161291.343829"
            },
            {
                "user": "U013K4VNB6D",
                "ts": "1708161358.283269"
            }
        ],
        "is_locked": false,
        "subscribed": false,
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "jzmCa",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Hi\n\nWhat's the difference between 'reset_seconds' and 'place_reset_seconds'?\n\nAm I right in thinking that their purpose is to make it so that, if you check before placing a bet how much money you already have waiting on a selection, you don't get caught out by making the check before Betfair has a chance to process your order?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "subtype": "thread_broadcast",
        "user": "U04NWADNCFR",
        "thread_ts": "1708108015.069529",
        "root": {
            "user": "U013K4VNB6D",
            "type": "message",
            "ts": "1708108015.069529",
            "client_msg_id": "24deb6fc-8285-475c-9186-a191308a2cf0",
            "text": "Hi\n\nWhat's the difference between 'reset_seconds' and 'place_reset_seconds'?\n\nAm I right in thinking that their purpose is to make it so that, if you check before placing a bet how much money you already have waiting on a selection, you don't get caught out by making the check before Betfair has a chance to process your order?",
            "team": "T4G9NBD2M",
            "thread_ts": "1708108015.069529",
            "reply_count": 7,
            "reply_users_count": 2,
            "latest_reply": "1708161358.283269",
            "reply_users": [
                "U04NWADNCFR",
                "U013K4VNB6D"
            ],
            "replies": [
                {
                    "user": "U04NWADNCFR",
                    "ts": "1708113117.424679"
                },
                {
                    "user": "U013K4VNB6D",
                    "ts": "1708113264.515759"
                },
                {
                    "user": "U013K4VNB6D",
                    "ts": "1708160153.787299"
                },
                {
                    "user": "U04NWADNCFR",
                    "ts": "1708160319.556909"
                },
                {
                    "user": "U013K4VNB6D",
                    "ts": "1708160877.644079"
                },
                {
                    "user": "U04NWADNCFR",
                    "ts": "1708161291.343829"
                },
                {
                    "user": "U013K4VNB6D",
                    "ts": "1708161358.283269"
                }
            ],
            "is_locked": false,
            "subscribed": false,
            "blocks": [
                {
                    "type": "rich_text",
                    "block_id": "jzmCa",
                    "elements": [
                        {
                            "type": "rich_text_section",
                            "elements": [
                                {
                                    "type": "text",
                                    "text": "Hi\n\nWhat's the difference between 'reset_seconds' and 'place_reset_seconds'?\n\nAm I right in thinking that their purpose is to make it so that, if you check before placing a bet how much money you already have waiting on a selection, you don't get caught out by making the check before Betfair has a chance to process your order?"
                                }
                            ]
                        }
                    ]
                }
            ]
        },
        "type": "message",
        "ts": "1708113117.424679",
        "client_msg_id": "6e4a1ef1-5412-42d6-9f8d-d4ef03932c88",
        "text": "I think the point of these is to stop your strategy from firing repeatedly due to the same signal on every update to market_book. As a way of throttling order creation?",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "XjAOz",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I think the point of these is to stop your strategy from firing repeatedly due to the same signal on every update to market_book. As a way of throttling order creation?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U013K4VNB6D",
        "type": "message",
        "ts": "1708113264.515759",
        "client_msg_id": "3ca2bc93-0133-496b-ad50-1b3b00ba105a",
        "text": "Cheers Derek.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gf188478b89f",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/f188478b89f4a5e2c5af9eafa0433712.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png",
            "first_name": "",
            "real_name": "Jeff Waters",
            "display_name": "Jeff Waters",
            "team": "T4G9NBD2M",
            "name": "watersjg",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1708108015.069529",
        "parent_user_id": "U013K4VNB6D",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "ROst2",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Cheers Derek."
                            }
                        ]
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "+1",
                "users": [
                    "U04NWADNCFR"
                ],
                "count": 1
            }
        ]
    }
]