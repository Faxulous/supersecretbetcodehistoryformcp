[
    {
        "user": "UFPEU7URG",
        "type": "message",
        "ts": "1559506443.002000",
        "client_msg_id": "54d70f56-5089-4912-9f39-74406c125a16",
        "text": "Trying to display data from a market using Pandas as per the example on the Betfair site (I think I remember seeing these weren't created by anyone here and weren't great, but nonetheless seems the best place to ask), basically have the same problem as this stackoverflow post (but this isn't me), any advice greatly appreciated... <https:\/\/stackoverflow.com\/questions\/55420596\/index-error-when-using-betfairlightweight>",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gad95b05e95e",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/cad95b05e95ed7575f487d75e10e36c2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png",
            "first_name": "",
            "real_name": "Chris Davidson",
            "display_name": "Chris",
            "team": "T4G9NBD2M",
            "name": "chris",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "attachments": [
            {
                "service_name": "Stack Overflow",
                "title": "Index error when using betfairlightweight",
                "title_link": "https:\/\/stackoverflow.com\/questions\/55420596\/index-error-when-using-betfairlightweight",
                "text": "I'm new to the site and fairly new to Python, so please excuse me if I've missed something obvious with the error I'm getting. I have started experimenting with betfairlightweight, experimenting w...",
                "fallback": "Stack Overflow: Index error when using betfairlightweight",
                "thumb_url": "https:\/\/cdn.sstatic.net\/Sites\/stackoverflow\/img\/apple-touch-icon@2.png?v=73d79a89bded",
                "from_url": "https:\/\/stackoverflow.com\/questions\/55420596\/index-error-when-using-betfairlightweight",
                "thumb_width": 316,
                "thumb_height": 316,
                "service_icon": "https:\/\/cdn.sstatic.net\/Sites\/stackoverflow\/img\/favicon.ico?v=4f32ecc8f43d",
                "id": 1,
                "original_url": "https:\/\/stackoverflow.com\/questions\/55420596\/index-error-when-using-betfairlightweight"
            }
        ],
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "3qYa9",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Trying to display data from a market using Pandas as per the example on the Betfair site (I think I remember seeing these weren't created by anyone here and weren't great, but nonetheless seems the best place to ask), basically have the same problem as this stackoverflow post (but this isn't me), any advice greatly appreciated... "
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/stackoverflow.com\/questions\/55420596\/index-error-when-using-betfairlightweight"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1559506822.002600",
        "client_msg_id": "24CDB118-A968-4B73-B66A-5990246E3D83",
        "text": " That code hurts to even read ",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "oz\/s",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "That code hurts to even read"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1559506869.003800",
        "client_msg_id": "BA0B8468-948B-4EFF-B672-A390953A8321",
        "text": "I don’t think I can bring myself to work out what is wrong but the way that dataframe is being created is mad ",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Z=YTX",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I don’t think I can bring myself to work out what is wrong but the way that dataframe is being created is mad"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UFPEU7URG",
        "type": "message",
        "ts": "1559506943.004300",
        "client_msg_id": "e1880391-7a67-42f9-aed7-095ddcb3772d",
        "text": "That's frustrating given it is from what seems to be someone at least associated with Betfair :thumbsdown: <https:\/\/betfair-datascientists.github.io\/api\/apiPythontutorial\/>",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gad95b05e95e",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/cad95b05e95ed7575f487d75e10e36c2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png",
            "first_name": "",
            "real_name": "Chris Davidson",
            "display_name": "Chris",
            "team": "T4G9NBD2M",
            "name": "chris",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "attachments": [
            {
                "title": "API tutorial in Python - The Automation Hub",
                "title_link": "https:\/\/betfair-datascientists.github.io\/api\/apiPythontutorial\/",
                "text": "Documentation, guides and articles on creating, developing and implementing automated betting strategies, using data analysis to inform betting models and how to interact with the Betfair API.",
                "fallback": "API tutorial in Python - The Automation Hub",
                "from_url": "https:\/\/betfair-datascientists.github.io\/api\/apiPythontutorial\/",
                "service_icon": "https:\/\/betfair-datascientists.github.io\/img\/BetfairFavicon.ico",
                "service_name": "betfair-datascientists.github.io",
                "id": 1,
                "original_url": "https:\/\/betfair-datascientists.github.io\/api\/apiPythontutorial\/"
            }
        ],
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Zuc",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "That's frustrating given it is from what seems to be someone at least associated with Betfair "
                            },
                            {
                                "type": "emoji",
                                "name": "thumbsdown",
                                "unicode": "1f44e"
                            },
                            {
                                "type": "text",
                                "text": " "
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/betfair-datascientists.github.io\/api\/apiPythontutorial\/"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1559507402.005600",
        "client_msg_id": "D0FD8691-CDB1-408E-9398-A1D5E232CBD3",
        "text": "I’ve seen worse from data scientists ",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "S8Y\/M",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I’ve seen worse from data scientists"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1559507505.006300",
        "client_msg_id": "14C55A61-0339-47F1-AE55-6B32CF6A06C1",
        "text": "That traceback is useless, do you know what lines they are relating to?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "M0Xmb",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "That traceback is useless, do you know what lines they are relating to?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1559507657.006900",
        "client_msg_id": "A0432585-35DF-4CA4-95B8-3B2D4C2386D6",
        "text": "At a guess it’s because some runners don’t have any prices ",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "JnU+",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "At a guess it’s because some runners don’t have any prices"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UFPEU7URG",
        "type": "message",
        "ts": "1559507659.007100",
        "client_msg_id": "98246a4e-f400-42bb-9a02-673ea197c124",
        "text": "Yes, so it is the section here that causes the issue...",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gad95b05e95e",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/cad95b05e95ed7575f487d75e10e36c2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png",
            "first_name": "",
            "real_name": "Chris Davidson",
            "display_name": "Chris",
            "team": "T4G9NBD2M",
            "name": "chris",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "2Io",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Yes, so it is the section here that causes the issue..."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UFPEU7URG",
        "type": "message",
        "ts": "1559507664.007400",
        "client_msg_id": "69fd0850-c51f-440a-9585-13f4f1c9f998",
        "text": "```    best_back_prices = [runner_book.ex.available_to_back[0].price\n                        if runner_book.ex.available_to_back[0].price\n                        else 1.01\n                        for runner_book\n                        in runner_books]\n    best_back_sizes = [runner_book.ex.available_to_back[0].size\n                       if runner_book.ex.available_to_back[0].size\n                       else 1.01\n                       for runner_book\n                       in runner_books]\n\n    best_lay_prices = [runner_book.ex.available_to_lay[0].price\n                       if runner_book.ex.available_to_lay[0].price\n                       else 1000.0\n                       for runner_book\n                       in runner_books]\n    best_lay_sizes = [runner_book.ex.available_to_lay[0].size\n                      if runner_book.ex.available_to_lay[0].size\n                      else 1.01\n                      for runner_book\n                      in runner_books]```",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gad95b05e95e",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/cad95b05e95ed7575f487d75e10e36c2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png",
            "first_name": "",
            "real_name": "Chris Davidson",
            "display_name": "Chris",
            "team": "T4G9NBD2M",
            "name": "chris",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "TxQ4",
                "elements": [
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "    best_back_prices = [runner_book.ex.available_to_back[0].price\n                        if runner_book.ex.available_to_back[0].price\n                        else 1.01\n                        for runner_book\n                        in runner_books]\n    best_back_sizes = [runner_book.ex.available_to_back[0].size\n                       if runner_book.ex.available_to_back[0].size\n                       else 1.01\n                       for runner_book\n                       in runner_books]\n\n    best_lay_prices = [runner_book.ex.available_to_lay[0].price\n                       if runner_book.ex.available_to_lay[0].price\n                       else 1000.0\n                       for runner_book\n                       in runner_books]\n    best_lay_sizes = [runner_book.ex.available_to_lay[0].size\n                      if runner_book.ex.available_to_lay[0].size\n                      else 1.01\n                      for runner_book\n                      in runner_books]"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1559507669.007800",
        "client_msg_id": "66A6BD70-1FF3-4204-9778-ED1404DAF45D",
        "text": "[0] is causing the issue ",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "vU\/",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "[0] is causing the issue"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UFPEU7URG",
        "type": "message",
        "ts": "1559507674.008100",
        "client_msg_id": "085d6039-4d9f-456d-ada8-83b877726eb7",
        "text": "Yeah, that is exactly it <@U4H19D1D2>",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gad95b05e95e",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/cad95b05e95ed7575f487d75e10e36c2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png",
            "first_name": "",
            "real_name": "Chris Davidson",
            "display_name": "Chris",
            "team": "T4G9NBD2M",
            "name": "chris",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "\/IqHC",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Yeah, that is exactly it "
                            },
                            {
                                "type": "user",
                                "user_id": "U4H19D1D2"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UFPEU7URG",
        "type": "message",
        "ts": "1559507725.008900",
        "client_msg_id": "4bb5fee2-1abb-4654-98f1-408057675f83",
        "text": "I'm a relative Python noob, but from what I can gather there isn't a default set when there is no price or volume on a specific selection hence the list being empty",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gad95b05e95e",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/cad95b05e95ed7575f487d75e10e36c2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png",
            "first_name": "",
            "real_name": "Chris Davidson",
            "display_name": "Chris",
            "team": "T4G9NBD2M",
            "name": "chris",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "zHXh8",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I'm a relative Python noob, but from what I can gather there isn't a default set when there is no price or volume on a specific selection hence the list being empty"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UFPEU7URG",
        "type": "message",
        "ts": "1559507823.011200",
        "client_msg_id": "1f1454d1-f857-45e4-a1cb-40e4283d5cef",
        "text": "I tried to set that with a try and except wrapper around the section, but due to my lack of knowledge with Python (and more specifically how the structure of data is working) that isn't right because it then sets all of the prices to the defaults I have set, rather than picking out the real prices and only hitting the except rule when no price is available, I guess this is because it isn't looping over the data but is in a list?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gad95b05e95e",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/cad95b05e95ed7575f487d75e10e36c2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png",
            "first_name": "",
            "real_name": "Chris Davidson",
            "display_name": "Chris",
            "team": "T4G9NBD2M",
            "name": "chris",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "YSxK",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I tried to set that with a try and except wrapper around the section, but due to my lack of knowledge with Python (and more specifically how the structure of data is working) that isn't right because it then sets all of the prices to the defaults I have set, rather than picking out the real prices and only hitting the except rule when no price is available, I guess this is because it isn't looping over the data but is in a list?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1559507890.012400",
        "client_msg_id": "FD44AD5C-C70C-4CED-A3E2-ABF9E98DFC08",
        "text": "Yeah add ‘if runner_book.ex.available_to_back and runner_book.ex.available_to_back[0].price....",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "\/5rS",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Yeah add ‘if runner_book.ex.available_to_back and runner_book.ex.available_to_back[0].price...."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1559507907.013000",
        "client_msg_id": "1145617F-F14F-4017-9823-447927DDAC3D",
        "text": "Although second part isn’t even needed I don’t think ",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "N2P",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Although second part isn’t even needed I don’t think"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UFPEU7URG",
        "type": "message",
        "ts": "1559508076.013700",
        "client_msg_id": "b05b8097-d67d-4f99-ab5a-ec03839683e4",
        "text": "Ah yeah, that's worked perfectly, thanks a lot :thumbsup: easy when you know how but been banging my head for ages with this",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gad95b05e95e",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/cad95b05e95ed7575f487d75e10e36c2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png",
            "first_name": "",
            "real_name": "Chris Davidson",
            "display_name": "Chris",
            "team": "T4G9NBD2M",
            "name": "chris",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "BVMI",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Ah yeah, that's worked perfectly, thanks a lot "
                            },
                            {
                                "type": "emoji",
                                "name": "thumbsup",
                                "unicode": "1f44d"
                            },
                            {
                                "type": "text",
                                "text": " easy when you know how but been banging my head for ages with this"
                            }
                        ]
                    }
                ]
            }
        ]
    }
]