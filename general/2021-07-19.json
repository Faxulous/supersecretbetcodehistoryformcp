[
    {
        "user": "UBS7QANF3",
        "type": "message",
        "ts": "1626713680.496000",
        "client_msg_id": "d731913f-7d55-4cc5-b35e-08c1d42bc006",
        "text": "Is anyone aware of any publicly available code for virtualising a market book?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gaaf844a4a90",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/eaaf844a4a905431d83430e563b077aa.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png",
            "first_name": "",
            "real_name": "Maurice Berk",
            "display_name": "Mo",
            "team": "T4G9NBD2M",
            "name": "maurice",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1626713680.496000",
        "reply_count": 25,
        "reply_users_count": 6,
        "latest_reply": "1626909888.052300",
        "reply_users": [
            "UBS7QANF3",
            "U4H19D1D2",
            "UUE6E1LA1",
            "U01D23DDMTQ",
            "UUUAJQZ5J",
            "U0135SLHQBW"
        ],
        "replies": [
            {
                "user": "UBS7QANF3",
                "ts": "1626723172.496400"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1626723501.497100"
            },
            {
                "user": "UBS7QANF3",
                "ts": "1626723688.497900"
            },
            {
                "user": "UBS7QANF3",
                "ts": "1626723918.001800"
            },
            {
                "user": "UUE6E1LA1",
                "ts": "1626724201.002000"
            },
            {
                "user": "UBS7QANF3",
                "ts": "1626725107.002700"
            },
            {
                "user": "U01D23DDMTQ",
                "ts": "1626734436.006700"
            },
            {
                "user": "UUUAJQZ5J",
                "ts": "1626739976.007100"
            },
            {
                "user": "UBS7QANF3",
                "ts": "1626763339.013000"
            },
            {
                "user": "U01D23DDMTQ",
                "ts": "1626763440.015500"
            },
            {
                "user": "UBS7QANF3",
                "ts": "1626763522.016000"
            },
            {
                "user": "U01D23DDMTQ",
                "ts": "1626763590.017300"
            },
            {
                "user": "UBS7QANF3",
                "ts": "1626763660.017500"
            },
            {
                "user": "U01D23DDMTQ",
                "ts": "1626764981.023600"
            },
            {
                "user": "UBS7QANF3",
                "ts": "1626765925.024700"
            },
            {
                "user": "U01D23DDMTQ",
                "ts": "1626766044.025800"
            },
            {
                "user": "UUUAJQZ5J",
                "ts": "1626771225.026000"
            },
            {
                "user": "U01D23DDMTQ",
                "ts": "1626771557.028500"
            },
            {
                "user": "UBS7QANF3",
                "ts": "1626773172.028700"
            },
            {
                "user": "UUUAJQZ5J",
                "ts": "1626773442.028900"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1626860006.045500"
            },
            {
                "user": "U0135SLHQBW",
                "ts": "1626887224.051400"
            },
            {
                "user": "U0135SLHQBW",
                "ts": "1626887253.051600"
            },
            {
                "user": "UBS7QANF3",
                "ts": "1626887414.051800"
            },
            {
                "user": "UUUAJQZ5J",
                "ts": "1626909888.052300"
            }
        ],
        "is_locked": false,
        "subscribed": true,
        "last_read": "1626909888.052300",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Zxo",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Is anyone aware of any publicly available code for virtualising a market book?"
                            }
                        ]
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "popcorn",
                "users": [
                    "U4H19D1D2"
                ],
                "count": 1
            }
        ]
    },
    {
        "user": "UBS7QANF3",
        "type": "message",
        "ts": "1626723172.496400",
        "client_msg_id": "965F0C23-3711-4AAF-952C-5FA4C94A77B4",
        "text": "Nice reaction <@U4H19D1D2> ",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gaaf844a4a90",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/eaaf844a4a905431d83430e563b077aa.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png",
            "first_name": "",
            "real_name": "Maurice Berk",
            "display_name": "Mo",
            "team": "T4G9NBD2M",
            "name": "maurice",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1626713680.496000",
        "parent_user_id": "UBS7QANF3",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "VhXT",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Nice reaction "
                            },
                            {
                                "type": "user",
                                "user_id": "U4H19D1D2"
                            },
                            {
                                "type": "text",
                                "text": " "
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1626723501.497100",
        "client_msg_id": "514C2118-BE9B-4088-A6F4-CFB421114DBA",
        "text": "Looks like you are gonna have to take one for the team :joy:",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1626713680.496000",
        "parent_user_id": "UBS7QANF3",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "lW9i2",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Looks like you are gonna have to take one for the team "
                            },
                            {
                                "type": "emoji",
                                "name": "joy",
                                "unicode": "1f602"
                            }
                        ]
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "joy",
                "users": [
                    "UUUAJQZ5J"
                ],
                "count": 1
            }
        ]
    },
    {
        "user": "UBS7QANF3",
        "type": "message",
        "ts": "1626723688.497900",
        "client_msg_id": "BE3ED9B7-5548-408F-8643-44F94B4A8D76",
        "text": "That was basically my intention anyway ",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gaaf844a4a90",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/eaaf844a4a905431d83430e563b077aa.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png",
            "first_name": "",
            "real_name": "Maurice Berk",
            "display_name": "Mo",
            "team": "T4G9NBD2M",
            "name": "maurice",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1626713680.496000",
        "parent_user_id": "UBS7QANF3",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "+LYib",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "That was basically my intention anyway "
                            }
                        ]
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "+1",
                "users": [
                    "U4H19D1D2"
                ],
                "count": 1
            }
        ]
    },
    {
        "user": "UBS7QANF3",
        "type": "message",
        "ts": "1626723918.001800",
        "client_msg_id": "6E5E9462-575B-4799-80AF-449743362E0F",
        "text": "But either it’s less of a key piece of functionality than I think it is or everyone that does it treats it as secret sauce",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gaaf844a4a90",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/eaaf844a4a905431d83430e563b077aa.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png",
            "first_name": "",
            "real_name": "Maurice Berk",
            "display_name": "Mo",
            "team": "T4G9NBD2M",
            "name": "maurice",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1626713680.496000",
        "parent_user_id": "UBS7QANF3",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "UMVg",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "But either it’s less of a key piece of functionality than I think it is or everyone that does it treats it as secret sauce"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UUE6E1LA1",
        "type": "message",
        "ts": "1626724201.002000",
        "client_msg_id": "96b1af66-91a6-4268-aed7-535f1a7baa55",
        "text": "Is this something that replicates XM that you are talking about? If so I used to chat with a bloke on twitter and he wrote a ladder trading market replay tool and he told me he had implemented XM in it. He got pissed off with twitter and left but I seem to recall he made this tool open source. I think I still have his email so I will ping him a message and find out.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gf53cae45edd",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/f53cae45edd7f7b67bbe98819597612e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0017-72.png",
            "first_name": "",
            "real_name": "D C",
            "display_name": "D C",
            "team": "T4G9NBD2M",
            "name": "oddsvantage",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1626713680.496000",
        "parent_user_id": "UBS7QANF3",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "+dzc",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Is this something that replicates XM that you are talking about? If so I used to chat with a bloke on twitter and he wrote a ladder trading market replay tool and he told me he had implemented XM in it. He got pissed off with twitter and left but I seem to recall he made this tool open source. I think I still have his email so I will ping him a message and find out."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UBS7QANF3",
        "type": "message",
        "ts": "1626725107.002700",
        "client_msg_id": "F51F1F12-55B1-4A38-BDB5-8B6D046B7034",
        "text": "Yes <@UUE6E1LA1> , I’m using the term virtualisation interchangeably with cross matching ",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gaaf844a4a90",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/eaaf844a4a905431d83430e563b077aa.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png",
            "first_name": "",
            "real_name": "Maurice Berk",
            "display_name": "Mo",
            "team": "T4G9NBD2M",
            "name": "maurice",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1626713680.496000",
        "parent_user_id": "UBS7QANF3",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "NYQ",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Yes "
                            },
                            {
                                "type": "user",
                                "user_id": "UUE6E1LA1"
                            },
                            {
                                "type": "text",
                                "text": " , I’m using the term virtualisation interchangeably with cross matching "
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U01D23DDMTQ",
        "type": "message",
        "ts": "1626734436.006700",
        "edited": {
            "user": "U01D23DDMTQ",
            "ts": "1626734525.000000"
        },
        "client_msg_id": "B0AB7EC2-A56D-4A53-BB11-0FC711DD772C",
        "text": "I misread ‘visualisation’ but will let this response stand:\n\nR has an order book package. Not too sophisticated. I’ve seen others in papers I’ve read, but generally built against the LOBSTER structure. We can’t directly rebuild to that due to conflation in runner changes. I look at the metrics that describe the book (eg. slope) and then visualise those.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "5d6a9e5a85c0",
            "image_72": "https:\/\/avatars.slack-edge.com\/2021-06-26\/2219792322468_5d6a9e5a85c01e3abc9e_72.png",
            "first_name": "Andrew",
            "real_name": "Andrew",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "agruskin",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1626713680.496000",
        "parent_user_id": "UBS7QANF3",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "RDJB",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I misread ‘visualisation’ but will let this response stand:\n\nR has an order book package. Not too sophisticated. I’ve seen others in papers I’ve read, but generally built against the LOBSTER structure. We can’t directly rebuild to that due to conflation in runner changes. I look at the metrics that describe the book (eg. slope) and then visualise those."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UUUAJQZ5J",
        "type": "message",
        "ts": "1626739976.007100",
        "client_msg_id": "f1ab192c-fcb8-4a8a-979f-971c9febc936",
        "text": "would love to see this once you've put something together <@UBS7QANF3>",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "f82cfa28f86e",
            "image_72": "https:\/\/avatars.slack-edge.com\/2022-01-10\/2929887731124_f82cfa28f86eb8c28a2f_72.jpg",
            "first_name": "Kerrin",
            "real_name": "Kerrin Grosvenor",
            "display_name": "KG",
            "team": "T4G9NBD2M",
            "name": "kerrin.grosvenor",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1626713680.496000",
        "parent_user_id": "UBS7QANF3",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "VKe",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "would love to see this once you've put something together "
                            },
                            {
                                "type": "user",
                                "user_id": "UBS7QANF3"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UBS7QANF3",
        "type": "message",
        "ts": "1626763339.013000",
        "client_msg_id": "d08494c8-fef2-4be6-b0ad-02dadc132d54",
        "text": "Cheers <@UUUAJQZ5J>, it is going to go in <https:\/\/github.com\/mberk\/betfairutil>",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gaaf844a4a90",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/eaaf844a4a905431d83430e563b077aa.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png",
            "first_name": "",
            "real_name": "Maurice Berk",
            "display_name": "Mo",
            "team": "T4G9NBD2M",
            "name": "maurice",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1626713680.496000",
        "parent_user_id": "UBS7QANF3",
        "attachments": [
            {
                "fallback": "mberk\/betfairutil",
                "text": "Utility functions for working with Betfair data",
                "title": "mberk\/betfairutil",
                "id": 1,
                "color": "24292f",
                "fields": [
                    {
                        "title": "Language",
                        "value": "Python",
                        "short": true
                    },
                    {
                        "title": "Last updated",
                        "value": "2 minutes ago",
                        "short": true
                    }
                ],
                "bot_id": "B021ZJYSBMW",
                "app_unfurl_url": "https:\/\/github.com\/mberk\/betfairutil",
                "is_app_unfurl": true
            }
        ],
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "0we5i",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Cheers "
                            },
                            {
                                "type": "user",
                                "user_id": "UUUAJQZ5J"
                            },
                            {
                                "type": "text",
                                "text": ", it is going to go in "
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/github.com\/mberk\/betfairutil"
                            }
                        ]
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "raised_hands",
                "users": [
                    "UUUAJQZ5J"
                ],
                "count": 1
            }
        ]
    },
    {
        "user": "U01D23DDMTQ",
        "type": "message",
        "ts": "1626763440.015500",
        "client_msg_id": "110A4D8F-A5E8-42F3-83D2-6BF163C4374D",
        "text": "What do you mean by “virtualising” the market book?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "5d6a9e5a85c0",
            "image_72": "https:\/\/avatars.slack-edge.com\/2021-06-26\/2219792322468_5d6a9e5a85c01e3abc9e_72.png",
            "first_name": "Andrew",
            "real_name": "Andrew",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "agruskin",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1626713680.496000",
        "parent_user_id": "UBS7QANF3",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "V0h",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "What do you mean by “virtualising” the market book?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U012PA3M7ST",
        "type": "message",
        "ts": "1626763455.015800",
        "edited": {
            "user": "U012PA3M7ST",
            "ts": "1626763586.000000"
        },
        "client_msg_id": "63e72ae6-5acb-464a-af9d-1f9845e987ad",
        "text": "Hi all. I have a simple issue that is driving me (chemo brain :slightly_smiling_face: )  nuts. the bot I have written is going ok from a functionality perspective but I am curious about the replace_order method. I have a cpl of questions but here is the code :\n```def process_orders(self, market, orders: list) -&gt; None:\n    for order in orders:\n        if order.status == OrderStatus.EXECUTABLE:\n            if order.elapsed_seconds and order.elapsed_seconds &gt; 5:\n                if order.size_matched == 0:\n                    market.replace_order(order, new_price=1.02)```\n[1.]Can the new_price= be supplied with a variable (defined earlier in another function (I can't seem to get this to work anyway (unresolved reference error)but was curious re syntax violation or something)? e.g. new_price=best_lay_price (or other variable name). [2]. Does the replace order simply take the existing order and try again with the same stake at the new price(assume it does but just checking) [3.] How do you update the new_price to be at the best lay price or best back price (is this possible) ? .Thanks and apologies for the numpty coder here but I've hit the wall on an otherwise nice little bot (thanks Liam for this platform-its great). Cheers",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "ge48e1a579ab",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/e48e1a579ab6ab79ee350f16ae8f8aab.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png",
            "first_name": "",
            "real_name": "Greg",
            "display_name": "Greg",
            "team": "T4G9NBD2M",
            "name": "madalainoz",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "l3Sw",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Hi all. I have a simple issue that is driving me (chemo brain "
                            },
                            {
                                "type": "emoji",
                                "name": "slightly_smiling_face",
                                "unicode": "1f642"
                            },
                            {
                                "type": "text",
                                "text": " )  nuts. the bot I have written is going ok from a functionality perspective but I am curious about the replace_order method. I have a cpl of questions but here is the code :\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "def process_orders(self, market, orders: list) -> None:\n    for order in orders:\n        if order.status == OrderStatus.EXECUTABLE:\n            if order.elapsed_seconds and order.elapsed_seconds > 5:\n                if order.size_matched == 0:\n                    market.replace_order(order, new_price=1.02)"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "[1.]Can the new_price= be supplied with a variable (defined earlier in another function (I can't seem to get this to work anyway (unresolved reference error)but was curious re syntax violation or something)? e.g. new_price=best_lay_price (or other variable name). [2]. Does the replace order simply take the existing order and try again with the same stake at the new price(assume it does but just checking) [3.] How do you update the new_price to be at the best lay price or best back price (is this possible) ? .Thanks and apologies for the numpty coder here but I've hit the wall on an otherwise nice little bot (thanks Liam for this platform-its great). Cheers"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UBS7QANF3",
        "type": "message",
        "ts": "1626763522.016000",
        "client_msg_id": "1d969baa-ea83-499e-b3b1-171449783a73",
        "text": "<@U01D23DDMTQ> are you familiar with cross matching and the existence of both the non-virtual and virtual price streams?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gaaf844a4a90",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/eaaf844a4a905431d83430e563b077aa.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png",
            "first_name": "",
            "real_name": "Maurice Berk",
            "display_name": "Mo",
            "team": "T4G9NBD2M",
            "name": "maurice",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1626713680.496000",
        "parent_user_id": "UBS7QANF3",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "gtgCI",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "user",
                                "user_id": "U01D23DDMTQ"
                            },
                            {
                                "type": "text",
                                "text": " are you familiar with cross matching and the existence of both the non-virtual and virtual price streams?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U01D23DDMTQ",
        "type": "message",
        "ts": "1626763590.017300",
        "client_msg_id": "5759F99D-4D59-4FF5-8DAA-A66AA031ECEE",
        "text": "No. I’ll add it to the reading list. I’ve seen it mentioned but haven’t come up against it in my activities.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "5d6a9e5a85c0",
            "image_72": "https:\/\/avatars.slack-edge.com\/2021-06-26\/2219792322468_5d6a9e5a85c01e3abc9e_72.png",
            "first_name": "Andrew",
            "real_name": "Andrew",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "agruskin",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1626713680.496000",
        "parent_user_id": "UBS7QANF3",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "meR",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "No. I’ll add it to the reading list. I’ve seen it mentioned but haven’t come up against it in my activities."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UBS7QANF3",
        "type": "message",
        "ts": "1626763660.017500",
        "client_msg_id": "09807673-bda9-481e-97a9-5800bdbc57f3",
        "text": "This is a reasonable starting point: <https:\/\/docs.developer.betfair.com\/display\/1smk3cen4v3lu3yomq5qye0ni\/Additional+Information#AdditionalInformation-VirtualBets>",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gaaf844a4a90",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/eaaf844a4a905431d83430e563b077aa.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png",
            "first_name": "",
            "real_name": "Maurice Berk",
            "display_name": "Mo",
            "team": "T4G9NBD2M",
            "name": "maurice",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1626713680.496000",
        "parent_user_id": "UBS7QANF3",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "1Az\/g",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "This is a reasonable starting point: "
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/docs.developer.betfair.com\/display\/1smk3cen4v3lu3yomq5qye0ni\/Additional+Information#AdditionalInformation-VirtualBets"
                            }
                        ]
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "ok_hand",
                "users": [
                    "UUUAJQZ5J",
                    "U01D23DDMTQ"
                ],
                "count": 2
            }
        ]
    },
    {
        "user": "ULDAVFDRP",
        "type": "message",
        "ts": "1626763993.018100",
        "edited": {
            "user": "ULDAVFDRP",
            "ts": "1626764792.000000"
        },
        "client_msg_id": "3f3dcc99-33c7-42f2-958c-df1ad3b03616",
        "text": "[1.] sounds like the variable is out of scope of the function if thats all the code, unless its globally defined",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g46fe1c1bf03",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/b46fe1c1bf03e18d951e7032fb494283.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png",
            "first_name": "",
            "real_name": "Oliver Varney",
            "display_name": "Oliver Varney",
            "team": "T4G9NBD2M",
            "name": "oliverashleyvarney",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "k=P",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "[1.] sounds like the variable is out of scope of the function if thats all the code, unless its globally defined"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "ULDAVFDRP",
        "type": "message",
        "ts": "1626764188.019600",
        "client_msg_id": "43ab341c-39af-4d70-ad1e-2db203471182",
        "text": "```market.replace_order(order, new_price=self._get_replacement_price(market_book=market.market_book, selection_id=order.selection_id))```\nmaybe write a function that gets a replacement price from market_book and order. something like the above",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g46fe1c1bf03",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/b46fe1c1bf03e18d951e7032fb494283.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png",
            "first_name": "",
            "real_name": "Oliver Varney",
            "display_name": "Oliver Varney",
            "team": "T4G9NBD2M",
            "name": "oliverashleyvarney",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1626764188.019600",
        "reply_count": 1,
        "reply_users_count": 1,
        "latest_reply": "1626764915.022100",
        "reply_users": [
            "U012PA3M7ST"
        ],
        "replies": [
            {
                "user": "U012PA3M7ST",
                "ts": "1626764915.022100"
            }
        ],
        "is_locked": false,
        "subscribed": false,
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Pqux",
                "elements": [
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "market.replace_order(order, new_price=self._get_replacement_price(market_book=market.market_book, selection_id=order.selection_id))"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "maybe write a function that gets a replacement price from market_book and order. something like the above"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "ULDAVFDRP",
        "type": "message",
        "ts": "1626764294.020200",
        "edited": {
            "user": "ULDAVFDRP",
            "ts": "1626764306.000000"
        },
        "client_msg_id": "e5eab315-5a8a-49f4-88d2-eb9b5c10d143",
        "text": "and \/or to update to best back \/lay its the zero index of runner.ex.available_to_back \/ runner.ex.available_to_lay",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g46fe1c1bf03",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/b46fe1c1bf03e18d951e7032fb494283.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png",
            "first_name": "",
            "real_name": "Oliver Varney",
            "display_name": "Oliver Varney",
            "team": "T4G9NBD2M",
            "name": "oliverashleyvarney",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1626764294.020200",
        "reply_count": 4,
        "reply_users_count": 2,
        "latest_reply": "1626835612.045000",
        "reply_users": [
            "U012PA3M7ST",
            "ULDAVFDRP"
        ],
        "replies": [
            {
                "user": "U012PA3M7ST",
                "ts": "1626764990.023800"
            },
            {
                "user": "ULDAVFDRP",
                "ts": "1626765042.024200"
            },
            {
                "user": "ULDAVFDRP",
                "ts": "1626765257.024500"
            },
            {
                "user": "U012PA3M7ST",
                "ts": "1626835612.045000"
            }
        ],
        "is_locked": false,
        "subscribed": false,
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "\/8tZ",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "and \/or to update to best back \/lay its the zero index of runner.ex.available_to_back \/ runner.ex.available_to_lay"
                            }
                        ]
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "+1",
                "users": [
                    "U012PA3M7ST"
                ],
                "count": 1
            }
        ]
    }
]