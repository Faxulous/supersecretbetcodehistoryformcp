[
    {
        "user": "U01TXCYTCSF",
        "type": "message",
        "ts": "1623054584.317200",
        "client_msg_id": "f596414d-60b6-4af1-9f45-aed1f79a8334",
        "text": "Thanks!",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "ga1c53b736aa",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/a1c53b736aa11811fefe2ef48febb67b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0020-72.png",
            "first_name": "John",
            "real_name": "John Smith",
            "display_name": "John",
            "team": "T4G9NBD2M",
            "name": "huanhuangcn",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1623045503.317100",
        "parent_user_id": "U4H19D1D2",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "ZgG",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Thanks!"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UT6593JBH",
        "type": "message",
        "ts": "1623068199.321600",
        "client_msg_id": "d89dc71d-c905-40ee-9c98-18c011c40e9b",
        "text": "Using flumine, I added a market to my script tonight. Got the message to say that the market had been added (\"INFO:betfairlightweight.streaming.stream:[MarketStream: 2001]: 1.171635649 added, 2 markets in cache\"). But when I got the first message for this market it included the market defintion info - but only gave me a very incomplete orderbook. On the website I can see that on the back side there are over 30 different prices - but the message I received only had 2 (and they weren't even the best prices for each side). Any ideas why I wouldn't be getting the full orderbook - when for all the other markets in my script I am? Is this a common problem?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gcc4ebad3a58",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/cc4ebad3a580698a264d16101dc48253.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png",
            "first_name": "",
            "real_name": "Steve",
            "display_name": "Steve",
            "team": "T4G9NBD2M",
            "name": "flegg.stephen",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Vup",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Using flumine, I added a market to my script tonight. Got the message to say that the market had been added (\"INFO:betfairlightweight.streaming.stream:[MarketStream: 2001]: 1.171635649 added, 2 markets in cache\"). But when I got the first message for this market it included the market defintion info - but only gave me a very incomplete orderbook. On the website I can see that on the back side there are over 30 different prices - but the message I received only had 2 (and they weren't even the best prices for each side). Any ideas why I wouldn't be getting the full orderbook - when for all the other markets in my script I am? Is this a common problem?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1623069487.322000",
        "client_msg_id": "81B46016-A309-42A7-8CAC-5BDBA7B78548",
        "text": "Did you ask for all the data? Live key?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1623069487.322000",
        "reply_count": 2,
        "reply_users_count": 2,
        "latest_reply": "1623134064.330600",
        "reply_users": [
            "UT6593JBH",
            "U4H19D1D2"
        ],
        "replies": [
            {
                "user": "UT6593JBH",
                "ts": "1623109625.330400"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1623134064.330600"
            }
        ],
        "is_locked": false,
        "subscribed": true,
        "last_read": "1623134064.330600",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "+rQbb",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Did you ask for all the data? Live key?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U01TXCYTCSF",
        "type": "message",
        "ts": "1623076874.322500",
        "client_msg_id": "c827fdcb-2207-4cc1-bada-69046d3ae36e",
        "text": "Hi on the just past 15:15 Lingfield race, I could see my testing script (using flumine) was running like crazy, even after the race had ended, it kept running for a minute, with some of the warning saying high latency, counting down from 45 seconds to finally 2 seconds when the script stopped... I have only one script running, the CPU usage is OK (about 50% with 2 CPUs), and this high latency happened only on some markets, not all. This high latency happens less in AU races. In the script (based on the flumine example strategy), I changed a little by adding a few lines for working out trigger prices, and calculating the stake sizes, so not too complicated. Does it mean there are too many stream events for the UK races (due to higher betting volume) to be coped by my script\/VPS. Should I get a better VPS (with faster CPU), or I am missing something? Any comments will be appreciated.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "ga1c53b736aa",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/a1c53b736aa11811fefe2ef48febb67b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0020-72.png",
            "first_name": "John",
            "real_name": "John Smith",
            "display_name": "John",
            "team": "T4G9NBD2M",
            "name": "huanhuangcn",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "0Du",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Hi on the just past 15:15 Lingfield race, I could see my testing script (using flumine) was running like crazy, even after the race had ended, it kept running for a minute, with some of the warning saying high latency, counting down from 45 seconds to finally 2 seconds when the script stopped... I have only one script running, the CPU usage is OK (about 50% with 2 CPUs), and this high latency happened only on some markets, not all. This high latency happens less in AU races. In the script (based on the flumine example strategy), I changed a little by adding a few lines for working out trigger prices, and calculating the stake sizes, so not too complicated. Does it mean there are too many stream events for the UK races (due to higher betting volume) to be coped by my script\/VPS. Should I get a better VPS (with faster CPU), or I am missing something? Any comments will be appreciated."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UFTBRB3F1",
        "type": "message",
        "ts": "1623077219.323000",
        "client_msg_id": "7be1486d-7245-4a47-aa18-b8b18c638085",
        "text": "Is it possible something is getting stuck in an infinite loop on the race being suspended?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g771e110be94",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/a771e110be945b86bede9d5c1bb551e3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png",
            "first_name": "",
            "real_name": "Newbie99",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "vjmehra",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "0s1",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Is it possible something is getting stuck in an infinite loop on the race being suspended?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1623078872.324000",
        "client_msg_id": "E713C33C-B995-43A5-BDEF-0FF6F271ECB0",
        "text": "50% would mean your cpu is maxed, what is this strategy doing? There is a leak in it ",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "BwrEp",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "50% would mean your cpu is maxed, what is this strategy doing? There is a leak in it "
                            }
                        ]
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "100",
                "users": [
                    "UBS7QANF3"
                ],
                "count": 1
            }
        ]
    },
    {
        "user": "U01TXCYTCSF",
        "type": "message",
        "ts": "1623080968.324700",
        "client_msg_id": "f3b9f265-7983-4bfe-80a6-fd979d89c5ce",
        "text": "Many thanks both <@UFTBRB3F1> and <@U4H19D1D2>. What the strategy does is mostly based on the the example strategy: 1) calculate the trigger price - an arithmetic function of the bsp, to place an order; 2) calculate the stake size: another arithmetic function of the best available price. everything else is the same as the example strategy. I was trying to get lots of logs in a file, but found the log file size slows the script down a lot, so I removed the logs and comment out most of the print\/logging I added.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "ga1c53b736aa",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/a1c53b736aa11811fefe2ef48febb67b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0020-72.png",
            "first_name": "John",
            "real_name": "John Smith",
            "display_name": "John",
            "team": "T4G9NBD2M",
            "name": "huanhuangcn",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "aKw3J",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Many thanks both "
                            },
                            {
                                "type": "user",
                                "user_id": "UFTBRB3F1"
                            },
                            {
                                "type": "text",
                                "text": " and "
                            },
                            {
                                "type": "user",
                                "user_id": "U4H19D1D2"
                            },
                            {
                                "type": "text",
                                "text": ". What the strategy does is mostly based on the the example strategy: 1) calculate the trigger price - an arithmetic function of the bsp, to place an order; 2) calculate the stake size: another arithmetic function of the best available price. everything else is the same as the example strategy. I was trying to get lots of logs in a file, but found the log file size slows the script down a lot, so I removed the logs and comment out most of the print\/logging I added."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U01DVUAE2G1",
        "type": "message",
        "ts": "1623081375.328000",
        "client_msg_id": "c1e6e424-80ef-4c04-b21f-c908908b1da9",
        "text": "well, put it back in, if its 45seconds or 90seconds latency doesnt really make a difference, both is not viable. Personally i would probably even comment out a bunch of code and let it run, then add stuff step by step and see when it falls flat",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gd87aca58eae",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/d87aca58eaeabd0a953b4bc4204bbbaf.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png",
            "first_name": "",
            "real_name": "Aaron Smith",
            "display_name": "Aaron Smith",
            "team": "T4G9NBD2M",
            "name": "smiffyaaron",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "eKp",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "well, put it back in, if its 45seconds or 90seconds latency doesnt really make a difference, both is not viable. Personally i would probably even comment out a bunch of code and let it run, then add stuff step by step and see when it falls flat"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1623082252.328700",
        "client_msg_id": "72C1FD8A-788B-46BA-A302-ACC712BAD752",
        "text": "Yeah or backtest with cprofile, any leak will show itself very quickly ",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "qS40d",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Yeah or backtest with cprofile, any leak will show itself very quickly "
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U01TXCYTCSF",
        "type": "message",
        "ts": "1623089442.329900",
        "client_msg_id": "9bef4a30-3861-489c-ad5a-ece54d9539b8",
        "text": "Many thanks for the suggestions, <@U01DVUAE2G1> and <@U4H19D1D2>. Let me try them.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "ga1c53b736aa",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/a1c53b736aa11811fefe2ef48febb67b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0020-72.png",
            "first_name": "John",
            "real_name": "John Smith",
            "display_name": "John",
            "team": "T4G9NBD2M",
            "name": "huanhuangcn",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "s+P",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Many thanks for the suggestions, "
                            },
                            {
                                "type": "user",
                                "user_id": "U01DVUAE2G1"
                            },
                            {
                                "type": "text",
                                "text": " and "
                            },
                            {
                                "type": "user",
                                "user_id": "U4H19D1D2"
                            },
                            {
                                "type": "text",
                                "text": ". Let me try them."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "subtype": "channel_join",
        "user": "U024A7ACBA7",
        "text": "<@U024A7ACBA7> has joined the channel",
        "type": "message",
        "ts": "1623103531.330100"
    },
    {
        "subtype": "channel_join",
        "user": "U02474T0G8M",
        "text": "<@U02474T0G8M> has joined the channel",
        "type": "message",
        "ts": "1623109020.330300"
    },
    {
        "user": "UT6593JBH",
        "type": "message",
        "ts": "1623109625.330400",
        "client_msg_id": "abcced2c-89f4-4c9d-9815-c928022c35f9",
        "text": "Yep. Run hundreds of markets using the same code, never a problem. Just one market where it seemed to be sending a change message rather than the whole orderbook.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gcc4ebad3a58",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/cc4ebad3a580698a264d16101dc48253.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png",
            "first_name": "",
            "real_name": "Steve",
            "display_name": "Steve",
            "team": "T4G9NBD2M",
            "name": "flegg.stephen",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1623069487.322000",
        "parent_user_id": "U4H19D1D2",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "8Vu",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Yep. Run hundreds of markets using the same code, never a problem. Just one market where it seemed to be sending a change message rather than the whole orderbook."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1623134064.330600",
        "client_msg_id": "3C79E96E-13EF-4E3B-89A7-D322E0B57069",
        "text": "What was sending a change message? When you profile live what is leaking?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1623069487.322000",
        "parent_user_id": "U4H19D1D2",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "NOc",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "What was sending a change message? When you profile live what is leaking?"
                            }
                        ]
                    }
                ]
            }
        ]
    }
]