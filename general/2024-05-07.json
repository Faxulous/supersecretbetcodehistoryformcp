[
    {
        "user": "U053KV09FKP",
        "type": "message",
        "ts": "1715072980.970829",
        "edited": {
            "user": "U053KV09FKP",
            "ts": "1715072989.000000"
        },
        "client_msg_id": "5c0d01c2-a141-488b-9afc-dac820244163",
        "text": "Yes very much faster. Changed the df to a dict and now it's finishing those 3k markets in under 10 mins",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "ge686f0ebeb0",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/e686f0ebeb0b76b2f1e9e3cd9758e4eb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png",
            "first_name": "Shado",
            "real_name": "Shado",
            "display_name": "Adrian",
            "team": "T4G9NBD2M",
            "name": "dualitynonduality_171",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1714992693.999859",
        "parent_user_id": "U053KV09FKP",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "DSBRK",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Yes very much faster. Changed the df to a dict and now it's finishing those 3k markets in under 10 mins"
                            }
                        ]
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "rocket",
                "users": [
                    "U4H19D1D2"
                ],
                "count": 1
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1715073870.880579",
        "client_msg_id": "17ea19b7-0f34-4e20-8fb3-de1c7c094cd9",
        "text": "A few things that stand out\n\n`seconds_to_start` you seem to be calling this a lot? Can you reduce calls?\n`betfairlightweight==speed` are you using it as I can't see evidence of the C\/Rust libraries\n`listener_kwargs` are you using as `check_market_book` seems to be called a lot \/ is quite slow\n`dict.___get___` lots of calls, ideally reduce if possible\n`regex` seems slow, have you optimised using compile?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1714992693.999859",
        "parent_user_id": "U053KV09FKP",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "fNUdY",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "A few things that stand out\n\n"
                            },
                            {
                                "type": "text",
                                "text": "seconds_to_start",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " you seem to be calling this a lot? Can you reduce calls?\n"
                            },
                            {
                                "type": "text",
                                "text": "betfairlightweight==speed",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " are you using it as I can't see evidence of the C\/Rust libraries\n"
                            },
                            {
                                "type": "text",
                                "text": "listener_kwargs",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " are you using as "
                            },
                            {
                                "type": "text",
                                "text": "check_market_book",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " seems to be called a lot \/ is quite slow\n"
                            },
                            {
                                "type": "text",
                                "text": "dict.__",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "get_",
                                "style": {
                                    "italic": true,
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "_",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " lots of calls, ideally reduce if possible\n"
                            },
                            {
                                "type": "text",
                                "text": "regex",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " seems slow, have you optimised using compile?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U053KV09FKP",
        "type": "message",
        "ts": "1715085733.379919",
        "client_msg_id": "9120c2e2-a808-475e-8509-9416aa886888",
        "text": "Thanks Liam, I'll check those out tomorrow!",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "ge686f0ebeb0",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/e686f0ebeb0b76b2f1e9e3cd9758e4eb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png",
            "first_name": "Shado",
            "real_name": "Shado",
            "display_name": "Adrian",
            "team": "T4G9NBD2M",
            "name": "dualitynonduality_171",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1714992693.999859",
        "parent_user_id": "U053KV09FKP",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "+4w0a",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Thanks Liam, I'll check those out tomorrow!"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U01DCR5PXDY",
        "type": "message",
        "ts": "1715090993.869359",
        "client_msg_id": "7bc6c215-7c81-4075-b67a-6356461fb940",
        "text": "FYI, planned outage on Thurs morning: <https:\/\/forum.developer.betfair.com\/forum\/developer-program\/announcements\/39952-planned-outage-betfair-exchange-thursday-9th-may-05-00-07-00-bst>",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "903bc20cd9db",
            "image_72": "https:\/\/avatars.slack-edge.com\/2020-10-26\/1448127317798_903bc20cd9dba9a758e0_72.png",
            "first_name": "thambie1",
            "real_name": "thambie1",
            "display_name": "thambie1",
            "team": "T4G9NBD2M",
            "name": "thambie1",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "emPzf",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "FYI, planned outage on Thurs morning: "
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/forum.developer.betfair.com\/forum\/developer-program\/announcements\/39952-planned-outage-betfair-exchange-thursday-9th-may-05-00-07-00-bst"
                            }
                        ]
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "+1",
                "users": [
                    "UQL0QDEKA",
                    "U80AMMRKP",
                    "U9JHLMZB4",
                    "U01FJN59B52",
                    "U4H19D1D2",
                    "U0296H9NX35",
                    "UC70576CB",
                    "U03EW75HC74"
                ],
                "count": 8
            },
            {
                "name": "rocket",
                "users": [
                    "UPMUFSGCR"
                ],
                "count": 1
            }
        ]
    },
    {
        "text": "`seconds_to_start` done. moved this solely to listener instead of in `check_market_book`\n`betfairlightweight==speed` done. downloaded it using `pip install 'betfairlightweight[speed]'` (needed the quotes to make it work)\n`listener_kwargs` done. moved all market selection to `market_filter` instead of `check_market_book`\n`dict.___get___` done. made better use of context objects to store selection_ids instead of looking up dictionary every time\n`regex` not sure how to compile the code. I'm using pycharm; I thought it was done automatically when you run the code.\n\nOther things: it would be great to implement the jupyterloggingcontrol with multiprocessing, but not sure if that's possible? I can get multiprocessing working without logging, but ideally I would like to be able to analyse my results as well. Any ideas?",
        "files": [
            {
                "id": "F0728L49SJ2",
                "created": 1715130907,
                "timestamp": 1715130907,
                "name": "formatted_profile.txt",
                "title": "formatted_profile.txt",
                "mimetype": "text\/plain",
                "filetype": "text",
                "pretty_type": "Plain Text",
                "user": "U053KV09FKP",
                "user_team": "T4G9NBD2M",
                "editable": true,
                "size": 3199,
                "mode": "snippet",
                "is_external": false,
                "external_type": "",
                "is_public": true,
                "public_url_shared": false,
                "display_as_bot": false,
                "username": "",
                "url_private": "https:\/\/files.slack.com\/files-pri\/T4G9NBD2M-F0728L49SJ2\/formatted_profile.txt?t=xoxe-152328387089-8357743338709-8373272928225-dfe8ebcd8ca3d2f633bcafeb95191840",
                "url_private_download": "https:\/\/files.slack.com\/files-pri\/T4G9NBD2M-F0728L49SJ2\/download\/formatted_profile.txt?t=xoxe-152328387089-8357743338709-8373272928225-dfe8ebcd8ca3d2f633bcafeb95191840",
                "permalink": "https:\/\/betcode-org.slack.com\/files\/U053KV09FKP\/F0728L49SJ2\/formatted_profile.txt",
                "permalink_public": "https:\/\/slack-files.com\/T4G9NBD2M-F0728L49SJ2-7617ad72eb",
                "edit_link": "https:\/\/betcode-org.slack.com\/files\/U053KV09FKP\/F0728L49SJ2\/formatted_profile.txt\/edit",
                "is_starred": false,
                "has_rich_preview": false,
                "file_access": "visible"
            }
        ],
        "upload": false,
        "user": "U053KV09FKP",
        "display_as_bot": false,
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "mJdQn",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "seconds_to_start",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " done. moved this solely to listener instead of in "
                            },
                            {
                                "type": "text",
                                "text": "check_market_book",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n"
                            },
                            {
                                "type": "text",
                                "text": "betfairlightweight==speed",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " done. downloaded it using "
                            },
                            {
                                "type": "text",
                                "text": "pip install 'betfairlightweight[speed]'",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " (needed the quotes to make it work)\n"
                            },
                            {
                                "type": "text",
                                "text": "listener_kwargs",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " done. moved all market selection to "
                            },
                            {
                                "type": "text",
                                "text": "market_filter",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " instead of "
                            },
                            {
                                "type": "text",
                                "text": "check_market_book",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n"
                            },
                            {
                                "type": "text",
                                "text": "dict.__",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "get_",
                                "style": {
                                    "italic": true,
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "_",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " done. made better use of context objects to store selection_ids instead of looking up dictionary every time\n"
                            },
                            {
                                "type": "text",
                                "text": "regex",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " not sure how to compile the code. I'm using pycharm; I thought it was done automatically when you run the code.\n\nOther things: it would be great to implement the jupyterloggingcontrol with multiprocessing, but not sure if that's possible? I can get multiprocessing working without logging, but ideally I would like to be able to analyse my results as well. Any ideas?"
                            }
                        ]
                    }
                ]
            }
        ],
        "type": "message",
        "ts": "1715130941.269709",
        "client_msg_id": "cac652b4-d471-4e22-adc0-fa0b37e9dafd",
        "thread_ts": "1714992693.999859",
        "parent_user_id": "U053KV09FKP"
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1715144623.446689",
        "client_msg_id": "D7A223AA-EECA-4537-A30A-37BF2A730AD7",
        "text": "You definitely want to be multi processing, you need to save the data per process and then join when finished. You can then just start a notebook \/ load the data ",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1714992693.999859",
        "parent_user_id": "U053KV09FKP",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "YSHlu",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "You definitely want to be multi processing, you need to save the data per process and then join when finished. You can then just start a notebook \/ load the data "
                            }
                        ]
                    }
                ]
            }
        ]
    }
]