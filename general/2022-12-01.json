[
    {
        "subtype": "tombstone",
        "text": "This message was deleted.",
        "user": "USLACKBOT",
        "hidden": true,
        "type": "message",
        "ts": "1669891725.349789",
        "thread_ts": "1669891725.349789",
        "parent_user_id": "USLACKBOT",
        "reply_count": 7,
        "reply_users_count": 2,
        "latest_reply": "1669892363.666859",
        "reply_users": [
            "UBS7QANF3",
            "U040F51N4P3"
        ],
        "replies": [
            {
                "user": "UBS7QANF3",
                "ts": "1669891971.320219"
            },
            {
                "user": "UBS7QANF3",
                "ts": "1669891982.845489"
            },
            {
                "user": "U040F51N4P3",
                "ts": "1669892256.642529"
            },
            {
                "user": "UBS7QANF3",
                "ts": "1669892280.614549"
            },
            {
                "user": "U040F51N4P3",
                "ts": "1669892322.042289"
            },
            {
                "user": "U040F51N4P3",
                "ts": "1669892325.116309"
            },
            {
                "user": "U040F51N4P3",
                "ts": "1669892363.666859"
            }
        ],
        "is_locked": false,
        "subscribed": false
    },
    {
        "user": "UBS7QANF3",
        "type": "message",
        "ts": "1669891971.320219",
        "client_msg_id": "14e8f1ef-fbb4-4dff-91a9-2491d0b616a3",
        "text": "Read the docs: <https:\/\/betcode-org.github.io\/betfair\/>",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gaaf844a4a90",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/eaaf844a4a905431d83430e563b077aa.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png",
            "first_name": "",
            "real_name": "Maurice Berk",
            "display_name": "Mo",
            "team": "T4G9NBD2M",
            "name": "maurice",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1669891725.349789",
        "parent_user_id": "USLACKBOT",
        "attachments": [
            {
                "from_url": "https:\/\/betcode-org.github.io\/betfair\/",
                "id": 1,
                "original_url": "https:\/\/betcode-org.github.io\/betfair\/",
                "fallback": "betfairlightweight",
                "text": "Lightweight, super fast (uses c libraries) pythonic wrapper for Betfair API-NG.",
                "title": "betfairlightweight",
                "title_link": "https:\/\/betcode-org.github.io\/betfair\/",
                "service_name": "betcode-org.github.io"
            }
        ],
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "ghV",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Read the docs: "
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/betcode-org.github.io\/betfair\/"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UBS7QANF3",
        "type": "message",
        "ts": "1669891982.845489",
        "client_msg_id": "f2c6d0a2-0357-413c-a2da-91c8dd52c827",
        "text": "Look at the examples: <https:\/\/github.com\/betcode-org\/betfair\/tree\/master\/examples>",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gaaf844a4a90",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/eaaf844a4a905431d83430e563b077aa.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png",
            "first_name": "",
            "real_name": "Maurice Berk",
            "display_name": "Mo",
            "team": "T4G9NBD2M",
            "name": "maurice",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1669891725.349789",
        "parent_user_id": "USLACKBOT",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "yuJ5S",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Look at the examples: "
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/github.com\/betcode-org\/betfair\/tree\/master\/examples"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U040F51N4P3",
        "type": "message",
        "ts": "1669892256.642529",
        "client_msg_id": "aa7fb7dd-a80c-46ec-8ebf-69cbf9f786ed",
        "text": "you can run this project on my Pc",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "83854f9c796d",
            "image_72": "https:\/\/avatars.slack-edge.com\/2023-09-17\/5906755379443_83854f9c796dfcf36247_72.jpg",
            "first_name": "MMW",
            "real_name": "MMW",
            "display_name": "MMW",
            "team": "T4G9NBD2M",
            "name": "faizan1617",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1669891725.349789",
        "parent_user_id": "USLACKBOT",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "SJcSz",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "you can run this project on my Pc"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UBS7QANF3",
        "type": "message",
        "ts": "1669892280.614549",
        "client_msg_id": "98b06306-ccaa-4ca5-bf1c-0ba389bb51b5",
        "text": "That's very kind of you but no thanks",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gaaf844a4a90",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/eaaf844a4a905431d83430e563b077aa.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png",
            "first_name": "",
            "real_name": "Maurice Berk",
            "display_name": "Mo",
            "team": "T4G9NBD2M",
            "name": "maurice",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1669891725.349789",
        "parent_user_id": "USLACKBOT",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "nNW",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "That's very kind of you but no thanks"
                            }
                        ]
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "joy",
                "users": [
                    "U4H19D1D2",
                    "U01B8031PM1",
                    "UUCD6P13J",
                    "UQL0QDEKA",
                    "U01DVUAE2G1",
                    "U016TGY3676"
                ],
                "count": 6
            }
        ]
    },
    {
        "user": "U040F51N4P3",
        "type": "message",
        "ts": "1669892322.042289",
        "client_msg_id": "8c19b07d-4fee-414f-aa25-4cbd0723ad8e",
        "text": "ok bro",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "83854f9c796d",
            "image_72": "https:\/\/avatars.slack-edge.com\/2023-09-17\/5906755379443_83854f9c796dfcf36247_72.jpg",
            "first_name": "MMW",
            "real_name": "MMW",
            "display_name": "MMW",
            "team": "T4G9NBD2M",
            "name": "faizan1617",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1669891725.349789",
        "parent_user_id": "USLACKBOT",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "CnVV",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "ok bro"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U040F51N4P3",
        "type": "message",
        "ts": "1669892325.116309",
        "client_msg_id": "35c0a5bc-5976-42dc-8dd3-2dc99545f0e9",
        "text": "no problem",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "83854f9c796d",
            "image_72": "https:\/\/avatars.slack-edge.com\/2023-09-17\/5906755379443_83854f9c796dfcf36247_72.jpg",
            "first_name": "MMW",
            "real_name": "MMW",
            "display_name": "MMW",
            "team": "T4G9NBD2M",
            "name": "faizan1617",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1669891725.349789",
        "parent_user_id": "USLACKBOT",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "XCkK9",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "no problem"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U040F51N4P3",
        "type": "message",
        "ts": "1669892363.666859",
        "client_msg_id": "9b50df7c-6ef7-4dd0-97e1-799852ec3078",
        "text": "thnx for your reply.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "83854f9c796d",
            "image_72": "https:\/\/avatars.slack-edge.com\/2023-09-17\/5906755379443_83854f9c796dfcf36247_72.jpg",
            "first_name": "MMW",
            "real_name": "MMW",
            "display_name": "MMW",
            "team": "T4G9NBD2M",
            "name": "faizan1617",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1669891725.349789",
        "parent_user_id": "USLACKBOT",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "s3hW",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "thnx for your reply."
                            }
                        ]
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "+1",
                "users": [
                    "UBS7QANF3"
                ],
                "count": 1
            }
        ]
    },
    {
        "user": "U02TVNZQDPV",
        "type": "message",
        "ts": "1669906272.766489",
        "client_msg_id": "ab04505f-7975-4be7-b2a2-928c1da552e3",
        "text": "When parsing historical data with <https:\/\/github.com\/betcode-org\/betfair\/blob\/master\/examples\/examplestreaminghistorical.py> how do you get the market name? Eg 5f Hcap",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "ge82f91f3690",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/e82f91f36900aec46a2097987592769d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0020-72.png",
            "first_name": "rob",
            "real_name": "rob smith",
            "display_name": "rob smith",
            "team": "T4G9NBD2M",
            "name": "rob51852",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1669906272.766489",
        "reply_count": 3,
        "reply_users_count": 2,
        "latest_reply": "1669906809.395749",
        "reply_users": [
            "UBS7QANF3",
            "U02TVNZQDPV"
        ],
        "replies": [
            {
                "user": "UBS7QANF3",
                "ts": "1669906483.404789"
            },
            {
                "user": "UBS7QANF3",
                "ts": "1669906517.615649"
            },
            {
                "user": "U02TVNZQDPV",
                "ts": "1669906809.395749"
            }
        ],
        "is_locked": false,
        "subscribed": false,
        "attachments": [
            {
                "id": 1,
                "footer_icon": "https:\/\/slack.github.com\/static\/img\/favicon-neutral.png",
                "color": "24292f",
                "bot_id": "B021ZJYSBMW",
                "app_unfurl_url": "https:\/\/github.com\/betcode-org\/betfair\/blob\/master\/examples\/examplestreaminghistorical.py",
                "is_app_unfurl": true,
                "app_id": "A01BP7R4KNY",
                "fallback": "<https:\/\/github.com\/betcode-org\/betfair\/blob\/master\/examples\/examplestreaminghistorical.py | examplestreaminghistorical.py>",
                "text": "```\nimport logging\n\nimport betfairlightweight\nfrom betfairlightweight import StreamListener\n\n\"\"\"\nData needs to be downloaded from:\n    <https:\/\/historicdata.betfair.com>\n    \nsmart-open library recommended for opening bz2\/gz files\n\"\"\"\n\n# setup logging\nlogging.basicConfig(level=<http:\/\/logging.INFO|logging.INFO>)\n\n# create trading instance (don't need username\/password)\ntrading = betfairlightweight.APIClient(\"username\", \"password\")\n\n# create listener\nlistener = StreamListener(max_latency=None)\n\n# create historical stream (update file_path to your file location)\nstream = trading.streaming.create_historical_generator_stream(\n    file_path=\"\/tmp\/BASIC-1.132153978\",\n    listener=listener,\n)\n\n# create generator\ngen = stream.get_generator()\n\n# print marketBooks\nfor market_books in gen():\n    for market_book in market_books:\n        print(market_book)\n\n# print based on seconds to start\nfor market_books in gen():\n    for market_book in market_books:\n        seconds_to_start = (\n            market_book.market_definition.market_time - market_book.publish_time\n        ).total_seconds()\n        if seconds_to_start < 100:\n            print(market_book.market_id, seconds_to_start, market_book.total_matched)\n\n        # print winner details once market is closed\n        if market_book.status == \"CLOSED\":\n            for runner in market_book.runners:\n                if runner.status == \"WINNER\":\n                    print(\n                        \"{0}: {1} with sp of {2}\".format(\n                            runner.status, runner.selection_id, runner.sp.actual_sp\n                        )\n                    )\n\n# record prices to a file\nwith open(\"output.txt\", \"w\") as output:\n    output.write(\"Time,MarketId,Status,Inplay,SelectionId,LastPriceTraded\\n\")\n\nfor market_books in gen():\n    for market_book in market_books:\n        with open(\"output.txt\", \"a\") as output:\n            for runner in market_book.runners:\n                # how to get runner details from the market definition\n                market_def = market_book.market_definition\n                runners_dict = {\n                    (runner.selection_id, runner.handicap): runner\n                    for runner in market_def.runners\n                }\n                runner_def = runners_dict.get((runner.selection_id, runner.handicap))\n\n                output.write(\n                    \"%s,%s,%s,%s,%s,%s\\n\"\n                    % (\n                        market_book.publish_time,\n                        market_book.market_id,\n                        market_book.status,\n                        market_book.inplay,\n                        runner.selection_id,\n                        runner.last_price_traded or \"\",\n                    )\n                )\n\n```",
                "title": "<https:\/\/github.com\/betcode-org\/betfair\/blob\/master\/examples\/examplestreaminghistorical.py | examplestreaminghistorical.py>",
                "footer": "<https:\/\/github.com\/betcode-org\/betfair|betcode-org\/betfair>",
                "mrkdwn_in": [
                    "text"
                ]
            }
        ],
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "E+a",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "When parsing historical data with "
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/github.com\/betcode-org\/betfair\/blob\/master\/examples\/examplestreaminghistorical.py"
                            },
                            {
                                "type": "text",
                                "text": " how do you get the market name? Eg 5f Hcap"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UBS7QANF3",
        "type": "message",
        "ts": "1669906483.404789",
        "client_msg_id": "e0e2ac04-83cb-4f14-ade8-f9cd09d6e632",
        "text": "It's in the marketDefinition",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gaaf844a4a90",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/eaaf844a4a905431d83430e563b077aa.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png",
            "first_name": "",
            "real_name": "Maurice Berk",
            "display_name": "Mo",
            "team": "T4G9NBD2M",
            "name": "maurice",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1669906272.766489",
        "parent_user_id": "U02TVNZQDPV",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "2RH",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "It's in the marketDefinition"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UBS7QANF3",
        "type": "message",
        "ts": "1669906517.615649",
        "client_msg_id": "ed73cd88-6e68-4535-a43d-f7469d1eca2f",
        "text": "The field is `name`",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gaaf844a4a90",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/eaaf844a4a905431d83430e563b077aa.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png",
            "first_name": "",
            "real_name": "Maurice Berk",
            "display_name": "Mo",
            "team": "T4G9NBD2M",
            "name": "maurice",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1669906272.766489",
        "parent_user_id": "U02TVNZQDPV",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "w\/JDI",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "The field is "
                            },
                            {
                                "type": "text",
                                "text": "name",
                                "style": {
                                    "code": true
                                }
                            }
                        ]
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "raised_hands",
                "users": [
                    "U02TVNZQDPV"
                ],
                "count": 1
            }
        ]
    },
    {
        "user": "U02TVNZQDPV",
        "type": "message",
        "ts": "1669906809.395749",
        "client_msg_id": "261c9db1-8fa9-4382-9701-355d6f53ba56",
        "text": "Got it. Thanks Mo",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "ge82f91f3690",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/e82f91f36900aec46a2097987592769d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0020-72.png",
            "first_name": "rob",
            "real_name": "rob smith",
            "display_name": "rob smith",
            "team": "T4G9NBD2M",
            "name": "rob51852",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1669906272.766489",
        "parent_user_id": "U02TVNZQDPV",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "a4M",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Got it. Thanks Mo"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U048FB758DD",
        "type": "message",
        "ts": "1669918040.128049",
        "client_msg_id": "d13664f7-ccf2-4f2d-ba48-5d48f4e48224",
        "text": "Any good alternative to timeform for horse racing data?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "ga67b2798417",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/a67b279841733b2d611ce6491f97c809.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png",
            "first_name": "Mikkel",
            "real_name": "Mikkel",
            "display_name": "Mikkel",
            "team": "T4G9NBD2M",
            "name": "mikkelwr",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1669918040.128049",
        "reply_count": 1,
        "reply_users_count": 1,
        "latest_reply": "1669979497.039919",
        "reply_users": [
            "U03T739JSTZ"
        ],
        "replies": [
            {
                "user": "U03T739JSTZ",
                "ts": "1669979497.039919"
            }
        ],
        "is_locked": false,
        "subscribed": false,
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "rhsQJ",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Any good alternative to timeform for horse racing data?"
                            }
                        ]
                    }
                ]
            }
        ]
    }
]