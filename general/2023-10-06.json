[
    {
        "user": "U03T739JSTZ",
        "type": "message",
        "ts": "1696576484.202069",
        "client_msg_id": "e6025680-694c-4147-af9a-eac7ee69caf4",
        "text": "Hello guys, with Betfairlightweight is there a way of streaming at, eg, 20ms but also forcing an update every 1000ms where there has been no stream update. These terms might not be correct but what I am trying to do is receive the data as fast as possible and when the market goes quiet continue to collect data at 1000ms until it picks up again. Cheers",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g4e9a37b8c27",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/4e9a37b8c271459be2dfd823961ccab6.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png",
            "first_name": "Andy",
            "real_name": "Andy Bason",
            "display_name": "Andy Bason",
            "team": "T4G9NBD2M",
            "name": "andybason8",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1696576484.202069",
        "reply_count": 2,
        "reply_users_count": 2,
        "latest_reply": "1696580039.720139",
        "reply_users": [
            "U4H19D1D2",
            "U03T739JSTZ"
        ],
        "replies": [
            {
                "user": "U4H19D1D2",
                "ts": "1696576545.917509"
            },
            {
                "user": "U03T739JSTZ",
                "ts": "1696580039.720139"
            }
        ],
        "is_locked": false,
        "subscribed": true,
        "last_read": "1696580039.720139",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "wZfcW",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Hello guys, with Betfairlightweight is there a way of streaming at, eg, 20ms but also forcing an update every 1000ms where there has been no stream update. These terms might not be correct but what I am trying to do is receive the data as fast as possible and when the market goes quiet continue to collect data at 1000ms until it picks up again. Cheers"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1696576545.917509",
        "edited": {
            "user": "U4H19D1D2",
            "ts": "1696576558.000000"
        },
        "client_msg_id": "3382a564-8916-4925-b36c-e3b799a4625e",
        "text": "Copy flumines <https:\/\/github.com\/betcode-org\/flumine\/blob\/9c65ce90d7574482cd11f97f2c785497edc66533\/flumine\/streams\/marketstream.py#L59|logic> with a timeout on the queue and a snap",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1696576484.202069",
        "parent_user_id": "U03T739JSTZ",
        "attachments": [
            {
                "id": 1,
                "footer_icon": "https:\/\/slack.github.com\/static\/img\/favicon-neutral.png",
                "color": "24292f",
                "bot_id": "B021ZJYSBMW",
                "app_unfurl_url": "https:\/\/github.com\/betcode-org\/flumine\/blob\/9c65ce90d7574482cd11f97f2c785497edc66533\/flumine\/streams\/marketstream.py#L59",
                "is_app_unfurl": true,
                "app_id": "A01BP7R4KNY",
                "fallback": "<https:\/\/github.com\/betcode-org\/flumine\/blob\/9c65ce90d7574482cd11f97f2c785497edc66533\/flumine\/streams\/marketstream.py | marketstream.py>",
                "text": "```\n            except queue.Empty:\n```",
                "title": "<https:\/\/github.com\/betcode-org\/flumine\/blob\/9c65ce90d7574482cd11f97f2c785497edc66533\/flumine\/streams\/marketstream.py | marketstream.py>",
                "footer": "<https:\/\/github.com\/betcode-org\/flumine|betcode-org\/flumine>",
                "mrkdwn_in": [
                    "text"
                ]
            }
        ],
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "vu84q",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Copy flumines "
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/github.com\/betcode-org\/flumine\/blob\/9c65ce90d7574482cd11f97f2c785497edc66533\/flumine\/streams\/marketstream.py#L59",
                                "text": "logic"
                            },
                            {
                                "type": "text",
                                "text": " with a timeout on the queue and a snap"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U03FVSE9R9V",
        "type": "message",
        "ts": "1696578021.313699",
        "edited": {
            "user": "U03FVSE9R9V",
            "ts": "1696578112.000000"
        },
        "client_msg_id": "544ad63f-7c6d-4b6e-b1e1-181ffb5842cf",
        "text": "Hello. I am using the simple strategy from the Flumine tutorial. Below are some code snippets\n```strategy = LayStrategy(\n    market_filter=streaming_market_filter(\n        event_type_ids=[\"7\"], # Greyhounds\n        country_codes=[\"AU\", \"NZ\"], # Australia\n        market_types=[\"WIN\"], # Win Markets\n\n    )\n\n\n)\ndef check_market_book(self, market: Market, market_book: MarketBook) -> bool:\n    # process_market_book only executed if this returns True\n    if market_book.status != \"CLOSED\":\n        return True\n\n# If check_market_book returns true i.e. the market is open and not closed then we will run process_market_book once initially\n#  After the first initial time, process_market_book runs every single time someone places, updates or cancels a bet\ndef process_market_book(self, market: Market, market_book: MarketBook) -> None:\n    if market.seconds_to_start <= 120:\n        for runner in market_book.runners:\n            logging.info(f'runner.selection_id ,{runner.selection_id},Status :{runner.status},Matches{[(m.price, m.side)for m in runner.matches]}'\n                         f'Orders:{[(o.price, o.size_matched, o.size_cancelled) for o in runner.orders]},TMthd{runner.total_matched},HdCpd{runner.handicap}'\n                         f',SP:{[runner.sp.actual_sp, runner.sp.lay_liability_taken, runner.sp.near_price, runner.sp.far_price, runner.sp.actual_sp]}')\n            logging.info(f'Complete orders = {runner.orders}')```\nI am trying to log the matched orders for each market but no order shows up in the log file. Can anyone guide what I am doing wrong?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "acd1200842ce",
            "image_72": "https:\/\/avatars.slack-edge.com\/2022-05-20\/3551586695061_acd1200842ce80574543_72.png",
            "first_name": "Muhammad",
            "real_name": "Muhammad Adeel Zahid",
            "display_name": "Muhammad Adeel Zahid",
            "team": "T4G9NBD2M",
            "name": "zahidmadeel",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1696578021.313699",
        "reply_count": 20,
        "reply_users_count": 4,
        "latest_reply": "1696936628.049939",
        "reply_users": [
            "U4H19D1D2",
            "U03FVSE9R9V",
            "UEA14GBRR",
            "U02RN7YDRQ9"
        ],
        "replies": [
            {
                "user": "U4H19D1D2",
                "ts": "1696578450.531959"
            },
            {
                "user": "U03FVSE9R9V",
                "ts": "1696640281.205729"
            },
            {
                "user": "U03FVSE9R9V",
                "ts": "1696658692.492309"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1696660795.140329"
            },
            {
                "user": "U03FVSE9R9V",
                "ts": "1696781127.947989"
            },
            {
                "user": "UEA14GBRR",
                "ts": "1696785116.837739"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1696789305.382619"
            },
            {
                "user": "U03FVSE9R9V",
                "ts": "1696850267.603579"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1696850680.126119"
            },
            {
                "user": "U03FVSE9R9V",
                "ts": "1696857011.610939"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1696857873.906469"
            },
            {
                "user": "U03FVSE9R9V",
                "ts": "1696858297.695539"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1696858569.650199"
            },
            {
                "user": "U03FVSE9R9V",
                "ts": "1696861320.651059"
            },
            {
                "user": "U02RN7YDRQ9",
                "ts": "1696861692.681939"
            },
            {
                "user": "U03FVSE9R9V",
                "ts": "1696863935.670279"
            },
            {
                "user": "U03FVSE9R9V",
                "ts": "1696931070.638939"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1696933305.001439"
            },
            {
                "user": "U03FVSE9R9V",
                "ts": "1696936099.178879"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1696936628.049939"
            }
        ],
        "is_locked": false,
        "subscribed": true,
        "last_read": "1696936628.049939",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "ZgzeQ",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Hello. I am using the simple strategy from the Flumine tutorial. Below are some code snippets\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "strategy = LayStrategy(\n    market_filter=streaming_market_filter(\n        event_type_ids=[\"7\"], # Greyhounds\n        country_codes=[\"AU\", \"NZ\"], # Australia\n        market_types=[\"WIN\"], # Win Markets\n\n    )\n\n\n)\ndef check_market_book(self, market: Market, market_book: MarketBook) -> bool:\n    # process_market_book only executed if this returns True\n    if market_book.status != \"CLOSED\":\n        return True\n\n# If check_market_book returns true i.e. the market is open and not closed then we will run process_market_book once initially\n#  After the first initial time, process_market_book runs every single time someone places, updates or cancels a bet\ndef process_market_book(self, market: Market, market_book: MarketBook) -> None:\n    if market.seconds_to_start <= 120:\n        for runner in market_book.runners:\n            logging.info(f'runner.selection_id ,{runner.selection_id},Status :{runner.status},Matches{[(m.price, m.side)for m in runner.matches]}'\n                         f'Orders:{[(o.price, o.size_matched, o.size_cancelled) for o in runner.orders]},TMthd{runner.total_matched},HdCpd{runner.handicap}'\n                         f',SP:{[runner.sp.actual_sp, runner.sp.lay_liability_taken, runner.sp.near_price, runner.sp.far_price, runner.sp.actual_sp]}')\n            logging.info(f'Complete orders = {runner.orders}')"
                            }
                        ],
                        "border": 0
                    },
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I am trying to log the matched orders for each market but no order shows up in the log file. Can anyone guide what I am doing wrong?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1696578450.531959",
        "client_msg_id": "73394489-D412-4C18-88E1-DF9F3BCC4F84",
        "text": "Where is the logging code?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1696578021.313699",
        "parent_user_id": "U03FVSE9R9V",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "dJtct",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Where is the logging code?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U03T739JSTZ",
        "type": "message",
        "ts": "1696580039.720139",
        "client_msg_id": "76ba0fef-14e3-4523-8bd2-dcd01267c99c",
        "text": "Great, cheers Liam",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g4e9a37b8c27",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/4e9a37b8c271459be2dfd823961ccab6.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png",
            "first_name": "Andy",
            "real_name": "Andy Bason",
            "display_name": "Andy Bason",
            "team": "T4G9NBD2M",
            "name": "andybason8",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1696576484.202069",
        "parent_user_id": "U03T739JSTZ",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "vqDC7",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Great, cheers Liam"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "subtype": "thread_broadcast",
        "user": "U03N4QBJ0TV",
        "thread_ts": "1695833301.467429",
        "root": {
            "user": "U03N4QBJ0TV",
            "type": "message",
            "ts": "1695833301.467429",
            "edited": {
                "user": "U03N4QBJ0TV",
                "ts": "1696585370.000000"
            },
            "client_msg_id": "3554972f-fc12-4979-9723-5d50b180c54e",
            "text": "Hey guys. Has anyone ever had an issue where the 'profit' column in their logs shows as 0 even though the bet was a win or a loss? The last 3 bets in the information below were all wins or losses on 1 pound bets . I have been using a StandardLoggingControl class for months with no issue. Its a modified version of the <https:\/\/github.com\/betcode-org\/flumine\/blob\/master\/examples\/controls\/backtestloggingcontrol.py|BacktestLoggingControl>. It only started doing this yesterday so wondering if the issue actually lays with Betfair. Strangely the first bet of the day logged correctly.\n```bet_id,strategy_name,market_id,selection_id,trade_id,date_time_placed,price,price_matched,size,size_matched,profit,side,elapsed_seconds_executable,order_status,market_note,trade_notes,order_notes\n322399496435,back_A,1.218753189,58855793,66405328-5c73-11ee-8cd1-b9568a354032,2023-09-26 13:48:40.490287,3.55,3.55,1,1,2.55,BACK,0.023866,Execution complete,\"3.5,3.55,3.6\",,\"{'secs_to_start': 79.845224} \n22403591681,back_C,1.218753209,58928490,47d0dbec-5c78-11ee-8cd1-b9568a354032,2023-09-26 14:23:36.850423,5.2,5.2,1,1,0.0,BACK,13.330706,Execution complete,\"5.1,5.2,5.1\",,\"{'secs_to_start': 83.423703}\n22413152508,back_B,1.218753428,1224675,29a2fde9-5c83-11ee-8cd1-b9568a354032,2023-09-26 15:41:30.800658,3.45,3.45,1,1,0.0,BACK,0.9553,Execution complete,\"3.4,3.45,3.4\",,\"{'secs_to_start': 209.332741} \n322414591274,back_A,1.218753244,18565272,bd43c7fd-5c84-11ee-8cd1-b9568a354032,2023-09-26 15:52:48.223042,2.78,2.78,1,1,0.0,BACK,11.308602,Execution complete,\"2.76,2.78,2.76\",,\"{'secs_to_start': 132.004036} ```",
            "team": "T4G9NBD2M",
            "thread_ts": "1695833301.467429",
            "reply_count": 18,
            "reply_users_count": 3,
            "latest_reply": "1699866268.785669",
            "reply_users": [
                "U03N4QBJ0TV",
                "U4H19D1D2",
                "UUCD6P13J"
            ],
            "replies": [
                {
                    "user": "U03N4QBJ0TV",
                    "ts": "1696585350.085339"
                },
                {
                    "user": "U03N4QBJ0TV",
                    "ts": "1696585365.611049"
                },
                {
                    "user": "U4H19D1D2",
                    "ts": "1696586285.488389"
                },
                {
                    "user": "UUCD6P13J",
                    "ts": "1696588130.592999"
                },
                {
                    "user": "U4H19D1D2",
                    "ts": "1696588595.250249"
                },
                {
                    "user": "U03N4QBJ0TV",
                    "ts": "1696594660.091859"
                },
                {
                    "user": "U03N4QBJ0TV",
                    "ts": "1696670804.664079"
                },
                {
                    "user": "U03N4QBJ0TV",
                    "ts": "1697051619.617579"
                },
                {
                    "user": "UUCD6P13J",
                    "ts": "1697057942.389099"
                },
                {
                    "user": "UUCD6P13J",
                    "ts": "1697124301.258969"
                },
                {
                    "user": "U03N4QBJ0TV",
                    "ts": "1697138686.962829"
                },
                {
                    "user": "U4H19D1D2",
                    "ts": "1697724005.141679"
                },
                {
                    "user": "U03N4QBJ0TV",
                    "ts": "1697745765.069329"
                },
                {
                    "user": "U03N4QBJ0TV",
                    "ts": "1697997715.769539"
                },
                {
                    "user": "U03N4QBJ0TV",
                    "ts": "1698395206.254469"
                },
                {
                    "user": "UUCD6P13J",
                    "ts": "1698423227.262949"
                },
                {
                    "user": "U03N4QBJ0TV",
                    "ts": "1698873047.368609"
                },
                {
                    "user": "U4H19D1D2",
                    "ts": "1699866268.785669"
                }
            ],
            "is_locked": false,
            "subscribed": true,
            "last_read": "1699866268.785669",
            "blocks": [
                {
                    "type": "rich_text",
                    "block_id": "HASLN",
                    "elements": [
                        {
                            "type": "rich_text_section",
                            "elements": [
                                {
                                    "type": "text",
                                    "text": "Hey guys. Has anyone ever had an issue where the 'profit' column in their logs shows as 0 even though the bet was a win or a loss? The last 3 bets in the information below were all wins or losses on 1 pound bets . I have been using a StandardLoggingControl class for months with no issue. Its a modified version of the "
                                },
                                {
                                    "type": "link",
                                    "url": "https:\/\/github.com\/betcode-org\/flumine\/blob\/master\/examples\/controls\/backtestloggingcontrol.py",
                                    "text": "BacktestLoggingControl"
                                },
                                {
                                    "type": "text",
                                    "text": ". It only started doing this yesterday so wondering if the issue actually lays with Betfair. Strangely the first bet of the day logged correctly.\n"
                                }
                            ]
                        },
                        {
                            "type": "rich_text_preformatted",
                            "elements": [
                                {
                                    "type": "text",
                                    "text": "bet_id,strategy_name,market_id,selection_id,trade_id,date_time_placed,price,price_matched,size,size_matched,profit,side,elapsed_seconds_executable,order_status,market_note,trade_notes,order_notes\n322399496435,back_A,1.218753189,58855793,66405328-5c73-11ee-8cd1-b9568a354032,2023-09-26 13:48:40.490287,3.55,3.55,1,1,2.55,BACK,0.023866,Execution complete,\"3.5,3.55,3.6\",,\"{'secs_to_start': 79.845224} \n22403591681,back_C,1.218753209,58928490,47d0dbec-5c78-11ee-8cd1-b9568a354032,2023-09-26 14:23:36.850423,5.2,5.2,1,1,0.0,BACK,13.330706,Execution complete,\"5.1,5.2,5.1\",,\"{'secs_to_start': 83.423703}\n22413152508,back_B,1.218753428,1224675,29a2fde9-5c83-11ee-8cd1-b9568a354032,2023-09-26 15:41:30.800658,3.45,3.45,1,1,0.0,BACK,0.9553,Execution complete,\"3.4,3.45,3.4\",,\"{'secs_to_start': 209.332741} \n322414591274,back_A,1.218753244,18565272,bd43c7fd-5c84-11ee-8cd1-b9568a354032,2023-09-26 15:52:48.223042,2.78,2.78,1,1,0.0,BACK,11.308602,Execution complete,\"2.76,2.78,2.76\",,\"{'secs_to_start': 132.004036} "
                                }
                            ],
                            "border": 0
                        }
                    ]
                }
            ]
        },
        "type": "message",
        "ts": "1696585350.085339",
        "client_msg_id": "95743b6a-a468-4a09-aa3c-0fc40fb38179",
        "text": "Just following up on this. Attached is the logger code (see next post), should have included in the initial post, sorry about that. Could scaling the amount of strategies being run cause this. I was running 10 but I am now runing 20 via a single Flumine instance.",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "0cxU\/",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Just following up on this. Attached is the logger code (see next post), should have included in the initial post, sorry about that. Could scaling the amount of strategies being run cause this. I was running 10 but I am now runing 20 via a single Flumine instance."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U03N4QBJ0TV",
        "type": "message",
        "ts": "1696585365.611049",
        "client_msg_id": "a55eb29e-e414-4d35-87ca-14a51e9f67ff",
        "text": "```import csv\nimport logging\nfrom flumine.controls.loggingcontrols import LoggingControl\nfrom flumine.order.ordertype import OrderTypes\nimport datetime\n\nlogger = logging.getLogger(__name__)\ntoday_date = datetime.datetime.now().strftime(\"%d-%m-%Y--%H:%M\")\n\nFIELDNAMES = [\n    \"bet_id\",\n    \"strategy_name\",\n    \"market_id\",\n    \"selection_id\",\n    \"trade_id\",\n    \"date_time_placed\",\n    \"price\",\n    \"price_matched\",\n    \"size\",\n    \"size_matched\",\n    \"profit\",\n    \"side\",\n    \"elapsed_seconds_executable\",\n    \"order_status\",\n    \"market_note\",\n    \"trade_notes\",\n    \"order_notes\",\n]\n\n\nclass StandardLoggingControl(LoggingControl):\n    NAME = \"Standard_Logging_Control\"\n\n    def __init__(self, *args, **kwargs):\n        super(StandardLoggingControl, self).__init__(*args, **kwargs)\n        self._setup()\n\n    def _setup(self):\n        with open(f\"orders_{today_date}.txt\", \"w\") as m:\n            csv_writer = csv.DictWriter(m, delimiter=\",\", fieldnames=FIELDNAMES)\n            csv_writer.writeheader()\n\n    def _process_cleared_orders_meta(self, event):\n        orders = event.event\n        with open(f\"orders_{today_date}.txt\", \"a\") as m:\n            for order in orders:\n                if order.order_type.ORDER_TYPE == OrderTypes.LIMIT:\n                    size = order.order_type.size\n                else:\n                    size = order.order_type.liability\n                if order.order_type.ORDER_TYPE == OrderTypes.MARKET_ON_CLOSE:\n                    price = None\n                else:\n                    price = order.order_type.price\n                try:\n                    order_data = {\n                        \"bet_id\": order.bet_id,\n                        \"strategy_name\": order.trade.strategy,\n                        \"market_id\": order.market_id,\n                        \"selection_id\": order.selection_id,\n                        \"trade_id\": order.trade.id,\n                        \"date_time_placed\": order.responses.date_time_placed,\n                        \"price\": price,\n                        \"price_matched\": order.average_price_matched,\n                        \"size\": size,\n                        \"size_matched\": order.size_matched,\n                        \"profit\": order.profit,\n                        \"side\": order.side,\n                        \"elapsed_seconds_executable\": order.elapsed_seconds_executable,\n                        \"order_status\": order.status.value,\n                        \"market_note\": order.trade.market_notes,\n                        \"trade_notes\": order.trade.notes_str,\n                        \"order_notes\": order.notes_str,\n                    }\n                    csv_writer = csv.DictWriter(m, delimiter=\",\", fieldnames=FIELDNAMES)\n                    csv_writer.writerow(order_data)\n                except Exception as e:\n                    logger.error(\n                        \"_process_cleared_orders_meta: %s\" % e,\n                        extra={\"order\": order, \"error\": e},\n                    )\n\n        <http:\/\/logger.info|logger.info>(\"Orders updated\", extra={\"order_count\": len(orders)})\n\n    def _process_cleared_markets(self, event):\n        cleared_markets = event.event\n        for cleared_market in cleared_markets.orders:\n            <http:\/\/logger.info|logger.info>(\n                \"Cleared market\",\n                extra={\n                    \"market_id\": cleared_market.market_id,\n                    \"bet_count\": cleared_market.bet_count,\n                    \"profit\": cleared_market.profit,\n                    \"commission\": cleared_market.commission,\n                },\n            )```",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g2c8538b47ad",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/2c8538b47ad4bed6facbb148134bb486.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0020-72.png",
            "first_name": "Trex44",
            "real_name": "Trex44",
            "display_name": "Trex44",
            "team": "T4G9NBD2M",
            "name": "c.s.mpharm",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1695833301.467429",
        "parent_user_id": "U03N4QBJ0TV",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "3qysw",
                "elements": [
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "import csv\nimport logging\nfrom flumine.controls.loggingcontrols import LoggingControl\nfrom flumine.order.ordertype import OrderTypes\nimport datetime\n\nlogger = logging.getLogger(__name__)\ntoday_date = datetime.datetime.now().strftime(\"%d-%m-%Y--%H:%M\")\n\nFIELDNAMES = [\n    \"bet_id\",\n    \"strategy_name\",\n    \"market_id\",\n    \"selection_id\",\n    \"trade_id\",\n    \"date_time_placed\",\n    \"price\",\n    \"price_matched\",\n    \"size\",\n    \"size_matched\",\n    \"profit\",\n    \"side\",\n    \"elapsed_seconds_executable\",\n    \"order_status\",\n    \"market_note\",\n    \"trade_notes\",\n    \"order_notes\",\n]\n\n\nclass StandardLoggingControl(LoggingControl):\n    NAME = \"Standard_Logging_Control\"\n\n    def __init__(self, *args, **kwargs):\n        super(StandardLoggingControl, self).__init__(*args, **kwargs)\n        self._setup()\n\n    def _setup(self):\n        with open(f\"orders_{today_date}.txt\", \"w\") as m:\n            csv_writer = csv.DictWriter(m, delimiter=\",\", fieldnames=FIELDNAMES)\n            csv_writer.writeheader()\n\n    def _process_cleared_orders_meta(self, event):\n        orders = event.event\n        with open(f\"orders_{today_date}.txt\", \"a\") as m:\n            for order in orders:\n                if order.order_type.ORDER_TYPE == OrderTypes.LIMIT:\n                    size = order.order_type.size\n                else:\n                    size = order.order_type.liability\n                if order.order_type.ORDER_TYPE == OrderTypes.MARKET_ON_CLOSE:\n                    price = None\n                else:\n                    price = order.order_type.price\n                try:\n                    order_data = {\n                        \"bet_id\": order.bet_id,\n                        \"strategy_name\": order.trade.strategy,\n                        \"market_id\": order.market_id,\n                        \"selection_id\": order.selection_id,\n                        \"trade_id\": order.trade.id,\n                        \"date_time_placed\": order.responses.date_time_placed,\n                        \"price\": price,\n                        \"price_matched\": order.average_price_matched,\n                        \"size\": size,\n                        \"size_matched\": order.size_matched,\n                        \"profit\": order.profit,\n                        \"side\": order.side,\n                        \"elapsed_seconds_executable\": order.elapsed_seconds_executable,\n                        \"order_status\": order.status.value,\n                        \"market_note\": order.trade.market_notes,\n                        \"trade_notes\": order.trade.notes_str,\n                        \"order_notes\": order.notes_str,\n                    }\n                    csv_writer = csv.DictWriter(m, delimiter=\",\", fieldnames=FIELDNAMES)\n                    csv_writer.writerow(order_data)\n                except Exception as e:\n                    logger.error(\n                        \"_process_cleared_orders_meta: %s\" % e,\n                        extra={\"order\": order, \"error\": e},\n                    )\n\n        logger.info(\"Orders updated\", extra={\"order_count\": len(orders)})\n\n    def _process_cleared_markets(self, event):\n        cleared_markets = event.event\n        for cleared_market in cleared_markets.orders:\n            logger.info(\n                \"Cleared market\",\n                extra={\n                    \"market_id\": cleared_market.market_id,\n                    \"bet_count\": cleared_market.bet_count,\n                    \"profit\": cleared_market.profit,\n                    \"commission\": cleared_market.commission,\n                },\n            )"
                            }
                        ],
                        "border": 0
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1696586285.488389",
        "client_msg_id": "e153c44b-490a-4b61-abff-9ae5c7737050",
        "text": "<@UUCD6P13J> is this related to the issue you found?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1695833301.467429",
        "parent_user_id": "U03N4QBJ0TV",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "vD6hk",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "user",
                                "user_id": "UUCD6P13J"
                            },
                            {
                                "type": "text",
                                "text": " is this related to the issue you found?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UUCD6P13J",
        "type": "message",
        "ts": "1696588130.592999",
        "client_msg_id": "90152fe5-276d-47fc-b59d-0fbc0727fe9a",
        "text": "potentially, the issue i found was in `_process_cleared_orders`  and related to `list_cleared_orders`. I’ll run a few tests to see if it effects `_process_cleared_orders_meta` also",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g6898272ab81",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/6898272ab810e419c2c9ca9af1e53da8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png",
            "first_name": "Lee",
            "real_name": "Lee U",
            "display_name": "Lee",
            "team": "T4G9NBD2M",
            "name": "lunswor",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1695833301.467429",
        "parent_user_id": "U03N4QBJ0TV",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "mZHPZ",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "potentially, the issue i found was in "
                            },
                            {
                                "type": "text",
                                "text": "_process_cleared_orders",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "  and related to "
                            },
                            {
                                "type": "text",
                                "text": "list_cleared_orders",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": ". I’ll run a few tests to see if it effects "
                            },
                            {
                                "type": "text",
                                "text": "_process_cleared_orders_meta",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " also"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1696588595.250249",
        "client_msg_id": "e0be27c7-45b8-48fe-ae31-cdaa4762bdf0",
        "text": "<@U03N4QBJ0TV> is this live or simulation?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1695833301.467429",
        "parent_user_id": "U03N4QBJ0TV",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "O87Xb",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "user",
                                "user_id": "U03N4QBJ0TV"
                            },
                            {
                                "type": "text",
                                "text": " is this live or simulation?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U03N4QBJ0TV",
        "type": "message",
        "ts": "1696594660.091859",
        "edited": {
            "user": "U03N4QBJ0TV",
            "ts": "1696595029.000000"
        },
        "client_msg_id": "55a3aa1d-165f-4704-b78b-a46d5625e9a8",
        "text": "Hey <@U4H19D1D2>. This is live. Each day it will log some bets with the correct profit or loss and others it will simply log as zero. I can't spot a pattern as to when or why it does this.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g2c8538b47ad",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/2c8538b47ad4bed6facbb148134bb486.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0020-72.png",
            "first_name": "Trex44",
            "real_name": "Trex44",
            "display_name": "Trex44",
            "team": "T4G9NBD2M",
            "name": "c.s.mpharm",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1695833301.467429",
        "parent_user_id": "U03N4QBJ0TV",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "XHntR",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Hey "
                            },
                            {
                                "type": "user",
                                "user_id": "U4H19D1D2"
                            },
                            {
                                "type": "text",
                                "text": ". This is live. Each day it will log some bets with the correct profit or loss and others it will simply log as zero. I can't spot a pattern as to when or why it does this."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U016TGY3676",
        "type": "message",
        "ts": "1696595533.628489",
        "client_msg_id": "ac54ecbc-ca89-4054-a8b7-0a384a75dd44",
        "text": "For those of you recording data for backtesting\/simulation, what age of data would you consider \"stale\"? I'm mainly referring to horses and dogs where the markets do evolve but the deep rooted mechanics seem to remain the same according to my own analysis.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g6a681220e11",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/6a681220e11c1a2ed3685375d658dadb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0001-72.png",
            "first_name": "",
            "real_name": "birchy",
            "display_name": "birchy",
            "team": "T4G9NBD2M",
            "name": "birchy",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1696595533.628489",
        "reply_count": 1,
        "reply_users_count": 1,
        "latest_reply": "1696671512.792769",
        "reply_users": [
            "U012CS8MP52"
        ],
        "replies": [
            {
                "user": "U012CS8MP52",
                "ts": "1696671512.792769"
            }
        ],
        "is_locked": false,
        "subscribed": false,
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "9x2r1",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "For those of you recording data for backtesting\/simulation, what age of data would you consider \"stale\"? I'm mainly referring to horses and dogs where the markets do evolve but the deep rooted mechanics seem to remain the same according to my own analysis."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U060RFU1MMW",
        "type": "message",
        "ts": "1696599217.208229",
        "client_msg_id": "2256af08-994c-40f5-a784-33a2ee36f6cf",
        "text": "I have had developed a bot that looks to a certain telegram alert service for football games. The bot then sends the games to a csv for another software called BF Bot Manager to place the bets.\n\nThe problem we had was that the team naming convention from the alert service did not comply with that of Betfair and as such the bets were not placed.\n\nWe attempted to get round this by having the bot take the team names from the alerts and then comparing them with Betfair, and then interchanging the teams names to suit Betfairs naming convention, then the bot would send the amended team names to the csv for the other software to place the bets.\n\nProblem is, it works well but does not match well, with very obsecure team names being returned, not even related tot he alert team names..\n\nPlease let me know, hopefully you can help",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "4d1a434aa976",
            "image_72": "https:\/\/avatars.slack-edge.com\/2023-10-06\/6002446672355_4d1a434aa9768f015f03_72.png",
            "first_name": "Bookworms",
            "real_name": "Bookworms Inbox",
            "display_name": "Bookworms Inbox",
            "team": "T4G9NBD2M",
            "name": "bookwormsuk",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1696599217.208229",
        "reply_count": 2,
        "reply_users_count": 2,
        "latest_reply": "1696677271.040599",
        "reply_users": [
            "U9JHLMZB4",
            "U060RFU1MMW"
        ],
        "replies": [
            {
                "user": "U9JHLMZB4",
                "ts": "1696605359.145829"
            },
            {
                "user": "U060RFU1MMW",
                "ts": "1696677271.040599"
            }
        ],
        "is_locked": false,
        "subscribed": false,
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "x8ftP",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I have had developed a bot that looks to a certain telegram alert service for football games. The bot then sends the games to a csv for another software called BF Bot Manager to place the bets.\n\nThe problem we had was that the team naming convention from the alert service did not comply with that of Betfair and as such the bets were not placed.\n\nWe attempted to get round this by having the bot take the team names from the alerts and then comparing them with Betfair, and then interchanging the teams names to suit Betfairs naming convention, then the bot would send the amended team names to the csv for the other software to place the bets.\n\nProblem is, it works well but does not match well, with very obsecure team names being returned, not even related tot he alert team names..\n\nPlease let me know, hopefully you can help"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U9JHLMZB4",
        "type": "message",
        "ts": "1696605359.145829",
        "client_msg_id": "07b41250-55cf-4a0d-9539-7bdfbf54331e",
        "text": "I don't believe that there is a convention for Betfair football names. I see inconsistencies, duplications, the occasional error and even no longer accurate historical names. You'll need to create and maintain a mapping between Betfair's and the alert service's names.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g951ddcb43e7",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/3951ddcb43e788a387d6daf330dad5ca.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png",
            "first_name": "",
            "real_name": "Peter Coles",
            "display_name": "Peter",
            "team": "T4G9NBD2M",
            "name": "peter",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1696599217.208229",
        "parent_user_id": "U060RFU1MMW",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "yLw\/J",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I don't believe that there is a convention for Betfair football names. I see inconsistencies, duplications, the occasional error and even no longer accurate historical names. You'll need to create and maintain a mapping between Betfair's and the alert service's names."
                            }
                        ]
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "100",
                "users": [
                    "UBS7QANF3"
                ],
                "count": 1
            }
        ]
    },
    {
        "user": "U05LE2JN68L",
        "type": "message",
        "ts": "1696611080.979639",
        "client_msg_id": "D5578598-7358-4482-AA55-03A86BA1760D",
        "text": "Hi all!\nIs their a fixed protocol that is followed before the match goes inplay- I’ve noticed for horse racing that market is closed for a few seconds before going inplay. I want to stop my signal before it goes inplay and put some bets on bsp at the very last moment. Is there a way to find the “last moment” using seconds_to_start or something?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "b0b67902e998",
            "image_72": "https:\/\/avatars.slack-edge.com\/2023-08-04\/5694086812628_b0b67902e9986d0a4e22_72.png",
            "first_name": "joe",
            "real_name": "joe taylor",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "erdoshft",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1696611080.979639",
        "reply_count": 8,
        "reply_users_count": 6,
        "latest_reply": "1698368930.895339",
        "reply_users": [
            "U9JHLMZB4",
            "U05LE2JN68L",
            "U016TGY3676",
            "UEA14GBRR",
            "U012CS8MP52",
            "U03EW75HC74"
        ],
        "replies": [
            {
                "user": "U9JHLMZB4",
                "ts": "1696612084.565309"
            },
            {
                "user": "U05LE2JN68L",
                "ts": "1696614419.986289"
            },
            {
                "user": "U016TGY3676",
                "ts": "1696619552.907009"
            },
            {
                "user": "UEA14GBRR",
                "ts": "1696627648.026279"
            },
            {
                "user": "U016TGY3676",
                "ts": "1696681014.312109"
            },
            {
                "user": "U012CS8MP52",
                "ts": "1696693978.331389"
            },
            {
                "user": "U016TGY3676",
                "ts": "1696694547.584639"
            },
            {
                "user": "U03EW75HC74",
                "ts": "1698368930.895339"
            }
        ],
        "is_locked": false,
        "subscribed": false,
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "UVCUj",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Hi all!\nIs their a fixed protocol that is followed before the match goes inplay- "
                            },
                            {
                                "type": "text",
                                "text": "I’ve"
                            },
                            {
                                "type": "text",
                                "text": " noticed for horse racing that market is closed for a few seconds before going inplay. I want to stop my signal before it goes inplay and put some bets on bsp at the very last moment. Is there a way to find the “last moment” using seconds_to_start or something"
                            },
                            {
                                "type": "text",
                                "text": "?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U9JHLMZB4",
        "type": "message",
        "ts": "1696612084.565309",
        "client_msg_id": "2945D886-FE74-48DC-B163-746630331794",
        "text": "Not really. Seconds to start is to the scheduled start which is only an approximate time. Most races will start a bit later than scheduled. But those few seconds of suspension when it goes in play are so that the BSP auction can be settled, so once the market is suspended you’ve missed the boat.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g951ddcb43e7",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/3951ddcb43e788a387d6daf330dad5ca.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png",
            "first_name": "",
            "real_name": "Peter Coles",
            "display_name": "Peter",
            "team": "T4G9NBD2M",
            "name": "peter",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1696611080.979639",
        "parent_user_id": "U05LE2JN68L",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "F53HL",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Not really. Seconds to start is to the scheduled start which is only an approximate time. Most races will start a bit later than scheduled"
                            },
                            {
                                "type": "text",
                                "text": "."
                            },
                            {
                                "type": "text",
                                "text": " But those few seconds of suspension when it goes in play are so that the BSP auction can be settled, so once the market is suspended you’ve missed"
                            },
                            {
                                "type": "text",
                                "text": " "
                            },
                            {
                                "type": "text",
                                "text": "the boat."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U05LE2JN68L",
        "type": "message",
        "ts": "1696614419.986289",
        "client_msg_id": "BD761B93-F94A-4D1D-A106-436A90F6323B",
        "text": "Can I place a bsp bet when those few seconds of suspension happen i.e. can I theoretically place a market order bsp bet right before the bsp nos arrive and get a match?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "b0b67902e998",
            "image_72": "https:\/\/avatars.slack-edge.com\/2023-08-04\/5694086812628_b0b67902e9986d0a4e22_72.png",
            "first_name": "joe",
            "real_name": "joe taylor",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "erdoshft",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1696611080.979639",
        "parent_user_id": "U05LE2JN68L",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "xBWr5",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Can I place a bsp bet when those few seconds of suspension happen i.e. can I theoretically place a market order bsp bet right before the bsp nos arrive and get a match?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "text": "Nearest I can think of would be to use the race status API and chuck your bets in somewhere near the actual start.",
        "files": [
            {
                "id": "F060TMLHLBA",
                "mode": "hidden_by_limit"
            }
        ],
        "upload": false,
        "user": "U016TGY3676",
        "display_as_bot": false,
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "YIwFN",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Nearest I can think of would be to use the race status API and chuck your bets in somewhere near the actual start."
                            }
                        ]
                    }
                ]
            }
        ],
        "type": "message",
        "ts": "1696619552.907009",
        "client_msg_id": "0f1d0194-b147-457f-b55e-824d5f186d3d",
        "thread_ts": "1696611080.979639",
        "parent_user_id": "U05LE2JN68L",
        "reactions": [
            {
                "name": "raised_hands",
                "users": [
                    "U05KECSV68N"
                ],
                "count": 1
            }
        ]
    },
    {
        "user": "UEA14GBRR",
        "type": "message",
        "ts": "1696627648.026279",
        "client_msg_id": "a8bca20b-ac80-45c8-8299-9cec91c606d1",
        "text": "<@U016TGY3676> bsp will be approx the last mid price so you can place\/cancel\/replace moc bets anytime at 1.01 or 1000 when the current price is within your target price, lays staked accordingly, or as your liability changes if you're doing it to hedge.  Whenever the race starts you'll have your bet placed and staked correctly to go into the pool.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "889680f46fe7",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-06\/6774538588752_889680f46fe773047cb9_72.jpg",
            "first_name": "",
            "real_name": "Shaun White",
            "display_name": "ShaunW",
            "team": "T4G9NBD2M",
            "name": "shaunwhite",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1696611080.979639",
        "parent_user_id": "U05LE2JN68L",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "EF+lo",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "user",
                                "user_id": "U016TGY3676"
                            },
                            {
                                "type": "text",
                                "text": " bsp will be approx the last mid price so you can place\/cancel\/replace moc bets anytime at 1.01 or 1000 when the current price is within your target price, lays staked accordingly, or as your liability changes if you're doing it to hedge.  Whenever the race starts you'll have your bet placed and staked correctly to go into the pool."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U03FVSE9R9V",
        "type": "message",
        "ts": "1696640281.205729",
        "client_msg_id": "6da3fb97-af77-461f-818d-a34fc2b20f7d",
        "text": "```<http:\/\/logging.info|logging.info>(f'runner.selection_id ,{runner.selection_id},Status :{runner.status},Matches{[(m.price, m.side)for m in runner.matches]}'\n                         f'Orders:{[(o.price, o.size_matched, o.size_cancelled) for o in runner.orders]},TMthd{runner.total_matched},HdCpd{runner.handicap}'\n                         f',SP:{[runner.sp.actual_sp, runner.sp.lay_liability_taken, runner.sp.near_price, runner.sp.far_price, runner.sp.actual_sp]}')\n            <http:\/\/logging.info|logging.info>(f'Complete orders = {runner.orders}')```\nHere it is. Perhaps you want to know where I am configuring the logger. The logger is configured right and it shows the messages logged by the framework it self. The above <http:\/\/logger.info|logger.info> statements do show up but the Matches and Orders are always empty lists.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "acd1200842ce",
            "image_72": "https:\/\/avatars.slack-edge.com\/2022-05-20\/3551586695061_acd1200842ce80574543_72.png",
            "first_name": "Muhammad",
            "real_name": "Muhammad Adeel Zahid",
            "display_name": "Muhammad Adeel Zahid",
            "team": "T4G9NBD2M",
            "name": "zahidmadeel",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1696578021.313699",
        "parent_user_id": "U03FVSE9R9V",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "QicyN",
                "elements": [
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "logging.info(f'runner.selection_id ,{runner.selection_id},Status :{runner.status},Matches{[(m.price, m.side)for m in runner.matches]}'\n                         f'Orders:{[(o.price, o.size_matched, o.size_cancelled) for o in runner.orders]},TMthd{runner.total_matched},HdCpd{runner.handicap}'\n                         f',SP:{[runner.sp.actual_sp, runner.sp.lay_liability_taken, runner.sp.near_price, runner.sp.far_price, runner.sp.actual_sp]}')\n            logging.info(f'Complete orders = {runner.orders}')"
                            }
                        ],
                        "border": 0
                    },
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Here it is. Perhaps you want to know where I am configuring the logger. The logger is configured right and it shows the messages logged by the framework it self. The above "
                            },
                            {
                                "type": "link",
                                "url": "http:\/\/logger.info",
                                "text": "logger.info"
                            },
                            {
                                "type": "text",
                                "text": " statements do show up but the Matches and Orders are always empty lists."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U03FVSE9R9V",
        "type": "message",
        "ts": "1696658692.492309",
        "client_msg_id": "95c69c29-5251-4cea-a3b5-be9a6aff9f24",
        "text": "<@U4H19D1D2> Can you please tell why `runner.matches` and `runner.orders` are always empty lists? Do I have to configure some parameters for Flumine to fetch orders and matched bets?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "acd1200842ce",
            "image_72": "https:\/\/avatars.slack-edge.com\/2022-05-20\/3551586695061_acd1200842ce80574543_72.png",
            "first_name": "Muhammad",
            "real_name": "Muhammad Adeel Zahid",
            "display_name": "Muhammad Adeel Zahid",
            "team": "T4G9NBD2M",
            "name": "zahidmadeel",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1696578021.313699",
        "parent_user_id": "U03FVSE9R9V",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "oObMa",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "user",
                                "user_id": "U4H19D1D2"
                            },
                            {
                                "type": "text",
                                "text": " Can you please tell why "
                            },
                            {
                                "type": "text",
                                "text": "runner.matches",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " and "
                            },
                            {
                                "type": "text",
                                "text": "runner.orders",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " are always empty lists? Do I have to configure some parameters for Flumine to fetch orders and matched bets?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1696660795.140329",
        "client_msg_id": "C88D5E23-AE13-40F0-82DA-29CEE28B6A2C",
        "text": "Those values are not populated when streaming ",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1696578021.313699",
        "parent_user_id": "U03FVSE9R9V",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "8gGFR",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Those values are not populated when streaming "
                            }
                        ]
                    }
                ]
            }
        ]
    }
]