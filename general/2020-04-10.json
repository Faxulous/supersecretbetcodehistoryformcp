[
    {
        "subtype": "channel_join",
        "user": "U011JFNK2A2",
        "text": "<@U011JFNK2A2> has joined the channel",
        "type": "message",
        "ts": "1586512313.242300"
    },
    {
        "user": "USJFUJWBE",
        "type": "message",
        "ts": "1586523606.242900",
        "client_msg_id": "04fe17f5-14b2-4838-8174-a077c41c5e87",
        "text": "what is the unit of publish time the api delivers? I mean \"pt\"",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "ge99985d3905",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/e99985d3905eb5a8a450abf027dd5a16.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png",
            "first_name": "",
            "real_name": "ClauMor",
            "display_name": "ClauMor",
            "team": "T4G9NBD2M",
            "name": "c.morchutt",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "WJzkX",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "what is the unit of publish time the api delivers? I mean \"pt\""
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UBS7QANF3",
        "type": "message",
        "ts": "1586523628.243200",
        "client_msg_id": "D5A05F06-3A0C-459D-84D6-18806C30E574",
        "text": "Unix epoch in milliseconds",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gaaf844a4a90",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/eaaf844a4a905431d83430e563b077aa.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png",
            "first_name": "",
            "real_name": "Maurice Berk",
            "display_name": "Mo",
            "team": "T4G9NBD2M",
            "name": "maurice",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "mV4",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Unix epoch in milliseconds"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "USJFUJWBE",
        "type": "message",
        "ts": "1586523642.243600",
        "client_msg_id": "0ac5f2ff-896e-402e-9f3f-b63d992ddcbe",
        "text": "alright thanks!",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "ge99985d3905",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/e99985d3905eb5a8a450abf027dd5a16.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png",
            "first_name": "",
            "real_name": "ClauMor",
            "display_name": "ClauMor",
            "team": "T4G9NBD2M",
            "name": "c.morchutt",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "goDj",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "alright thanks!"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "USJFUJWBE",
        "type": "message",
        "ts": "1586523819.244100",
        "client_msg_id": "a00e2435-2b43-4e3f-8365-c4e5026ceda3",
        "text": "that means, in the betfairlightweight package, the default max_latency is .5",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "ge99985d3905",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/e99985d3905eb5a8a450abf027dd5a16.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png",
            "first_name": "",
            "real_name": "ClauMor",
            "display_name": "ClauMor",
            "team": "T4G9NBD2M",
            "name": "c.morchutt",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "+8h",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "that means, in the betfairlightweight package, the default max_latency is .5"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "USJFUJWBE",
        "type": "message",
        "ts": "1586523824.244300",
        "client_msg_id": "e672464b-fef5-4294-8bbe-0ccc20b0a47f",
        "text": "which would be 500 nanoseconds?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "ge99985d3905",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/e99985d3905eb5a8a450abf027dd5a16.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png",
            "first_name": "",
            "real_name": "ClauMor",
            "display_name": "ClauMor",
            "team": "T4G9NBD2M",
            "name": "c.morchutt",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Yn9p",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "which would be 500 nanoseconds?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UBS7QANF3",
        "type": "message",
        "ts": "1586524121.244900",
        "client_msg_id": "EB4ADA20-82C9-417E-AE30-368C4533A4B2",
        "text": "No that parameter is in seconds",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gaaf844a4a90",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/eaaf844a4a905431d83430e563b077aa.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png",
            "first_name": "",
            "real_name": "Maurice Berk",
            "display_name": "Mo",
            "team": "T4G9NBD2M",
            "name": "maurice",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "NnO",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "No that parameter is in seconds"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UBS7QANF3",
        "type": "message",
        "ts": "1586524169.245500",
        "client_msg_id": "BC3A6250-5522-4FBB-83D1-1E073224D728",
        "text": "The publish time is divided by 1000 during calculation of the latency",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gaaf844a4a90",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/eaaf844a4a905431d83430e563b077aa.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png",
            "first_name": "",
            "real_name": "Maurice Berk",
            "display_name": "Mo",
            "team": "T4G9NBD2M",
            "name": "maurice",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "yKB",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "The publish time is divided by 1000 during calculation of the latency"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "USJFUJWBE",
        "type": "message",
        "ts": "1586524227.246500",
        "client_msg_id": "94a34d67-aa93-453f-a3c6-08cd78aaf014",
        "text": "yea I see time.time() - publish_time \/ 1e3",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "ge99985d3905",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/e99985d3905eb5a8a450abf027dd5a16.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png",
            "first_name": "",
            "real_name": "ClauMor",
            "display_name": "ClauMor",
            "team": "T4G9NBD2M",
            "name": "c.morchutt",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "27q7",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "yea I see time.time() - publish_time \/ 1e3"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UBS7QANF3",
        "type": "message",
        "ts": "1586524244.247000",
        "client_msg_id": "BD764ABB-EAC8-4FF2-B945-9A345D573006",
        "text": "Yup",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gaaf844a4a90",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/eaaf844a4a905431d83430e563b077aa.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png",
            "first_name": "",
            "real_name": "Maurice Berk",
            "display_name": "Mo",
            "team": "T4G9NBD2M",
            "name": "maurice",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "PDf",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Yup"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "USJFUJWBE",
        "type": "message",
        "ts": "1586524265.247300",
        "client_msg_id": "17d24da9-cd75-4809-96f1-5a78be817c83",
        "text": "time.time() is in seconds since epoch",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "ge99985d3905",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/e99985d3905eb5a8a450abf027dd5a16.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png",
            "first_name": "",
            "real_name": "ClauMor",
            "display_name": "ClauMor",
            "team": "T4G9NBD2M",
            "name": "c.morchutt",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "AETI",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "time.time() is in seconds since epoch"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "USJFUJWBE",
        "type": "message",
        "ts": "1586524303.247600",
        "client_msg_id": "d1fd35d2-9975-4006-a0c9-eac8bb0cd380",
        "text": "anyway i get warning with 1.5 seconds latency",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "ge99985d3905",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/e99985d3905eb5a8a450abf027dd5a16.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png",
            "first_name": "",
            "real_name": "ClauMor",
            "display_name": "ClauMor",
            "team": "T4G9NBD2M",
            "name": "c.morchutt",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "7VB6",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "anyway i get warning with 1.5 seconds latency"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "USJFUJWBE",
        "type": "message",
        "ts": "1586524310.247800",
        "client_msg_id": "690dab39-5db3-4f44-8532-15a8a37cd60d",
        "text": "and im not sure why",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "ge99985d3905",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/e99985d3905eb5a8a450abf027dd5a16.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png",
            "first_name": "",
            "real_name": "ClauMor",
            "display_name": "ClauMor",
            "team": "T4G9NBD2M",
            "name": "c.morchutt",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "3Mjn",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "and im not sure why"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UBS7QANF3",
        "type": "message",
        "ts": "1586524400.248400",
        "client_msg_id": "39BB1570-7A56-4956-931B-CADFF35AFFF1",
        "text": "What are you doing with the updates? You need to read them fast enough ",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gaaf844a4a90",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/eaaf844a4a905431d83430e563b077aa.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png",
            "first_name": "",
            "real_name": "Maurice Berk",
            "display_name": "Mo",
            "team": "T4G9NBD2M",
            "name": "maurice",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "QOj",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "What are you doing with the updates? You need to read them fast enough "
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "USJFUJWBE",
        "type": "message",
        "ts": "1586524565.248900",
        "client_msg_id": "58189a04-2394-4a63-96b1-090cc0adb68c",
        "text": "In MarketStream(BaseStream) of <http:\/\/stream.py|stream.py> I put a method to print the market_book",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "ge99985d3905",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/e99985d3905eb5a8a450abf027dd5a16.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png",
            "first_name": "",
            "real_name": "ClauMor",
            "display_name": "ClauMor",
            "team": "T4G9NBD2M",
            "name": "c.morchutt",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "FKVC+",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "In MarketStream(BaseStream) of "
                            },
                            {
                                "type": "link",
                                "url": "http:\/\/stream.py",
                                "text": "stream.py"
                            },
                            {
                                "type": "text",
                                "text": " I put a method to print the market_book"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "USJFUJWBE",
        "type": "message",
        "ts": "1586524567.249100",
        "client_msg_id": "5afd6d31-eef3-4194-9838-252a526fd995",
        "text": "in console",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "ge99985d3905",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/e99985d3905eb5a8a450abf027dd5a16.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png",
            "first_name": "",
            "real_name": "ClauMor",
            "display_name": "ClauMor",
            "team": "T4G9NBD2M",
            "name": "c.morchutt",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "1Hu+3",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "in console"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "USJFUJWBE",
        "type": "message",
        "ts": "1586524615.249700",
        "client_msg_id": "d610200a-2c42-4035-b2f9-5d78d2f1e6d8",
        "text": "Not sure if that takes time, im at the beginning of understanding all that",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "ge99985d3905",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/e99985d3905eb5a8a450abf027dd5a16.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png",
            "first_name": "",
            "real_name": "ClauMor",
            "display_name": "ClauMor",
            "team": "T4G9NBD2M",
            "name": "c.morchutt",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "j1Sp",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Not sure if that takes time, im at the beginning of understanding all that"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "USJFUJWBE",
        "type": "message",
        "ts": "1586524662.250100",
        "client_msg_id": "02b73c70-fafb-4ba0-80e8-3d1ea2f111d3",
        "text": "in _process() I print the market book update to console",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "ge99985d3905",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/e99985d3905eb5a8a450abf027dd5a16.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png",
            "first_name": "",
            "real_name": "ClauMor",
            "display_name": "ClauMor",
            "team": "T4G9NBD2M",
            "name": "c.morchutt",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "L32",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "in _process() I print the market book update to console"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UBS7QANF3",
        "type": "message",
        "ts": "1586525424.250500",
        "client_msg_id": "e48cb45c-9423-41de-b117-4dea82b18700",
        "text": "That's a horrible way to see the market books",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gaaf844a4a90",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/eaaf844a4a905431d83430e563b077aa.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png",
            "first_name": "",
            "real_name": "Maurice Berk",
            "display_name": "Mo",
            "team": "T4G9NBD2M",
            "name": "maurice",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "vmi",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "That's a horrible way to see the market books"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UBS7QANF3",
        "type": "message",
        "ts": "1586525440.251000",
        "client_msg_id": "44670a92-fcbf-4ff8-80ab-c815a2aad980",
        "text": "Consume the stream in the standard way: <https:\/\/github.com\/liampauling\/betfair\/blob\/master\/examples\/examplestreaming.py>",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gaaf844a4a90",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/eaaf844a4a905431d83430e563b077aa.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png",
            "first_name": "",
            "real_name": "Maurice Berk",
            "display_name": "Mo",
            "team": "T4G9NBD2M",
            "name": "maurice",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "attachments": [
            {
                "fallback": "[liampauling\/betfair] examples\/examplestreaming.py",
                "text": "```\nimport logging\nimport queue\nimport threading\n\nimport betfairlightweight\nfrom betfairlightweight.filters import (\n    streaming_market_filter,\n    streaming_market_data_filter,\n)\n\n\n# setup logging\nlogging.basicConfig(level=<http:\/\/logging.INFO|logging.INFO>)  # change to DEBUG to see log all updates\n\n# create trading instance (app key must be activated for streaming)\ntrading = betfairlightweight.APIClient(\"username\", \"password\", app_key=\"appKey\")\n\n# login\ntrading.login()\n\n# create queue\noutput_queue = queue.Queue()\n\n# create stream listener\nlistener = betfairlightweight.StreamListener(output_queue=output_queue)\n\n# create stream\nstream = trading.streaming.create_stream(listener=listener)\n\n# create filters (GB WIN racing)\nmarket_filter = streaming_market_filter(\n    event_type_ids=[\"7\"], country_codes=[\"GB\"], market_types=[\"WIN\"]\n)\nmarket_data_filter = streaming_market_data_filter(\n    fields=[\"EX_BEST_OFFERS\", \"EX_MARKET_DEF\"], ladder_levels=3\n)\n\n# subscribe\nstreaming_unique_id = stream.subscribe_to_markets(\n    market_filter=market_filter,\n    market_data_filter=market_data_filter,\n    conflate_ms=1000,  # send update every 1000ms\n)\n\n# start stream in a new thread (in production would need err handling)\nt = threading.Thread(target=stream.start, daemon=True)\nt.start()\n\n\"\"\"\nData can also be accessed by using the snap function in the listener, e.g:\n\n    market_books = listener.snap(\n        market_ids=[1.12345323]\n    )\n\nErrors need to be caught at stream.start, resubscribe can then be used to\nprevent full image being sent, e.g:\n\n    streaming_unique_id = stream.subscribe_to_markets(\n        market_filter=market_filter,\n        market_data_filter=market_data_filter,\n        conflate_ms=1000,  # send update every 1000ms\n        initial_clk=listener.initial_clk,\n        clk=listener.clk,\n    )\n\nThe streaming unique id is returned in the market book which allows multiple\nstreams to be differentiated if multiple streams feed into the same queue.\n\"\"\"\n\n# check for updates in output queue\nwhile True:\n    market_books = output_queue.get()\n    print(market_books)\n\n    for market_book in market_books:\n        print(\n            market_book,\n            market_book.streaming_unique_id,  # unique id of stream (returned from subscribe request)\n            market_book.streaming_update,  # json update received\n            market_book.market_definition,  # streaming definition, similar to catalogue request\n            market_book.publish_time,  # betfair publish time of update\n        )\n\n```",
                "title": "examples\/examplestreaming.py",
                "footer": "<https:\/\/github.com\/liampauling\/betfair|liampauling\/betfair>",
                "id": 1,
                "title_link": "https:\/\/github.com\/liampauling\/betfair\/blob\/master\/examples\/examplestreaming.py",
                "footer_icon": "https:\/\/github.githubassets.com\/favicon.ico",
                "color": "24292f",
                "mrkdwn_in": [
                    "text"
                ],
                "bot_id": "B01144Z0734",
                "app_unfurl_url": "https:\/\/github.com\/liampauling\/betfair\/blob\/master\/examples\/examplestreaming.py",
                "is_app_unfurl": true
            }
        ],
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "v\/=",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Consume the stream in the standard way: "
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/github.com\/liampauling\/betfair\/blob\/master\/examples\/examplestreaming.py"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U92CASP1B",
        "type": "message",
        "ts": "1586529987.251900",
        "client_msg_id": "74ccfc35-768b-47ff-b013-286d77ab94e7",
        "text": "<@USJFUJWBE> Check that your clock is correct, <https:\/\/developer.betfair.com\/en\/exchange-api\/faq\/#answer-which-ntp-servers-do-betfair-use>",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g374352c822f",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/a374352c822fa856c4cfdd782bbb8669.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-72.png",
            "first_name": "Jonatan",
            "real_name": "Jonatan",
            "display_name": "Jonatan (skyw)",
            "team": "T4G9NBD2M",
            "name": "almen.jonatan",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "8ONT8",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "user",
                                "user_id": "USJFUJWBE"
                            },
                            {
                                "type": "text",
                                "text": " Check that your clock is correct, "
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/developer.betfair.com\/en\/exchange-api\/faq\/#answer-which-ntp-servers-do-betfair-use"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UUCD6P13J",
        "type": "message",
        "ts": "1586553281.253500",
        "client_msg_id": "318222ED-AD47-4221-AB1E-B352A83DC6E9",
        "text": "Is it okay to keep the market recorder running in flumine as one of the strategies in production or keep them as two separate services?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g6898272ab81",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/6898272ab810e419c2c9ca9af1e53da8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png",
            "first_name": "Lee",
            "real_name": "Lee U",
            "display_name": "Lee",
            "team": "T4G9NBD2M",
            "name": "lunswor",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Gc2",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Is it okay to keep the market recorder running in flumine as one of the strategies in production or keep them as two separate services?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "subtype": "channel_join",
        "user": "U0128E7BEHW",
        "text": "<@U0128E7BEHW> has joined the channel",
        "type": "message",
        "ts": "1586559915.253700"
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1586585836.254900",
        "client_msg_id": "421A0856-B8EC-4D35-B7F2-F9B0321AB9B7",
        "text": "<@UUCD6P13J> what do you mean? I run about 5 strategies each collecting data on one instance in production with no problems ",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "dap3K",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "user",
                                "user_id": "UUCD6P13J"
                            },
                            {
                                "type": "text",
                                "text": " what do you mean? I run about 5 strategies each collecting data on one instance in production with no problems "
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UUCD6P13J",
        "type": "message",
        "ts": "1586587535.257400",
        "client_msg_id": "55F9F3D2-DC19-49B4-A1F2-8F62865DD1C9",
        "text": "Does this same instance also run your trading strategies or prefer to keep that separate?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g6898272ab81",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/6898272ab810e419c2c9ca9af1e53da8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png",
            "first_name": "Lee",
            "real_name": "Lee U",
            "display_name": "Lee",
            "team": "T4G9NBD2M",
            "name": "lunswor",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "tcRX7",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Does this same instance also run your trading strategies or prefer to keep that separate?"
                            }
                        ]
                    }
                ]
            }
        ]
    }
]