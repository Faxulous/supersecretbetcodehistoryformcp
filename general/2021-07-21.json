[
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1626860006.045500",
        "client_msg_id": "228720bb-bb65-48e7-8e0a-f2fb366431de",
        "text": "Is the 100ms delay at the matcher as well or just the stream? I assume just the latter?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1626713680.496000",
        "parent_user_id": "UBS7QANF3",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "B7n2",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Is the 100ms delay at the matcher as well or just the stream? I assume just the latter?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UT6593JBH",
        "type": "message",
        "ts": "1626865194.048500",
        "client_msg_id": "ba9f9bb1-4c88-4e2b-b56b-18d0bb7c88ad",
        "text": "Does anyone know if there is a built in function in lightweight or flumine which calculates the matched profit if win for a selectionId that incoprorates the backs\/lays which have been matched on other runners? The get_exposures function in the market blotter only seems to look at the backs\/lay matched on a specific runner. I'm essentially looking for the website displays in the red\/green numbers on the left hand side when a trade gets matched. Thanks",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gcc4ebad3a58",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/cc4ebad3a580698a264d16101dc48253.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png",
            "first_name": "",
            "real_name": "Steve",
            "display_name": "Steve",
            "team": "T4G9NBD2M",
            "name": "flegg.stephen",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1626865194.048500",
        "reply_count": 8,
        "reply_users_count": 3,
        "latest_reply": "1627543208.217600",
        "reply_users": [
            "UFTBRB3F1",
            "U01DVUAE2G1",
            "UT6593JBH"
        ],
        "replies": [
            {
                "user": "UFTBRB3F1",
                "ts": "1626867584.050000"
            },
            {
                "user": "UFTBRB3F1",
                "ts": "1626867840.050200"
            },
            {
                "user": "UFTBRB3F1",
                "ts": "1626867954.050400"
            },
            {
                "user": "U01DVUAE2G1",
                "ts": "1626867956.050600"
            },
            {
                "user": "UFTBRB3F1",
                "ts": "1626867962.050800"
            },
            {
                "user": "UFTBRB3F1",
                "ts": "1626867967.051000"
            },
            {
                "user": "UFTBRB3F1",
                "ts": "1626867970.051200"
            },
            {
                "user": "UT6593JBH",
                "ts": "1627543208.217600"
            }
        ],
        "is_locked": false,
        "subscribed": false,
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "br9",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Does anyone know if there is a built in function in lightweight or flumine which calculates the matched profit if win for a selectionId that incoprorates the backs\/lays which have been matched on other runners? The get_exposures function in the market blotter only seems to look at the backs\/lay matched on a specific runner. I'm essentially looking for the website displays in the red\/green numbers on the left hand side when a trade gets matched. Thanks"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U01DVUAE2G1",
        "type": "message",
        "ts": "1626865542.049800",
        "client_msg_id": "fcb8d83e-4f70-48c4-9a63-830554785f54",
        "text": "<@UT6593JBH> pretty sure this is not implemented within flumine, however it should be rather easy to calculate yourself. Just note that this only works on WIN markets (or any market with a single winner that is)",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gd87aca58eae",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/d87aca58eaeabd0a953b4bc4204bbbaf.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png",
            "first_name": "",
            "real_name": "Aaron Smith",
            "display_name": "Aaron Smith",
            "team": "T4G9NBD2M",
            "name": "smiffyaaron",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "4sH",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "user",
                                "user_id": "UT6593JBH"
                            },
                            {
                                "type": "text",
                                "text": " pretty sure this is not implemented within flumine, however it should be rather easy to calculate yourself. Just note that this only works on WIN markets (or any market with a single winner that is)"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UFTBRB3F1",
        "type": "message",
        "ts": "1626867584.050000",
        "client_msg_id": "4d2c7e7b-61b2-4ff6-985e-70864d49f8c6",
        "text": "Its basically:\n\n(net_runner_exposure - net_market_stake + net_runner_stake) * (1 - market_com_rate)",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g771e110be94",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/a771e110be945b86bede9d5c1bb551e3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png",
            "first_name": "",
            "real_name": "Newbie99",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "vjmehra",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1626865194.048500",
        "parent_user_id": "UT6593JBH",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "epZb",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Its basically:\n\n(net_runner_exposure - net_market_stake + net_runner_stake) * (1 - market_com_rate)"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UFTBRB3F1",
        "type": "message",
        "ts": "1626867840.050200",
        "client_msg_id": "030ff732-20cb-41a9-af55-6289f32dfed5",
        "text": "(there is an extra complexity, I forget the exact scenario, but there is one where if its negative then you have to adjust that calc in a very edge case scenario, will try to dig it out)",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g771e110be94",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/a771e110be945b86bede9d5c1bb551e3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png",
            "first_name": "",
            "real_name": "Newbie99",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "vjmehra",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1626865194.048500",
        "parent_user_id": "UT6593JBH",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "98z",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "(there is an extra complexity, I forget the exact scenario, but there is one where if its negative then you have to adjust that calc in a very edge case scenario, will try to dig it out)"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UFTBRB3F1",
        "type": "message",
        "ts": "1626867954.050400",
        "client_msg_id": "19454b51-e859-4e78-85b7-e6fb0e52d58e",
        "text": "Ah this was it:\n\n```def calc_max_exposure(runner):\n\n\n\n    if float(runner['net_stake']) &gt; 0 and float(runner['net_exposure']) &lt; 0:\n        exposure = float(runner['if_win']) - float(runner['net_exposure']) - float(runner['net_stake'])\n    else:\n        exposure = float(runner['if_win'])\n\n    return exposure```",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g771e110be94",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/a771e110be945b86bede9d5c1bb551e3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png",
            "first_name": "",
            "real_name": "Newbie99",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "vjmehra",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1626865194.048500",
        "parent_user_id": "UT6593JBH",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "+PS",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Ah this was it:\n\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "def calc_max_exposure(runner):\n\n\n\n    if float(runner['net_stake']) > 0 and float(runner['net_exposure']) < 0:\n        exposure = float(runner['if_win']) - float(runner['net_exposure']) - float(runner['net_stake'])\n    else:\n        exposure = float(runner['if_win'])\n\n    return exposure"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U01DVUAE2G1",
        "type": "message",
        "ts": "1626867956.050600",
        "client_msg_id": "4297ec3d-e941-43d6-b21e-dfca7a4bf398",
        "text": "If its negative, there is no commission. I envy you for calling that a very edge case sceonario :smile:",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gd87aca58eae",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/d87aca58eaeabd0a953b4bc4204bbbaf.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png",
            "first_name": "",
            "real_name": "Aaron Smith",
            "display_name": "Aaron Smith",
            "team": "T4G9NBD2M",
            "name": "smiffyaaron",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1626865194.048500",
        "parent_user_id": "UT6593JBH",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "CvV",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "If its negative, there is no commission. I envy you for calling that a very edge case sceonario "
                            },
                            {
                                "type": "emoji",
                                "name": "smile",
                                "unicode": "1f604"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UFTBRB3F1",
        "type": "message",
        "ts": "1626867962.050800",
        "client_msg_id": "cda7387b-b06f-4dea-97ff-a8088481e604",
        "text": "No, ha",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g771e110be94",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/a771e110be945b86bede9d5c1bb551e3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png",
            "first_name": "",
            "real_name": "Newbie99",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "vjmehra",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1626865194.048500",
        "parent_user_id": "UT6593JBH",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "IFgE7",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "No, ha"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UFTBRB3F1",
        "type": "message",
        "ts": "1626867967.051000",
        "client_msg_id": "9d2ab2ce-3e0a-40d1-bdf5-558530524a71",
        "text": "the above",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g771e110be94",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/a771e110be945b86bede9d5c1bb551e3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png",
            "first_name": "",
            "real_name": "Newbie99",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "vjmehra",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1626865194.048500",
        "parent_user_id": "UT6593JBH",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "QPcu",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "the above"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UFTBRB3F1",
        "type": "message",
        "ts": "1626867970.051200",
        "client_msg_id": "d4d8b281-8497-45b0-bce6-c48f03bbe308",
        "text": "its very specific",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g771e110be94",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/a771e110be945b86bede9d5c1bb551e3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png",
            "first_name": "",
            "real_name": "Newbie99",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "vjmehra",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1626865194.048500",
        "parent_user_id": "UT6593JBH",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "j75",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "its very specific"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U0135SLHQBW",
        "type": "message",
        "ts": "1626887224.051400",
        "client_msg_id": "d9b88dc5-7f45-424a-839e-828adec364ab",
        "text": "Mo, 4. is the way to go",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g316814ce896",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/316814ce896c34a9c72e2ddd6fa17b86.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-72.png",
            "first_name": "",
            "real_name": "MacrcoPolo",
            "display_name": "MacrcoPolo",
            "team": "T4G9NBD2M",
            "name": "omverran",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1626713680.496000",
        "parent_user_id": "UBS7QANF3",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "iQdDp",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Mo, 4. is the way to go"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U0135SLHQBW",
        "type": "message",
        "ts": "1626887253.051600",
        "client_msg_id": "b184d7c6-0883-4ef6-91fc-6c212bc864e0",
        "text": "It's not very tricky to write the virtualization - It's a fairly simple exercise , especially if you just want the top-of-book.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g316814ce896",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/316814ce896c34a9c72e2ddd6fa17b86.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-72.png",
            "first_name": "",
            "real_name": "MacrcoPolo",
            "display_name": "MacrcoPolo",
            "team": "T4G9NBD2M",
            "name": "omverran",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1626713680.496000",
        "parent_user_id": "UBS7QANF3",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "k3Z1",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "It's not very tricky to write the virtualization - It's a fairly simple exercise , especially if you just want the top-of-book."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UBS7QANF3",
        "type": "message",
        "ts": "1626887414.051800",
        "client_msg_id": "b3c8e02e-860f-46be-814c-bfaefdff964c",
        "text": "I guess I'm missing something then",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gaaf844a4a90",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/eaaf844a4a905431d83430e563b077aa.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png",
            "first_name": "",
            "real_name": "Maurice Berk",
            "display_name": "Mo",
            "team": "T4G9NBD2M",
            "name": "maurice",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1626713680.496000",
        "parent_user_id": "UBS7QANF3",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Rmc",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I guess I'm missing something then"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "subtype": "channel_join",
        "user": "U028Z5T4AF6",
        "text": "<@U028Z5T4AF6> has joined the channel",
        "type": "message",
        "ts": "1626890386.052200"
    },
    {
        "user": "UUUAJQZ5J",
        "type": "message",
        "ts": "1626909888.052300",
        "client_msg_id": "a4f235d9-bdaf-4198-b981-72a6edd48528",
        "text": "that's my assumption too <@U4H19D1D2>",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "f82cfa28f86e",
            "image_72": "https:\/\/avatars.slack-edge.com\/2022-01-10\/2929887731124_f82cfa28f86eb8c28a2f_72.jpg",
            "first_name": "Kerrin",
            "real_name": "Kerrin Grosvenor",
            "display_name": "KG",
            "team": "T4G9NBD2M",
            "name": "kerrin.grosvenor",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1626713680.496000",
        "parent_user_id": "UBS7QANF3",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "hDeX8",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "that's my assumption too "
                            },
                            {
                                "type": "user",
                                "user_id": "U4H19D1D2"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "subtype": "channel_join",
        "user": "U028MHQKX6J",
        "text": "<@U028MHQKX6J> has joined the channel",
        "type": "message",
        "ts": "1626917926.052700"
    },
    {
        "subtype": "channel_join",
        "user": "U028MME7W94",
        "text": "<@U028MME7W94> has joined the channel",
        "type": "message",
        "ts": "1626923007.052900"
    }
]