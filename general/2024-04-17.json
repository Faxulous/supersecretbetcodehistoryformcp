[
    {
        "user": "U06V39UKEBT",
        "type": "message",
        "ts": "1713364421.749929",
        "client_msg_id": "93deb097-c188-46c9-8729-7765dbc61353",
        "text": "*betfairlightweight\/streaming\/cache*",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "3047661c895d",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-04-17\/6973756723109_3047661c895d64e6618d_72.jpg",
            "first_name": "Massimo",
            "real_name": "Massimo Abitante",
            "display_name": "Massimo Abitante",
            "team": "T4G9NBD2M",
            "name": "massimo.abitante",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1713364421.749929",
        "reply_count": 18,
        "reply_users_count": 3,
        "latest_reply": "1713468097.360199",
        "reply_users": [
            "U06V39UKEBT",
            "U4H19D1D2",
            "UQL0QDEKA"
        ],
        "replies": [
            {
                "user": "U06V39UKEBT",
                "ts": "1713364666.349259"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1713365341.760549"
            },
            {
                "user": "U06V39UKEBT",
                "ts": "1713365380.714699"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1713365423.412209"
            },
            {
                "user": "U06V39UKEBT",
                "ts": "1713365604.214809"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1713365663.217039"
            },
            {
                "user": "U06V39UKEBT",
                "ts": "1713365818.758989"
            },
            {
                "user": "U06V39UKEBT",
                "ts": "1713365844.365339"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1713365849.603269"
            },
            {
                "user": "U06V39UKEBT",
                "ts": "1713365876.093579"
            },
            {
                "user": "UQL0QDEKA",
                "ts": "1713366390.990439"
            },
            {
                "user": "U06V39UKEBT",
                "ts": "1713367331.099569"
            },
            {
                "user": "U06V39UKEBT",
                "ts": "1713444584.067369"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1713444987.321449"
            },
            {
                "user": "U06V39UKEBT",
                "ts": "1713446323.391749"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1713447025.947379"
            },
            {
                "user": "U06V39UKEBT",
                "ts": "1713459234.731019"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1713468097.360199"
            }
        ],
        "is_locked": false,
        "subscribed": true,
        "last_read": "1713468097.360199",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "o5VYD",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "betfairlightweight\/streaming\/cache",
                                "style": {
                                    "bold": true
                                }
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U06V39UKEBT",
        "type": "message",
        "ts": "1713364666.349259",
        "client_msg_id": "7d842473-a522-4b34-a263-4e3321159bb6",
        "text": "Hi everybody! Sorry for the dumb question but I'm a beginner.\nWhen I subscribe to the markets stream (subscribe_to_markets) I get the updates regarding prices and sizes on the market.\nI need to do some stuff only when prices change. My idea was to create my own \"cache\" saving the prices so when I get an update I can compare old prices (saved in my cache) with new prices (received from the stream).\nHere I've seen this \"cache\" code that looks like something I could use instead of my own cache.\nHow can I access that cache? Is it something that betfairlightweight populates automatically or do I need to initialize it somehow?\n\nThank you very much",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "3047661c895d",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-04-17\/6973756723109_3047661c895d64e6618d_72.jpg",
            "first_name": "Massimo",
            "real_name": "Massimo Abitante",
            "display_name": "Massimo Abitante",
            "team": "T4G9NBD2M",
            "name": "massimo.abitante",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1713364421.749929",
        "parent_user_id": "U06V39UKEBT",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "d5SD\/",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Hi everybody! Sorry for the dumb question but I'm a beginner.\nWhen I subscribe to the markets stream (subscribe_to_markets) I get the updates regarding prices and sizes on the market.\nI need to do some stuff only when prices change. My idea was to create my own \"cache\" saving the prices so when I get an update I can compare old prices (saved in my cache) with new prices (received from the stream).\nHere I've seen this \"cache\" code that looks like something I could use instead of my own cache.\nHow can I access that cache? Is it something that betfairlightweight populates automatically or do I need to initialize it somehow?\n\nThank you very much"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1713365341.760549",
        "client_msg_id": "2fde15d1-bb2f-4dc2-83c3-cb65f9b5ea09",
        "text": "What do you mean by 'I need to do some stuff only when prices change` because this is how streaming works",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1713364421.749929",
        "parent_user_id": "U06V39UKEBT",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "B6IIy",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "What do you mean by 'I need to do some stuff only when prices change` because this is how streaming works"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U06V39UKEBT",
        "type": "message",
        "ts": "1713365380.714699",
        "client_msg_id": "ac71be6b-60bd-4241-aaea-eeb13054986f",
        "text": "I get updates not only when price changes but also when the size changes.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "3047661c895d",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-04-17\/6973756723109_3047661c895d64e6618d_72.jpg",
            "first_name": "Massimo",
            "real_name": "Massimo Abitante",
            "display_name": "Massimo Abitante",
            "team": "T4G9NBD2M",
            "name": "massimo.abitante",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1713364421.749929",
        "parent_user_id": "U06V39UKEBT",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "5w4e4",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I get updates not only when price changes but also when the size changes."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1713365423.412209",
        "client_msg_id": "a0879ddb-138e-4927-99be-ca2045411ec8",
        "text": "You can see the raw update in `market_book.streaming_update`",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1713364421.749929",
        "parent_user_id": "U06V39UKEBT",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "10IbW",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "You can see the raw update in "
                            },
                            {
                                "type": "text",
                                "text": "market_book.streaming_update",
                                "style": {
                                    "code": true
                                }
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U06V39UKEBT",
        "type": "message",
        "ts": "1713365604.214809",
        "client_msg_id": "ad337d22-8671-4967-ba0e-f58de1ed2dbe",
        "text": "Yes but I get a streaming_update everytime the price or the size changes, I need to check if the price has changed or not. So I was thinking to use that \"cache\" that i see in betfairlightweight code, instead of creating my own dict where I save the price so I can compare it with the next streaming_update.\nIs that cache accessible somehow?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "3047661c895d",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-04-17\/6973756723109_3047661c895d64e6618d_72.jpg",
            "first_name": "Massimo",
            "real_name": "Massimo Abitante",
            "display_name": "Massimo Abitante",
            "team": "T4G9NBD2M",
            "name": "massimo.abitante",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1713364421.749929",
        "parent_user_id": "U06V39UKEBT",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "PhGfZ",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Yes but I get a streaming_update everytime the price or the size changes, I need to check if the price has changed or not. So I was thinking to use that \"cache\" that i see in betfairlightweight code, instead of creating my own dict where I save the price so I can compare it with the next streaming_update.\nIs that cache accessible somehow?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1713365663.217039",
        "client_msg_id": "5baae8f8-d813-4c6e-b172-a16f63d227a2",
        "text": "Just look in the update and see if the price has changed, skip if not, I don't recommend changing any of the private cache methods, if you do your on your own",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1713364421.749929",
        "parent_user_id": "U06V39UKEBT",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "HLq08",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Just look in the update and see if the price has changed, skip if not, I don't recommend changing any of the private cache methods, if you do your on your own"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U06V39UKEBT",
        "type": "message",
        "ts": "1713365818.758989",
        "client_msg_id": "908f663e-27c5-44a4-8b5f-4b092fb3e693",
        "text": "that's my point, I can't see if the price has changed if I don't have the previous price saved somewhere. So I wanted to see what that private cache contains. I don't want to change it, I just want to see what there is inside it.\nLet's say how can I print the private cache? Just to look at what there is in it.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "3047661c895d",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-04-17\/6973756723109_3047661c895d64e6618d_72.jpg",
            "first_name": "Massimo",
            "real_name": "Massimo Abitante",
            "display_name": "Massimo Abitante",
            "team": "T4G9NBD2M",
            "name": "massimo.abitante",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1713364421.749929",
        "parent_user_id": "U06V39UKEBT",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "7EYRW",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "that's my point, I can't see if the price has changed if I don't have the previous price saved somewhere. So I wanted to see what that private cache contains. I don't want to change it, I just want to see what there is inside it.\nLet's say how can I print the private cache? Just to look at what there is in it."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U06V39UKEBT",
        "type": "message",
        "ts": "1713365844.365339",
        "client_msg_id": "48163566-49a2-495a-acc1-3325d78c25d4",
        "text": "It's a dumb question, I know, but I cant find the way to see what there's in that cache",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "3047661c895d",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-04-17\/6973756723109_3047661c895d64e6618d_72.jpg",
            "first_name": "Massimo",
            "real_name": "Massimo Abitante",
            "display_name": "Massimo Abitante",
            "team": "T4G9NBD2M",
            "name": "massimo.abitante",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1713364421.749929",
        "parent_user_id": "U06V39UKEBT",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "0ddQM",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "It's a dumb question, I know, but I cant find the way to see what there's in that cache"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1713365849.603269",
        "client_msg_id": "09f7259c-314f-442a-9936-dacc88706dfc",
        "text": "but the update contains the UPDATE, ie if there is a price in there it has changed",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1713364421.749929",
        "parent_user_id": "U06V39UKEBT",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Td2Ql",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "but the update contains the UPDATE, ie if there is a price in there it has changed"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U06V39UKEBT",
        "type": "message",
        "ts": "1713365876.093579",
        "client_msg_id": "2f3aaefa-d823-476c-8fd8-7e24be87e6d2",
        "text": "wait let me show you an example",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "3047661c895d",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-04-17\/6973756723109_3047661c895d64e6618d_72.jpg",
            "first_name": "Massimo",
            "real_name": "Massimo Abitante",
            "display_name": "Massimo Abitante",
            "team": "T4G9NBD2M",
            "name": "massimo.abitante",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1713364421.749929",
        "parent_user_id": "U06V39UKEBT",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "msuLx",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "wait let me show you an example"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UQL0QDEKA",
        "type": "message",
        "ts": "1713366390.990439",
        "edited": {
            "user": "UQL0QDEKA",
            "ts": "1713366421.000000"
        },
        "client_msg_id": "1cdc46ec-7ae7-4c32-ae90-0ae3b66f69f9",
        "text": "Im only a beginner too, but could you not do something like this :\n\n`def __init__(self, *args, **kwargs):`\n        `super().__init__(*args, **kwargs)`\n        `self.last_publish_time = {}`\n        `self.last_trade_price = {}  # Dictionary to keep track of the last price`\n\n`trade_key = (market_id, runner.selection_id)`\n\n            `if self.last_trade_price.get(trade_key) == price:`\n                `continue  # Skip if the price is the same...`\n\nYou could keep track of each runner price (as not every price will change on each update) ?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g444d10128c0",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/444d10128c0aaf094041a52a76796602.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png",
            "first_name": "Peter",
            "real_name": "Peter Lenagh",
            "display_name": "PeterLe",
            "team": "T4G9NBD2M",
            "name": "lenagh",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1713364421.749929",
        "parent_user_id": "U06V39UKEBT",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "0KCHw",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Im only a beginner too, but could you not do something like this :\n\n"
                            },
                            {
                                "type": "text",
                                "text": "def __init__(self, *args, **kwargs):",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n"
                            },
                            {
                                "type": "text",
                                "text": "        super().__init__(*args, **kwargs)",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n"
                            },
                            {
                                "type": "text",
                                "text": "        self.last_publish_time = {}",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n"
                            },
                            {
                                "type": "text",
                                "text": "        self.last_trade_price = {}  # Dictionary to keep track of the last price",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n\n"
                            },
                            {
                                "type": "text",
                                "text": "trade_key = (market_id, runner.selection_id)",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n\n"
                            },
                            {
                                "type": "text",
                                "text": "            if self.last_trade_price.get(trade_key) == price:",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n"
                            },
                            {
                                "type": "text",
                                "text": "                continue  # Skip if the price is the same...",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n\nYou could keep track of each runner price (as not every price will change on each update) ?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "text": "I think I found why I couldn't understand you <@U4H19D1D2>.\nI got confused because I was looking at the prices that I find in the \"runners\" element of the update (I set lightweight=True so I get the dictionary).\nIn those fields I get the current market prices so if price has not changed I will find the same price in all the updates I get.\nInstead, as you <@U4H19D1D2> suggested, I have to look at the actual streaming_update. There only delta will be sent.\nGot it so I don't actually need any comparison with old prices. If I get a price in batb or batl, that price must have been changed.\nThank you <@U4H19D1D2>.\nThank you <@UQL0QDEKA> , I think that comparison you make is not needed. I'll look better into it, anyway.",
        "files": [
            {
                "id": "F06UBMVK8DD",
                "mode": "hidden_by_limit"
            }
        ],
        "upload": false,
        "user": "U06V39UKEBT",
        "display_as_bot": false,
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "UyYGJ",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I think I found why I couldn't understand you "
                            },
                            {
                                "type": "user",
                                "user_id": "U4H19D1D2"
                            },
                            {
                                "type": "text",
                                "text": ".\nI got confused because I was looking at the prices that I find in the \"runners\" element of the update (I set lightweight=True so I get the dictionary).\nIn those fields I get the current market prices so if price has not changed I will find the same price in all the updates I get.\nInstead, as you "
                            },
                            {
                                "type": "user",
                                "user_id": "U4H19D1D2"
                            },
                            {
                                "type": "text",
                                "text": " suggested, I have to look at the actual streaming_update. There only delta will be sent.\nGot it so I don't actually need any comparison with old prices. If I get a price in batb or batl, that price must have been changed.\nThank you "
                            },
                            {
                                "type": "user",
                                "user_id": "U4H19D1D2"
                            },
                            {
                                "type": "text",
                                "text": ".\nThank you "
                            },
                            {
                                "type": "user",
                                "user_id": "UQL0QDEKA"
                            },
                            {
                                "type": "text",
                                "text": " , I think that comparison you make is not needed. I'll look better into it, anyway."
                            }
                        ]
                    }
                ]
            }
        ],
        "type": "message",
        "ts": "1713367331.099569",
        "client_msg_id": "288e1ca0-0b2c-4145-bb9d-13612ae83f5a",
        "thread_ts": "1713364421.749929",
        "parent_user_id": "U06V39UKEBT",
        "reactions": [
            {
                "name": "100",
                "users": [
                    "U4H19D1D2"
                ],
                "count": 1
            }
        ]
    },
    {
        "user": "U05N9773A23",
        "type": "message",
        "ts": "1713378069.969709",
        "client_msg_id": "ff40435c-c231-4361-912c-d582c29902b8",
        "text": "How does everyone handle converting raw market data into point-in-time snapshots of the market for ingestion into a database? I usually save the market books from the stream directly as they're far easier to work with but I wanted to record raw data this time for redundancy.\n\nFor context, I am using flumine raw data stream to capture the data, record to a temp file, then move to a storage account once the market closes. The script that does this is running in a docker container on Azure.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g9a60fb53f27",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/9a60fb53f27a5eefe4207d5f5b9ce4bc.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png",
            "first_name": "Justice",
            "real_name": "Justice",
            "display_name": "Justice",
            "team": "T4G9NBD2M",
            "name": "bkwdev",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1713378069.969709",
        "reply_count": 7,
        "reply_users_count": 2,
        "latest_reply": "1713510830.755129",
        "reply_users": [
            "U4H19D1D2",
            "U05N9773A23"
        ],
        "replies": [
            {
                "user": "U4H19D1D2",
                "ts": "1713380312.376739"
            },
            {
                "user": "U05N9773A23",
                "ts": "1713422898.268359"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1713422938.137529"
            },
            {
                "user": "U05N9773A23",
                "ts": "1713423162.692819"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1713424472.298769"
            },
            {
                "user": "U05N9773A23",
                "ts": "1713510776.822849"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1713510830.755129"
            }
        ],
        "is_locked": false,
        "subscribed": true,
        "last_read": "1713510830.755129",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "j8bEK",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "How does everyone handle converting raw market data into point-in-time snapshots of the market for ingestion into a database? I usually save the market books from the stream directly as they're far easier to work with but I wanted to record raw data this time for redundancy.\n\nFor context, I am using flumine raw data stream to capture the data, record to a temp file, then move to a storage account once the market closes. The script that does this is running in a docker container on Azure."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1713380312.376739",
        "client_msg_id": "D66EDCC4-38DD-4347-A2DE-147E200F0EAB",
        "text": "I keep all markets in the raw format (always do this) and then process into flat files when I want to do some analysis. It’s then a case of just using pandas, I haven’t found any advantages of putting a database in between. ",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1713378069.969709",
        "parent_user_id": "U05N9773A23",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "M30Vr",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I keep all markets in the raw format (always do this) and then process into flat files when I want to do some analysis. "
                            },
                            {
                                "type": "text",
                                "text": "It’s"
                            },
                            {
                                "type": "text",
                                "text": " then a case of just using pandas, I "
                            },
                            {
                                "type": "text",
                                "text": "haven’t"
                            },
                            {
                                "type": "text",
                                "text": " found any advantages of putting a database in between. "
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U05N9773A23",
        "type": "message",
        "ts": "1713422898.268359",
        "client_msg_id": "b1e4015e-4a9d-492a-8c5c-69ef095980fb",
        "text": "Interesting, I assume it would take a very long time to process large amounts of raw data into a dataframe? Do you save these processed flat files so they're always on hand or do you process them as required?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g9a60fb53f27",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/9a60fb53f27a5eefe4207d5f5b9ce4bc.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png",
            "first_name": "Justice",
            "real_name": "Justice",
            "display_name": "Justice",
            "team": "T4G9NBD2M",
            "name": "bkwdev",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1713378069.969709",
        "parent_user_id": "U05N9773A23",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "iRdl9",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Interesting, I assume it would take a very long time to process large amounts of raw data into a dataframe? Do you save these processed flat files so they're always on hand or do you process them as required?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1713422938.137529",
        "edited": {
            "user": "U4H19D1D2",
            "ts": "1713422957.000000"
        },
        "client_msg_id": "8f1f7279-2e1e-4e83-ab12-ae9304d9266c",
        "text": "I am normally sub 100m rows so just keep them in ram, takes a few seconds to load",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1713378069.969709",
        "parent_user_id": "U05N9773A23",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "NwXTm",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I am normally sub 100m rows so just keep them in ram, takes a few seconds to load"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U05N9773A23",
        "type": "message",
        "ts": "1713423162.692819",
        "client_msg_id": "06329796-1cae-4c99-be85-cf1ea3e787dd",
        "text": "That's very fast indeed, is that using flumine to process the raw data?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g9a60fb53f27",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/9a60fb53f27a5eefe4207d5f5b9ce4bc.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0021-72.png",
            "first_name": "Justice",
            "real_name": "Justice",
            "display_name": "Justice",
            "team": "T4G9NBD2M",
            "name": "bkwdev",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1713378069.969709",
        "parent_user_id": "U05N9773A23",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "RkMhK",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "That's very fast indeed, is that using flumine to process the raw data?"
                            }
                        ]
                    }
                ]
            }
        ]
    }
]