[
    {
        "user": "UBS7QANF3",
        "type": "message",
        "ts": "1589786107.361100",
        "client_msg_id": "f07a7aaf-ddac-4c5a-830d-3a67deaf53f1",
        "text": "This might be useful (assumes lightweight market books):\n\n```def market_book_to_data_frame(market_book: dict) -&gt; pd.DataFrame:\n    return pd.DataFrame(\n        {\n            'publish_time': market_book['publishTime'],\n            'selection_id': runner['selectionId'],\n            'side': side,\n            'depth': depth,\n            'price': price_size['price'],\n            'size': price_size['size']\n        }\n        for runner in market_book['runners']\n        for side in ['Back', 'Lay']\n        for depth, price_size in enumerate(runner.get('ex', {}).get(f'availableTo{side}', []))\n    )```\n",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gaaf844a4a90",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/eaaf844a4a905431d83430e563b077aa.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png",
            "first_name": "",
            "real_name": "Maurice Berk",
            "display_name": "Mo",
            "team": "T4G9NBD2M",
            "name": "maurice",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "0rjJ",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "This might be useful (assumes lightweight market books):\n\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "def market_book_to_data_frame(market_book: dict) -> pd.DataFrame:\n    return pd.DataFrame(\n        {\n            'publish_time': market_book['publishTime'],\n            'selection_id': runner['selectionId'],\n            'side': side,\n            'depth': depth,\n            'price': price_size['price'],\n            'size': price_size['size']\n        }\n        for runner in market_book['runners']\n        for side in ['Back', 'Lay']\n        for depth, price_size in enumerate(runner.get('ex', {}).get(f'availableTo{side}', []))\n    )"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_section",
                        "elements": []
                    }
                ]
            }
        ]
    },
    {
        "user": "U0135SLHQBW",
        "type": "message",
        "ts": "1589795379.361400",
        "client_msg_id": "e6ba89f0-173a-4db7-bc6c-392d3eaf3fb2",
        "text": "any stan users here?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g316814ce896",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/316814ce896c34a9c72e2ddd6fa17b86.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-72.png",
            "first_name": "",
            "real_name": "MacrcoPolo",
            "display_name": "MacrcoPolo",
            "team": "T4G9NBD2M",
            "name": "omverran",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "rJMl",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "any stan users here?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UBS7QANF3",
        "type": "message",
        "ts": "1589796096.361600",
        "client_msg_id": "A8639639-AD90-4889-B586-008AE113032E",
        "text": "Occasionally ",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gaaf844a4a90",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/eaaf844a4a905431d83430e563b077aa.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png",
            "first_name": "",
            "real_name": "Maurice Berk",
            "display_name": "Mo",
            "team": "T4G9NBD2M",
            "name": "maurice",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "2acZs",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Occasionally "
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U01093Z1KF0",
        "type": "message",
        "ts": "1589834407.369300",
        "client_msg_id": "da661eb9-1fc2-4b73-ad70-926a5f2d84a7",
        "text": "quick q about flumine's backtester - does it only take betfair market data files as input?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g0e065c4f427",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/0e065c4f4274fd0a565c58690dfc4a58.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png",
            "first_name": "",
            "real_name": "brightcake",
            "display_name": "brightcake",
            "team": "T4G9NBD2M",
            "name": "vlademelianov",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "UU5R",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "quick q about flumine's backtester - does it only take betfair market data files as input?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UPMUFSGCR",
        "type": "message",
        "ts": "1589837100.369400",
        "client_msg_id": "9bd6f533-60f2-4fa1-a844-5ea9180e0c55",
        "text": "<@U4H19D1D2> have you had any further thoughts on this proposed change? In the mean time I have been patching builtins.open, but that is causing me problems elsewhere. Also, it's pretty ugly to be importing from unittest.mock in code that isn't for unit testing.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "31c0bb5a442c",
            "image_72": "https:\/\/avatars.slack-edge.com\/2019-10-28\/812386967189_31c0bb5a442c5b8d2c61_72.png",
            "first_name": "Jon",
            "real_name": "Jon Jon Jon Jon Jon Jon Jon Jon",
            "display_name": "Jonjonjon",
            "team": "T4G9NBD2M",
            "name": "fcmisc",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1589311304.273100",
        "parent_user_id": "UPMUFSGCR",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "iSV0X",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "user",
                                "user_id": "U4H19D1D2"
                            },
                            {
                                "type": "text",
                                "text": " have you had any further thoughts on this proposed change? In the mean time I have been patching builtins.open, but that is causing me problems elsewhere. Also, it's pretty ugly to be importing from unittest.mock in code that isn't for unit testing."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1589865537.370200",
        "client_msg_id": "C5973FEE-222F-4856-B164-93AD73AB8ACD",
        "text": "<@U01093Z1KF0> it takes streaming data yeah, what do you want to give it?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "HMM",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "user",
                                "user_id": "U01093Z1KF0"
                            },
                            {
                                "type": "text",
                                "text": " it takes streaming data yeah, what do you want to give it?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1589866508.371100",
        "client_msg_id": "2BF0FA0E-199D-49CC-9EB2-B691920F6CF6",
        "text": "I think if I were to change it I would move to passing a generator, would that work better for you?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1589311304.273100",
        "parent_user_id": "UPMUFSGCR",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "noM",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I think if I were to change it I would move to passing a generator, would that work better for you?"
                            }
                        ]
                    }
                ]
            }
        ]
    }
]