[
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1694677064.019229",
        "client_msg_id": "6e87a992-576a-4c6d-a9aa-fb67f7249957",
        "text": "`ClearedOrdersMetaEvent` event is sent when a cleared orders is received into the main queue, ie once a market has closed and orders have been reconciled and available from a `list_cleared_orders` request (worker)\n\n`CloseMarketEvent` event is sent when a marketBook is received that has the status as `CLOSED`",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1694645799.888409",
        "parent_user_id": "U016TGY3676",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "W7P",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "ClearedOrdersMetaEvent",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " event is sent when a cleared orders is received into the main queue, ie once a market has closed and orders have been reconciled and available from a "
                            },
                            {
                                "type": "text",
                                "text": "list_cleared_orders",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " request (worker)\n\n"
                            },
                            {
                                "type": "text",
                                "text": "CloseMarketEvent",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " event is sent when a marketBook is received that has the status as "
                            },
                            {
                                "type": "text",
                                "text": "CLOSED",
                                "style": {
                                    "code": true
                                }
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U016TGY3676",
        "type": "message",
        "ts": "1694694154.394889",
        "client_msg_id": "4b57e65e-4a52-4caa-ba06-7c058b324485",
        "text": "Thanks <@U4H19D1D2>. So if I understand correctly, `ClearedOrdersMetaEvent` _should_ be called before the market is finally closed? Either way, I'm seeing an inconsistent order of events. To clarify my issue, what is the recommended order of processing to get the BSP's before writing my CSV? My current setup is:\n1. On `ClearedOrdersMetaEvent`: save orders to a class variable\n2. On `CloseMarketEvent`: get BSP's, append to orders &amp; save to CSV\nI suspect my logic is flawed.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g6a681220e11",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/6a681220e11c1a2ed3685375d658dadb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0001-72.png",
            "first_name": "",
            "real_name": "birchy",
            "display_name": "birchy",
            "team": "T4G9NBD2M",
            "name": "birchy",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1694645799.888409",
        "parent_user_id": "U016TGY3676",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "eins5",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Thanks "
                            },
                            {
                                "type": "user",
                                "user_id": "U4H19D1D2"
                            },
                            {
                                "type": "text",
                                "text": ". So if I understand correctly, "
                            },
                            {
                                "type": "text",
                                "text": "ClearedOrdersMetaEvent",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " "
                            },
                            {
                                "type": "text",
                                "text": "should ",
                                "style": {
                                    "italic": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "be called before the market is finally closed? Either way, I'm seeing an inconsistent order of events. To clarify my issue, what is the recommended order of processing to get the BSP's before writing my CSV? My current setup is:\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_list",
                        "elements": [
                            {
                                "type": "rich_text_section",
                                "elements": [
                                    {
                                        "type": "text",
                                        "text": "On "
                                    },
                                    {
                                        "type": "text",
                                        "text": "ClearedOrdersMetaEvent",
                                        "style": {
                                            "code": true
                                        }
                                    },
                                    {
                                        "type": "text",
                                        "text": ": save orders to a class variable"
                                    }
                                ]
                            },
                            {
                                "type": "rich_text_section",
                                "elements": [
                                    {
                                        "type": "text",
                                        "text": "On "
                                    },
                                    {
                                        "type": "text",
                                        "text": "CloseMarketEvent",
                                        "style": {
                                            "code": true
                                        }
                                    },
                                    {
                                        "type": "text",
                                        "text": ": get BSP's, append to orders & save to CSV"
                                    }
                                ]
                            }
                        ],
                        "style": "ordered",
                        "indent": 0,
                        "offset": 0,
                        "border": 0
                    },
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "\nI suspect my logic is flawed."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1694694242.338499",
        "client_msg_id": "6c92ba64-2735-45fc-9bdd-6d6d3a2da2e2",
        "text": "`CloseMarketEvent` will happen first (might be more than one), `ClearedOrdersMetaEvent` will happen after but who knows this is betfair",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1694645799.888409",
        "parent_user_id": "U016TGY3676",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "=j=B",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "CloseMarketEvent",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " will happen first (might be more than one), "
                            },
                            {
                                "type": "text",
                                "text": "ClearedOrdersMetaEvent",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " will happen after but who knows this is betfair"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U016TGY3676",
        "type": "message",
        "ts": "1694694280.475999",
        "client_msg_id": "9566c1f5-c234-44c9-87ec-1795929972ba",
        "text": "Ok, so how does everyone else handle this?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g6a681220e11",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/6a681220e11c1a2ed3685375d658dadb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0001-72.png",
            "first_name": "",
            "real_name": "birchy",
            "display_name": "birchy",
            "team": "T4G9NBD2M",
            "name": "birchy",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1694645799.888409",
        "parent_user_id": "U016TGY3676",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "I0jIh",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Ok, so how does everyone else handle this?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1694694349.407259",
        "edited": {
            "user": "U4H19D1D2",
            "ts": "1694694359.000000"
        },
        "client_msg_id": "f76e5a5d-a451-410c-b9b5-6ee93cc7edba",
        "text": "Order data -&gt; api -&gt; order table\nRunner data -&gt; api -&gt; runner table",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1694645799.888409",
        "parent_user_id": "U016TGY3676",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Ht17q",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Order data -> api -> order table\nRunner data -> api -> runner table"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U016TGY3676",
        "type": "message",
        "ts": "1694694560.078409",
        "client_msg_id": "ee08d035-0563-4929-8fd3-4d386e5803be",
        "text": "Time to think. :grinning:",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g6a681220e11",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/6a681220e11c1a2ed3685375d658dadb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0001-72.png",
            "first_name": "",
            "real_name": "birchy",
            "display_name": "birchy",
            "team": "T4G9NBD2M",
            "name": "birchy",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1694645799.888409",
        "parent_user_id": "U016TGY3676",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "fnW",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Time to think. "
                            },
                            {
                                "type": "emoji",
                                "name": "grinning",
                                "unicode": "1f600"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U02RN7YDRQ9",
        "type": "message",
        "ts": "1694707464.119879",
        "client_msg_id": "c507897f-8ee8-4f1f-8a59-10f854ed71df",
        "text": "I raised something similar recently - basically some matched orders are not showing as `EXECUTION_COMPLETE` in `process_closed_market()` despite the trade in the log showing the bet was immediately logged with zero outstanding size - but status still sitting at `EXECUTABLE`. This shows in the info log before the market is closed so somehow the match status was known at that time. The info log of the bet changing status appears after the market is logged as closed. This only started happening from early August when I updated flumine to 2.4.1 - prior to that I was running some earlier version (not sure which) that dated back to early 22 - never had the problem prior to that update.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "ge46f1f8b708",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/e46f1f8b708a630e3191de7b2c42b1d1.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png",
            "first_name": "edblock",
            "real_name": "edblock",
            "display_name": "foxwood",
            "team": "T4G9NBD2M",
            "name": "eanb",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1694645799.888409",
        "parent_user_id": "U016TGY3676",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Q2Hb",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I raised something similar recently - basically some matched orders are not showing as "
                            },
                            {
                                "type": "text",
                                "text": "EXECUTION_COMPLETE",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " in "
                            },
                            {
                                "type": "text",
                                "text": "process_closed_market()",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " despite the trade in the log showing the bet was immediately logged with zero outstanding size - but status still sitting at "
                            },
                            {
                                "type": "text",
                                "text": "EXECUTABLE",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": ". This shows in the info log before the market is closed so somehow the match status was known at that time. The info log of the bet changing status appears after the market is logged as closed. This only started happening from early August when I updated flumine to 2.4.1 - prior to that I was running some earlier version (not sure which) that dated back to early 22 - never had the problem prior to that update."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U016TGY3676",
        "type": "message",
        "ts": "1694709416.725319",
        "client_msg_id": "68e94e57-ae97-4a25-94e2-ba2d986e4270",
        "text": "Interesting, because I've been using the same logging control for a couple of years but with separate bsp information. It's only this week that I updated flumine and then decided to update my logging control to include the bsp data. Based on what <@U4H19D1D2> said above, I'm planning to build 2 lookup dicts - one for my orders and one for BSP's and then amalgamate and write the CSV once I have both for each market. The only issue I can foresee is that I'll need to avoid a memory leak due to having BSP's in my lookup for markets on which I had no orders but I can probably manage that with a TTL or orders\/market check.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g6a681220e11",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/6a681220e11c1a2ed3685375d658dadb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0001-72.png",
            "first_name": "",
            "real_name": "birchy",
            "display_name": "birchy",
            "team": "T4G9NBD2M",
            "name": "birchy",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1694645799.888409",
        "parent_user_id": "U016TGY3676",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "BeHnb",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Interesting, because I've been using the same logging control for a couple of years but with separate bsp information. It's only this week that I updated flumine and then decided to update my logging control to include the bsp data. Based on what "
                            },
                            {
                                "type": "user",
                                "user_id": "U4H19D1D2"
                            },
                            {
                                "type": "text",
                                "text": " said above, I'm planning to build 2 lookup dicts - one for my orders and one for BSP's and then amalgamate and write the CSV once I have both for each market. The only issue I can foresee is that I'll need to avoid a memory leak due to having BSP's in my lookup for markets on which I had no orders but I can probably manage that with a TTL or orders\/market check."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U02RN7YDRQ9",
        "type": "message",
        "ts": "1694714094.955109",
        "client_msg_id": "ae0e9e06-8cdb-4e3f-9115-7da869f3b5db",
        "text": "Unless BF have changed something recently it could be a timing \/ threading \/ priority issue. Do you know what version of flumine you were using before - doesn't seem to be a way of finding out with PyCharm as far as I can tell - most I can find is a reference to version 1.21.4 in another project so probably a lot changed since then.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "ge46f1f8b708",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/e46f1f8b708a630e3191de7b2c42b1d1.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png",
            "first_name": "edblock",
            "real_name": "edblock",
            "display_name": "foxwood",
            "team": "T4G9NBD2M",
            "name": "eanb",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1694645799.888409",
        "parent_user_id": "U016TGY3676",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "I6OnS",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Unless BF have changed something recently it could be a timing \/ threading \/ priority issue. Do you know what version of flumine you were using before - doesn't seem to be a way of finding out with PyCharm as far as I can tell - most I can find is a reference to version 1.21.4 in another project so probably a lot changed since then."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U016TGY3676",
        "type": "message",
        "ts": "1694714428.556929",
        "client_msg_id": "233d16a2-8687-494e-aa1e-baf642640ae0",
        "text": "I last updated production flumine about 6 months ago, so probably version ~2.3.5",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g6a681220e11",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/6a681220e11c1a2ed3685375d658dadb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0001-72.png",
            "first_name": "",
            "real_name": "birchy",
            "display_name": "birchy",
            "team": "T4G9NBD2M",
            "name": "birchy",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1694645799.888409",
        "parent_user_id": "U016TGY3676",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "V\/rr",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I last updated production flumine about 6 months ago, so probably version ~2.3.5"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U016TGY3676",
        "type": "message",
        "ts": "1694714484.526669",
        "client_msg_id": "4fd2fe75-6c14-4283-ab91-9355b3610a2a",
        "text": "<https:\/\/github.com\/betcode-org\/flumine\/blob\/master\/HISTORY.rst|https:\/\/github.com\/betcode-org\/flumine\/blob\/master\/HISTORY.rst>",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g6a681220e11",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/6a681220e11c1a2ed3685375d658dadb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0001-72.png",
            "first_name": "",
            "real_name": "birchy",
            "display_name": "birchy",
            "team": "T4G9NBD2M",
            "name": "birchy",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1694645799.888409",
        "parent_user_id": "U016TGY3676",
        "attachments": [
            {
                "id": 1,
                "footer_icon": "https:\/\/slack.github.com\/static\/img\/favicon-neutral.png",
                "color": "24292f",
                "bot_id": "B021ZJYSBMW",
                "app_unfurl_url": "https:\/\/github.com\/betcode-org\/flumine\/blob\/master\/HISTORY.rst",
                "is_app_unfurl": true,
                "app_id": "A01BP7R4KNY",
                "fallback": "<https:\/\/github.com\/betcode-org\/flumine\/blob\/master\/HISTORY.rst | HISTORY.rst>",
                "text": "```\n.. :changelog:\n\nRelease History\n---------------\n\n2.4.2 (2023-08-03)\n+++++++++++++++++++\n\n**Bug Fixes**\n\n- #674 Update marketCatalogue fix when recording data\n\n2.4.1 (2023-07-25)\n+++++++++++++++++++\n\n**Improvements**\n\n- #671 Add process_new_market method to simulation (@mzaja)\n\n2.4.0 (2023-07-24)\n+++++++++++++++++++\n\n**Improvements**\n\n- Simulation against available prices now available using config\n\n2.3.7 (2023-07-24)\n+++++++++++++++++++\n\n**Improvements**\n\n- #659 Add process_new_market method to BaseStrategy (@mzaja)\n\n**Bug Fixes**\n\n- Log in if client.keep_alive() fails in BetfairClient (@jorgegarcia7)\n- Include min_unit price in make_line_prices (@Code0x58)\n- #667 Rename strategy info to prevent jsonlogger conflict\n\n**Libraries**\n\n- betconnect upgraded to 0.1.7\n- betfairlightweight upgraded to 2.17.3\n\n2.3.6 (2023-04-27)\n+++++++++++++++++++\n\n**Bug Fixes**\n\n- #654 Simulated fill or kill bets matched as regular bets (@mzaja)\n- Don't check market_start_time for football events (@kwassmuss)\n\n**Libraries**\n\n- black upgraded to 23.3.0\n\n2.3.5 (2023-03-16)\n+++++++++++++++++++\n\n**Bug Fixes**\n\n- #650 Fix min_fill_size simulation bug (@mzaja)\n- #647 Prevent overfills of the traded in simulated order (@clivewij)\n- FK price is None and therefore size is None\n\n**Libraries**\n\n- tenacity upgraded to 8.2.3\n- python-json-logger upgraded to 2.0.7\n- betconnect upgraded to 0.1.6\n- black upgraded to 23.1.0\n\n2.3.4 (2023-02-17)\n+++++++++++++++++++\n\n**Improvements**\n\n- #639 simulation fill or kill\n\n**Bug Fixes**\n\n- OrderStream race condition\n\n2.3.3 (2023-02-09)\n+++++++++++++++++++\n\n**Libraries**\n\n- betfairlightweight upgraded to 2.17.1\n\n2.3.2 (2023-01-19)\n+++++++++++++++++++\n\n**Bug Fixes**\n\n- #629 simulation: async_place_orders prevents order cancellation\n\n2.3.1 (2022-12-01)\n+++++++++++++++++++\n\n**Improvements**\n\n- execution_cls added to Client\n- market.market_start_hour_minute added\n\n**Bug Fixes**\n\n- Add price ladder definition to limitoncloseorder\n\n**Libraries**\n\n- python 3.11 testing added\n\n2.3.0 (2022-10-27)\n+++++++++++++++++++\n\n**Improvements**\n\n- check_sports added to mimic check_market\n\n**Bug Fixes**\n\n- #621 string formating mistypes\n- #622 control handle all ladder types\n\n**Libraries**\n\n- betfairlightweight upgraded to 2.17.0\n- black upgraded to 22.10.0\n\n2.2.7 (2022-09-29)\n+++++++++++++++++++\n\n**Improvements**\n\n- Changes list_cleared_orders error to warning\n\n2.2.6 (2022-09-08)\n+++++++++++++++++++\n\n**Bug Fixes**\n\n- #612 simulation replace cancel error fix\n\n**Libraries**\n\n- betconnect upgraded to 0.1.5\n- black upgraded to 22.8.0\n\n2.2.5 (2022-08-26)\n+++++++++++++++++++\n\n**Improvements**\n\n- `simulated_full_match` added to client\n\n**Libraries**\n\n- betconnect upgraded to 0.1.4\n\n2.2.4 (2022-08-16)\n+++++++++++++++++++\n\n**Improvements**\n\n- Add error handling to process_raw_data\n\n**Bug Fixes**\n\n- Correctly set replacement order datetime created\n\n**Libraries**\n\n- betfairlightweight upgraded to 2.16.7\n- betconnect upgraded to 0.1.3\n\n2.2.3 (2022-08-01)\n+++++++++++++++++++\n\n**Bug Fixes**\n\n- #455 Handle cancel race condition\n\n2.2.2 (2022-07-20)\n+++++++++++++++++++\n\n**Improvements**\n\n- Various small improvements to reduce CPU cycles\n\n2.2.1 (2022-07-14)\n+++++++++++++++++++\n\n**Improvements**\n\n- #572 SimulatedSportsData middleware and example strategy added\n- Remove market added to simulation\n\n**Bug Fixes**\n\n- Handle market removal race condition\n\n**Libraries**\n\n- betfairlightweight upgraded to 2.16.6\n- black upgraded to 22.6.0\n- python-json-logger upgraded to 2.0.4\n\n2.2.0 (2022-05-17)\n+++++++++++++++++++\n\n**Bug Fixes**\n\n- Revert delta order stream\n\n2.1.1 (2022-05-16)\n+++++++++++++++++++\n\n**Libraries**\n\n- betfairlightweight upgraded to 2.16.5\n\n2.1.0 (2022-05-13)\n+++++++++++++++++++\n\n**Improvements**\n\n- Market `status` added and `markets.open_market_ids` is now open markets only\n- Order profit property added\n- Order stream output updated orders only (order_updates_only)\n- _process_current_orders refactored to reduce duplicate calls\n\n**Bug Fixes**\n\n- #586 loggingcontrol doc strings\n\n2.0.5 (2022-05-05)\n+++++++++++++++++++\n\n**Improvements**\n\n- Handle queue event handling optimisations\n\n**Bug Fixes**\n\n- Market event removal on market recording\n\n2.0.4 (2022-04-25)\n+++++++++++++++++++\n\n**Bug Fixes**\n\n- Market event removal\n\n2.0.3 (2022-04-25)\n+++++++++++++++++++\n\n**Improvements**\n\n- Middleware slim down\n- examples cleanup\n\n2.0.2 (2022-04-21)\n+++++++++++++++++++\n\n**Improvements**\n\n- Event lookup added to Markets\n\n**Libraries**\n\n- betconnect upgraded to 0.1.2\n- black upgraded to 22.3.0\n\n2.0.1 (2022-03-28)\n+++++++++++++++++++\n\n**Improvements**\n\n- Client docs improvement\n- `stream_running` added and logic cleanup\n\n**Libraries**\n\n- betfairlightweight upgraded to 2.16.4\n\n2.0.0 (2022-03-25)\n+++++++++++++++++++\n\n**Improvements**\n\n- #193 multi clients integrated\n- backtest -> simulated rename (*breaking change)\n- #566 BetConnect client added\n\n**Bug Fixes**\n\n- #567 market_start_datetime fix\n- PaperTrade bug fix on `elapsed_time`\n\n**Libraries**\n\n- betfairlightweight upgraded to 2.16.3\n- betconnect==0.1.1 requirement added\n- python 3.6 removed\n\n1.22.2 (2022-03-24)\n+++++++++++++++++++\n\n**Improvements**\n\n- logo \/ readme update\n- single strategy example added\n\n1.22.1 (2022-03-21)\n+++++++++++++++++++\n\n**Improvements**\n\n- betcode-org transfer\/renames\n\n**Libraries**\n\n- betfairlightweight upgraded to 2.16.2\n\n1.22.0 (2022-02-28)\n+++++++++++++++++++\n\n**Improvements**\n\n- #564 sports data functionality added\n- blotter lookups updated to lists only (*breaking change)\n\n1.21.6 (2022-02-18)\n+++++++++++++++++++\n\n**Improvements**\n\n- blotter lookups updated to lists (order_status)\n\n**Bug Fixes**\n\n- OrderStreams customer_strategy_refs fix when None provided\n- Handle null market_filter when creating streams\n\n**Libraries**\n\n- betfairlightweight upgraded to 2.16.1\n\n1.21.5 (2022-02-14)\n+++++++++++++++++++\n\n**Improvements**\n\n- PYPI secret update and deploy environment added\n- slack group invite updated\n\n**Libraries**\n\n- betfairlightweight upgraded to 2.16.0\n\n1.21.4 (2022-02-08)\n+++++++++++++++++++\n\n**Improvements**\n\n- Remove currency parameters hard coding\n\n**Libraries**\n\n- betfairlightweight upgraded to 2.15.4\n- black upgraded to 22.1.0\n\n1.21.3 (2022-01-31)\n+++++++++++++++++++\n\n**Improvements**\n\n- Each Way simulated profit handled\n- ExecutionValidation control to prevent failed requests being sent continuously, not added by default (@lunswor)\n\n**Bug Fixes**\n\n- trading control exposure bug revert\n\n1.21.2 (2022-01-13)\n+++++++++++++++++++\n\n**Improvements**\n\n- license update\n- strategy warning on duplicate names\n- minor optimisations for simulation\n\n1.21.1 (2022-01-10)\n+++++++++++++++++++\n\n**Improvements**\n\n- Process end of flumine on exit\n- Flumine added as var to `strategy.finish` (*breaking change)\n\n**Bug Fixes**\n\n- #548 handle execution complete during placement delay\n- Correctly add order datetimes on restart\n\n1.21.0 (2022-01-06)\n+++++++++++++++++++\n\n**Improvements**\n\n- #528 smart matching on passive orders\n- #544 market exposure refactor (*breaking change)\n\n**Bug Fixes**\n\n- #528 simulation processing on in flight requests\n- #541 handle betTargetSize\n- Example typo (@petercoles)\n\n**Libraries**\n\n- black upgraded to 21.12b0\n\n1.20.13 (2021-12-03)\n+++++++++++++++++++\n\n**Improvements**\n\n- #527 custom stream funcs \/ docs added\n- #525 UML diagrams added to docs (@shashikhaya)\n- `get_order_from_bet_id` optimisation (very slow with high order count)\n\n**Bug Fixes**\n\n- File type regression\n\n**Libraries**\n\n- betfairlightweight upgraded to 2.15.2\n- black upgraded to 21.11b1\n\n1.20.12 (2021-11-26)\n+++++++++++++++++++\n\n**Improvements**\n\n- Performance docs added\n\n1.20.11 (2021-11-25)\n+++++++++++++++++++\n\n**Improvements**\n\n- #528 MarketOnCloseOrders not included in BacktestLoggingControl example\n- #531 Include SP values in jupyterloggingcontrol\n- MarketRecorder updates (@mberk)\n\n1.20.10 (2021-11-11)\n+++++++++++++++++++\n\n**Bug Fixes**\n\n- Missing clk handling in order and race stream\n\n1.20.9 (2021-11-11)\n+++++++++++++++++++\n\n**Improvements*â€¦",
                "title": "<https:\/\/github.com\/betcode-org\/flumine\/blob\/master\/HISTORY.rst | HISTORY.rst>",
                "footer": "<https:\/\/github.com\/betcode-org\/flumine|betcode-org\/flumine>",
                "mrkdwn_in": [
                    "text"
                ]
            }
        ],
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Gwl",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "link",
                                "url": "https:\/\/github.com\/betcode-org\/flumine\/blob\/master\/HISTORY.rst",
                                "text": "https:\/\/github.com\/betcode-org\/flumine\/blob\/master\/HISTORY.rst"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U01PJ5YMFBJ",
        "type": "message",
        "ts": "1694714573.581539",
        "client_msg_id": "0460033d-5ce1-494a-8486-25da49786544",
        "text": "I approached this just the other week:\nlogging control -&gt; runner.csv\nmarket close BSP -&gt; bsp.csv\nThen merged with Pandas",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g819c7f591cc",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/819c7f591cc888486f19b3f2f49f2011.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png",
            "first_name": "AndyL",
            "real_name": "AndyL",
            "display_name": "AndyL",
            "team": "T4G9NBD2M",
            "name": "andrew_m_leonard",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1694645799.888409",
        "parent_user_id": "U016TGY3676",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Q1IO",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I approached this just the other week:\nlogging control -> runner.csv\nmarket close BSP -> bsp.csv\nThen merged with Pandas"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U02RN7YDRQ9",
        "type": "message",
        "ts": "1694714668.363359",
        "client_msg_id": "9c2c8e49-1b92-4d66-934d-5dd1358958de",
        "text": "Might have a peep at git since then - seems fairly recent. Not a major issue for me, just means I'm not showing details of all the matched bets in my info display.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "ge46f1f8b708",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/e46f1f8b708a630e3191de7b2c42b1d1.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png",
            "first_name": "edblock",
            "real_name": "edblock",
            "display_name": "foxwood",
            "team": "T4G9NBD2M",
            "name": "eanb",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1694645799.888409",
        "parent_user_id": "U016TGY3676",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "6ck",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Might have a peep at git since then - seems fairly recent. Not a major issue for me, just means I'm not showing details of all the matched bets in my info display."
                            }
                        ]
                    }
                ]
            }
        ]
    }
]