[
    {
        "user": "U01661QJJTV",
        "type": "message",
        "ts": "1594971927.037800",
        "client_msg_id": "8bd06147-e681-490d-b7b3-e4847192f5ed",
        "text": "the \"problem\" of the best price has been solved, I wanted to create a function that simulates the betfair cashout. Then an exit cycle until the win \/ loss is balanced in all selections\n\nhow do you cash out?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "09265f28fc64",
            "image_72": "https:\/\/avatars.slack-edge.com\/2020-07-05\/1223195521283_09265f28fc64d740e6a9_72.png",
            "first_name": "",
            "real_name": "sartux",
            "display_name": "sartux",
            "team": "T4G9NBD2M",
            "name": "sartuxtips",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "0NVnm",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "the \"problem\" of the best price has been solved, I wanted to create a function that simulates the betfair cashout. Then an exit cycle until the win \/ loss is balanced in all selections\n\nhow do you cash out?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "ULDAVFDRP",
        "type": "message",
        "ts": "1594971962.038000",
        "client_msg_id": "5742de18-3190-44f7-9ad9-4034fd27e512",
        "text": "<https:\/\/help.smarkets.com\/hc\/en-gb\/articles\/115001431011-How-to-calculate-a-hedge-bet>",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g46fe1c1bf03",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/b46fe1c1bf03e18d951e7032fb494283.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png",
            "first_name": "",
            "real_name": "Oliver Varney",
            "display_name": "Oliver Varney",
            "team": "T4G9NBD2M",
            "name": "oliverashleyvarney",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "attachments": [
            {
                "service_name": "Smarkets Help Centre",
                "title": "How to calculate a hedge bet",
                "title_link": "https:\/\/help.smarkets.com\/hc\/en-gb\/articles\/115001431011-How-to-calculate-a-hedge-bet",
                "text": "We explain how to calculate a hedge bet to give you an understanding of the maths behind hedging, and why it’s a beneficial trading strategy. Learn how to hedge both back and lay bets to lock in a ...",
                "fallback": "Smarkets Help Centre: How to calculate a hedge bet",
                "image_url": "https:\/\/theme.zdassets.com\/theme_assets\/1061712\/6a9147b298ff5ac9240d280eec98042bfba73c39.jpg",
                "from_url": "https:\/\/help.smarkets.com\/hc\/en-gb\/articles\/115001431011-How-to-calculate-a-hedge-bet",
                "image_width": 250,
                "image_height": 250,
                "image_bytes": 13670,
                "service_icon": "http:\/\/theme.zdassets.com\/theme_assets\/1061712\/7a9c86c6c1c06279bdfce58f8b19c3a35734329d.png",
                "id": 1,
                "original_url": "https:\/\/help.smarkets.com\/hc\/en-gb\/articles\/115001431011-How-to-calculate-a-hedge-bet"
            }
        ],
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "aQM",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "link",
                                "url": "https:\/\/help.smarkets.com\/hc\/en-gb\/articles\/115001431011-How-to-calculate-a-hedge-bet"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U01661QJJTV",
        "type": "message",
        "ts": "1594972062.038300",
        "client_msg_id": "858343d8-80fb-4782-9cff-9a425b8ee508",
        "text": "it's the formula I already use, but it should never be balanced\nLAY = (5.00 * 1.30) \/4.25",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "09265f28fc64",
            "image_72": "https:\/\/avatars.slack-edge.com\/2020-07-05\/1223195521283_09265f28fc64d740e6a9_72.png",
            "first_name": "",
            "real_name": "sartux",
            "display_name": "sartux",
            "team": "T4G9NBD2M",
            "name": "sartuxtips",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "X0wmA",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "it's the formula I already use, but it should never be balanced\nLAY = (5.00 * 1.30) \/4.25"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UBS7QANF3",
        "type": "message",
        "ts": "1594972083.038500",
        "client_msg_id": "6c458f71-bc90-4f29-952e-7ef1183f8558",
        "text": "What do you mean it should never be balanced?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gaaf844a4a90",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/eaaf844a4a905431d83430e563b077aa.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png",
            "first_name": "",
            "real_name": "Maurice Berk",
            "display_name": "Mo",
            "team": "T4G9NBD2M",
            "name": "maurice",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "HZKc",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "What do you mean it should never be balanced?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "ULDAVFDRP",
        "type": "message",
        "ts": "1594972107.039000",
        "client_msg_id": "a02a434c-7fb8-4e3a-9fee-3e2c1e897ac2",
        "text": "thats the correct formula if you enter on the back and exit on the lay I believe",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g46fe1c1bf03",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/b46fe1c1bf03e18d951e7032fb494283.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png",
            "first_name": "",
            "real_name": "Oliver Varney",
            "display_name": "Oliver Varney",
            "team": "T4G9NBD2M",
            "name": "oliverashleyvarney",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "JR8",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "thats the correct formula if you enter on the back and exit on the lay I believe"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "ULDAVFDRP",
        "type": "message",
        "ts": "1594972116.039400",
        "client_msg_id": "279fec8a-a833-4a64-be3f-853a08cd055e",
        "text": "it should spread the profit across all selections",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g46fe1c1bf03",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/b46fe1c1bf03e18d951e7032fb494283.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png",
            "first_name": "",
            "real_name": "Oliver Varney",
            "display_name": "Oliver Varney",
            "team": "T4G9NBD2M",
            "name": "oliverashleyvarney",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "gfP",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "it should spread the profit across all selections"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UBS7QANF3",
        "type": "message",
        "ts": "1594972120.039500",
        "edited": {
            "user": "UBS7QANF3",
            "ts": "1594972125.000000"
        },
        "client_msg_id": "e7c08936-e5c8-44a1-ad22-bf86698f6315",
        "text": "It is the correct formula",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gaaf844a4a90",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/eaaf844a4a905431d83430e563b077aa.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png",
            "first_name": "",
            "real_name": "Maurice Berk",
            "display_name": "Mo",
            "team": "T4G9NBD2M",
            "name": "maurice",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "+eZJ",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "It is the correct formula"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "text": "",
        "files": [
            {
                "id": "F017FC9KTV2",
                "mode": "hidden_by_limit"
            }
        ],
        "upload": false,
        "user": "U01661QJJTV",
        "display_as_bot": false,
        "type": "message",
        "ts": "1594972161.040100"
    },
    {
        "user": "ULDAVFDRP",
        "type": "message",
        "ts": "1594972173.040800",
        "client_msg_id": "ead9dc25-58ef-4061-8fb0-7a7af20a4137",
        "text": "as I said earlier wont be perfect though on betfair, as to get a perfect hedge you need like 3-4 decimal places on the size",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g46fe1c1bf03",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/b46fe1c1bf03e18d951e7032fb494283.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png",
            "first_name": "",
            "real_name": "Oliver Varney",
            "display_name": "Oliver Varney",
            "team": "T4G9NBD2M",
            "name": "oliverashleyvarney",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "\/aKW3",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "as I said earlier wont be perfect though on betfair, as to get a perfect hedge you need like 3-4 decimal places on the size"
                            }
                        ]
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "+1",
                "users": [
                    "UBS7QANF3"
                ],
                "count": 1
            }
        ]
    },
    {
        "user": "ULDAVFDRP",
        "type": "message",
        "ts": "1594972271.042100",
        "client_msg_id": "69ddab51-db6d-4fa8-b58c-492ce72b56d1",
        "text": "you would end up constantly buying and selling to achieve the perfect hedge and probably giving up the spread as a result.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g46fe1c1bf03",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/b46fe1c1bf03e18d951e7032fb494283.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png",
            "first_name": "",
            "real_name": "Oliver Varney",
            "display_name": "Oliver Varney",
            "team": "T4G9NBD2M",
            "name": "oliverashleyvarney",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "q8z",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "you would end up constantly buying and selling to achieve the perfect hedge and probably giving up the spread as a result."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U01661QJJTV",
        "type": "message",
        "ts": "1594972281.042300",
        "client_msg_id": "191c0611-b9d9-474a-b414-b31975d69205",
        "text": "ok, so there is no solution? no trying multiple cashouts?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "09265f28fc64",
            "image_72": "https:\/\/avatars.slack-edge.com\/2020-07-05\/1223195521283_09265f28fc64d740e6a9_72.png",
            "first_name": "",
            "real_name": "sartux",
            "display_name": "sartux",
            "team": "T4G9NBD2M",
            "name": "sartuxtips",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Lv6U",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "ok, so there is no solution? no trying multiple cashouts?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "ULDAVFDRP",
        "type": "message",
        "ts": "1594972758.045500",
        "client_msg_id": "dc5054f4-d449-4250-8580-74adc0b75bd8",
        "text": "no that I know of, maybe others have a better idea. Will it make that much difference over time?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g46fe1c1bf03",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/b46fe1c1bf03e18d951e7032fb494283.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png",
            "first_name": "",
            "real_name": "Oliver Varney",
            "display_name": "Oliver Varney",
            "team": "T4G9NBD2M",
            "name": "oliverashleyvarney",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "hQ=",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "no that I know of, maybe others have a better idea. Will it make that much difference over time?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UBS7QANF3",
        "type": "message",
        "ts": "1594972807.046500",
        "client_msg_id": "B61D25AA-177B-4F60-A21E-A848F35B973C",
        "text": "The difference is pennies, I think you should not worry about it ",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gaaf844a4a90",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/eaaf844a4a905431d83430e563b077aa.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png",
            "first_name": "",
            "real_name": "Maurice Berk",
            "display_name": "Mo",
            "team": "T4G9NBD2M",
            "name": "maurice",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "up+I",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "The difference is pennies, I think you should not worry about it "
                            }
                        ]
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "heavy_check_mark",
                "users": [
                    "U010GM77S4W",
                    "U4H19D1D2",
                    "ULDAVFDRP"
                ],
                "count": 3
            }
        ]
    },
    {
        "user": "U01661QJJTV",
        "type": "message",
        "ts": "1594973980.047000",
        "client_msg_id": "cfa63360-74ac-4029-a83f-dc7bb90390f8",
        "text": "I'm a very scrupulous programmer, maybe it's just my mental problem hahahah",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "09265f28fc64",
            "image_72": "https:\/\/avatars.slack-edge.com\/2020-07-05\/1223195521283_09265f28fc64d740e6a9_72.png",
            "first_name": "",
            "real_name": "sartux",
            "display_name": "sartux",
            "team": "T4G9NBD2M",
            "name": "sartuxtips",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "5i7h",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I'm a very scrupulous programmer, maybe it's just my mental problem hahahah"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UBS7QANF3",
        "type": "message",
        "ts": "1594974495.049700",
        "edited": {
            "user": "UBS7QANF3",
            "ts": "1594974511.000000"
        },
        "client_msg_id": "AF251422-31E1-413F-932F-0B434E926447",
        "text": "I admire that ethic but you should apply it to understanding why what you’re expecting doesn’t make sense. You must have noticed that the formula gives you a stake containing fractional pennies and you must have made a decision to round it. As you’re not using the exact stake amount required to achieve equal returns on all selections, why are you expecting to achieve equal returns on all selections?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gaaf844a4a90",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/eaaf844a4a905431d83430e563b077aa.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png",
            "first_name": "",
            "real_name": "Maurice Berk",
            "display_name": "Mo",
            "team": "T4G9NBD2M",
            "name": "maurice",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "jUF",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I admire that ethic but you should apply it to understanding why what you’re expecting doesn’t make sense. You must have noticed that the formula gives you a stake containing fractional pennies and you must have made a decision to round it. As you’re not using the exact stake amount required to achieve equal returns on all selections, why are you expecting to achieve equal returns on all selections?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U01661QJJTV",
        "type": "message",
        "ts": "1594976381.050200",
        "edited": {
            "user": "U01661QJJTV",
            "ts": "1594976522.000000"
        },
        "client_msg_id": "844120ea-3204-4ebf-92e0-03b03f771fb7",
        "text": "you're absolutely right :slightly_smiling_face:\n\ncan I ask you one last thing?\nI am automating the generation of the daily report, which method should I call?\n\nI tried with these 4 lines but I can't get the market result in economic terms\n\nOn every single game run between 20 and 30 bets and I just wanted to load the list of the day and then make an aggregate and add\n\nget_account_statement gives me different information but not the outcome\n\n```'idx','avgPrice','betSize','betType','betCategoryType','commissionRate','eventId','eventTypeId','fullMarketName','grossBetAmount','marketName','marketType','placedDate','selectionId','selectionName','handicap','startDate','transactionType','transactionId','winLose','deadHeatPriceDivisor','avgPriceRaw'```\n\n`four_days_ago = (datetime.datetime.utcnow () - datetime.timedelta (days = 4)). strftime (\"% Y-% m-% dT% TZ\")`\n`acct_statement_date_filter = betfairlightweight.filters.time_range (from_ = four_days_ago)`\n\n`account_statement = trading.account.get_account_statement (item_date_range = acct_statement_date_filter)`\n\n`class_data = [json.loads (account_statement.account_statement [i] .item_class_data ['unknownStatementItem'])`\n     `for i in range (len (account_statement.account_statement))]`",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "09265f28fc64",
            "image_72": "https:\/\/avatars.slack-edge.com\/2020-07-05\/1223195521283_09265f28fc64d740e6a9_72.png",
            "first_name": "",
            "real_name": "sartux",
            "display_name": "sartux",
            "team": "T4G9NBD2M",
            "name": "sartuxtips",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "4\/6U",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "you're absolutely right "
                            },
                            {
                                "type": "emoji",
                                "name": "slightly_smiling_face",
                                "unicode": "1f642"
                            },
                            {
                                "type": "text",
                                "text": "\n\ncan I ask you one last thing?\nI am automating the generation of the daily report, which method should I call?\n\nI tried with these 4 lines but I can't get the market result in economic terms\n\nOn every single game run between 20 and 30 bets and I just wanted to load the list of the day and then make an aggregate and add\n\nget_account_statement gives me different information but not the outcome\n\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "'idx','avgPrice','betSize','betType','betCategoryType','commissionRate','eventId','eventTypeId','fullMarketName','grossBetAmount','marketName','marketType','placedDate','selectionId','selectionName','handicap','startDate','transactionType','transactionId','winLose','deadHeatPriceDivisor','avgPriceRaw'"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "\n\n"
                            },
                            {
                                "type": "text",
                                "text": "four_days_ago = (datetime.datetime.utcnow () - datetime.timedelta (days = 4)). strftime (\"% Y-% m-% dT% TZ\")",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n"
                            },
                            {
                                "type": "text",
                                "text": "acct_statement_date_filter = betfairlightweight.filters.time_range (from_ = four_days_ago)",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n\n"
                            },
                            {
                                "type": "text",
                                "text": "account_statement = trading.account.get_account_statement (item_date_range = acct_statement_date_filter)",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n\n"
                            },
                            {
                                "type": "text",
                                "text": "class_data = [json.loads (account_statement.account_statement [i] .item_class_data ['unknownStatementItem'])",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n"
                            },
                            {
                                "type": "text",
                                "text": "     for i in range (len (account_statement.account_statement))]",
                                "style": {
                                    "code": true
                                }
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UFTBRB3F1",
        "type": "message",
        "ts": "1594978227.050700",
        "client_msg_id": "6851eebb-26b7-4c38-983a-54cbd23b60cd",
        "text": "I think you need to look at cleared orders for that",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g771e110be94",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/a771e110be945b86bede9d5c1bb551e3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png",
            "first_name": "",
            "real_name": "Newbie99",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "vjmehra",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "toL4a",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I think you need to look at cleared orders for that"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UFTBRB3F1",
        "type": "message",
        "ts": "1594978252.051000",
        "client_msg_id": "619ad6cc-afae-46cb-8798-f09519d8e83d",
        "text": "```trading.betting.list_cleared_orders(market_ids=xyz)```\n",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g771e110be94",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/a771e110be945b86bede9d5c1bb551e3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png",
            "first_name": "",
            "real_name": "Newbie99",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "vjmehra",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "aQl60",
                "elements": [
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "trading.betting.list_cleared_orders(market_ids=xyz)"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_section",
                        "elements": []
                    }
                ]
            }
        ]
    },
    {
        "user": "U01661QJJTV",
        "type": "message",
        "ts": "1594983325.051200",
        "client_msg_id": "dab955cb-ea2c-4424-87b0-0381f9508fae",
        "text": "could you give me a practical example of printing operations?\n\nbecause nothing is returned and I will definitely make a mistake",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "09265f28fc64",
            "image_72": "https:\/\/avatars.slack-edge.com\/2020-07-05\/1223195521283_09265f28fc64d740e6a9_72.png",
            "first_name": "",
            "real_name": "sartux",
            "display_name": "sartux",
            "team": "T4G9NBD2M",
            "name": "sartuxtips",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "lvsJ",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "could you give me a practical example of printing operations?\n\nbecause nothing is returned and I will definitely make a mistake"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UFTBRB3F1",
        "type": "message",
        "ts": "1594983596.051800",
        "client_msg_id": "23671503-2a7d-4a63-a01b-a3bb502b1afc",
        "text": "This is a bit hacky, but to quickly see the fields you can try this:\n\n```if market_book.status == 'CLOSED':\n    market_closed_info = trading.betting.list_cleared_orders(market_ids=[market_book.market_id])\n    pl_report = {'market_id': market_book.market_id, 'pl_list': [], 'pl': sum([bet.profit for bet in market_closed_info.orders])}\n    for m in market_closed_info.orders:\n        pl_report['pl_list'].append(vars(m))\n    <http:\/\/logging.info|logging.info>(pl_report)```\n",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g771e110be94",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/a771e110be945b86bede9d5c1bb551e3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png",
            "first_name": "",
            "real_name": "Newbie99",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "vjmehra",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "lkH",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "This is a bit hacky, but to quickly see the fields you can try this:\n\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "if market_book.status == 'CLOSED':\n    market_closed_info = trading.betting.list_cleared_orders(market_ids=[market_book.market_id])\n    pl_report = {'market_id': market_book.market_id, 'pl_list': [], 'pl': sum([bet.profit for bet in market_closed_info.orders])}\n    for m in market_closed_info.orders:\n        pl_report['pl_list'].append(vars(m))\n    logging.info(pl_report)"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_section",
                        "elements": []
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "+1",
                "users": [
                    "U01661QJJTV"
                ],
                "count": 1
            }
        ]
    },
    {
        "user": "UBS7QANF3",
        "type": "message",
        "ts": "1594984135.053300",
        "client_msg_id": "64d1ab6f-3dbe-4b75-81ac-edca0ad66118",
        "text": "This is what I do:\n\n1. Maintain a database table for each bet status (SETTLED, CANCELLED, VOIDED, LAPSED)\n2. Every hour, for each bet status, find the most recent settledDate from the database table\n3. Use listClearedOrders to get all orders from (and including!) settledDate onwards\n4. Upsert the orders into the database",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gaaf844a4a90",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/eaaf844a4a905431d83430e563b077aa.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png",
            "first_name": "",
            "real_name": "Maurice Berk",
            "display_name": "Mo",
            "team": "T4G9NBD2M",
            "name": "maurice",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "JA5",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "This is what I do:\n\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_list",
                        "elements": [
                            {
                                "type": "rich_text_section",
                                "elements": [
                                    {
                                        "type": "text",
                                        "text": "Maintain a database table for each bet status (SETTLED, CANCELLED, VOIDED, LAPSED)"
                                    }
                                ]
                            },
                            {
                                "type": "rich_text_section",
                                "elements": [
                                    {
                                        "type": "text",
                                        "text": "Every hour, for each bet status, find the most recent settledDate from the database table"
                                    }
                                ]
                            },
                            {
                                "type": "rich_text_section",
                                "elements": [
                                    {
                                        "type": "text",
                                        "text": "Use listClearedOrders to get all orders from (and including!) settledDate onwards"
                                    }
                                ]
                            },
                            {
                                "type": "rich_text_section",
                                "elements": [
                                    {
                                        "type": "text",
                                        "text": "Upsert the orders into the database"
                                    }
                                ]
                            }
                        ],
                        "style": "ordered",
                        "indent": 0
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "+1",
                "users": [
                    "U01661QJJTV"
                ],
                "count": 1
            }
        ]
    },
    {
        "user": "U016535QCJ2",
        "type": "message",
        "ts": "1594985419.056300",
        "client_msg_id": "55b61760-533c-42a1-9ffa-5235343a5a81",
        "text": "All the bets with different bet statuses are in the same format so you can use one table, but you need to use an id that combines the bet id and the status (I code it as a number between 1 and 9) to give you a unique id (I call it my transaction id) . Every bet ends up with one of those 4 statuses, although a single bet can span both a settled and a cancelled record",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "048f61bdc189",
            "image_72": "https:\/\/avatars.slack-edge.com\/2020-07-01\/1216267094995_048f61bdc189acecaafc_72.jpg",
            "first_name": "Misha",
            "real_name": "Misha Charrett",
            "display_name": "Misha",
            "team": "T4G9NBD2M",
            "name": "misha",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "va3",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "All the bets with different bet statuses are in the same format so you can use one table, but you need to use an id that combines the bet id and the status (I code it as a number between 1 and 9) to give you a unique id (I call it my transaction id) . Every bet ends up with one of those 4 statuses, although a single bet can span both a settled and a cancelled record"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U01661QJJTV",
        "type": "message",
        "ts": "1594996240.056700",
        "client_msg_id": "cb198d60-59f7-45c4-979d-b1b4222216cf",
        "text": "thx",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "09265f28fc64",
            "image_72": "https:\/\/avatars.slack-edge.com\/2020-07-05\/1223195521283_09265f28fc64d740e6a9_72.png",
            "first_name": "",
            "real_name": "sartux",
            "display_name": "sartux",
            "team": "T4G9NBD2M",
            "name": "sartuxtips",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "IT\/wA",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "thx"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "text": "it works and I have also connected the sending via telegram bot. thank you",
        "files": [
            {
                "id": "F0178R34G2Z",
                "mode": "hidden_by_limit"
            }
        ],
        "upload": false,
        "user": "U01661QJJTV",
        "display_as_bot": false,
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "wx92F",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "it works and I have also connected the sending via telegram bot. thank you"
                            }
                        ]
                    }
                ]
            }
        ],
        "type": "message",
        "ts": "1595002888.057000"
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1595008460.057500",
        "client_msg_id": "B094ECE1-ADB5-4286-8141-98B3FC0BDC56",
        "text": "Nice",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "OnnK",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Nice"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U0128E7BEHW",
        "type": "message",
        "ts": "1595011633.058400",
        "client_msg_id": "46e71e5c-4e59-4d07-a9ec-8a9931661101",
        "text": "<@U01661QJJTV> looks pretty cool. You following the approach of taking value bets outright?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gb57a2bdd15a",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/b57a2bdd15acccdb845ce257f38940cc.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png",
            "first_name": "Dave",
            "real_name": "Dave R",
            "display_name": "Dave",
            "team": "T4G9NBD2M",
            "name": "d7m",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "6VX",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "user",
                                "user_id": "U01661QJJTV"
                            },
                            {
                                "type": "text",
                                "text": " looks pretty cool. You following the approach of taking value bets outright?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U01661QJJTV",
        "type": "message",
        "ts": "1595012973.058600",
        "client_msg_id": "ef05ec3d-ea75-47cd-a8e8-4fa3c31b4506",
        "text": "yep, I enter live only if there is a real profit",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "09265f28fc64",
            "image_72": "https:\/\/avatars.slack-edge.com\/2020-07-05\/1223195521283_09265f28fc64d740e6a9_72.png",
            "first_name": "",
            "real_name": "sartux",
            "display_name": "sartux",
            "team": "T4G9NBD2M",
            "name": "sartuxtips",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "plVp",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "yep, I enter live only if there is a real profit"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "subtype": "channel_join",
        "user": "U0179NF10LV",
        "text": "<@U0179NF10LV> has joined the channel",
        "type": "message",
        "ts": "1595041621.058800"
    }
]