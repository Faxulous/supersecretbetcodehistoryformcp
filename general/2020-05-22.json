[
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1590143705.484200",
        "client_msg_id": "71f8a927-0d92-44c0-b81c-c95c9065fd58",
        "text": "<@U013R0E7SUV> <@UUCD6P13J> it was a very simple fix! It was basically the gc trying to collect the outout_queue which was just filling up with events, one line fix :wink: <https:\/\/github.com\/liampauling\/flumine\/pull\/168>",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "attachments": [
            {
                "fallback": "[liampauling\/flumine] #168 Bugfix\/memory leak",
                "image_url": "https:\/\/user-images.githubusercontent.com\/12016537\/82658985-d9c97800-9c1f-11ea-9cf1-161850fec763.png",
                "image_width": 1260,
                "image_height": 540,
                "image_bytes": 67578,
                "author_name": "liampauling",
                "text": "Before:  \n<https:\/\/user-images.githubusercontent.com\/12016537\/82658985-d9c97800-9c1f-11ea-9cf1-161850fec763.png|Figure_multi_markets>\n\nAfter:  \n<https:\/\/user-images.githubusercontent.com\/12016537\/82658918-bd2d4000-9c1f-11ea-97a6-dcf79a814743.png|Figure_multi_markets_fix>",
                "title": "#168 Bugfix\/memory leak",
                "footer": "<https:\/\/github.com\/liampauling\/flumine|liampauling\/flumine>",
                "id": 1,
                "title_link": "https:\/\/github.com\/liampauling\/flumine\/pull\/168",
                "author_link": "https:\/\/github.com\/liampauling",
                "author_icon": "https:\/\/avatars3.githubusercontent.com\/u\/12016537?v=4",
                "footer_icon": "https:\/\/github.githubassets.com\/favicon.ico",
                "ts": 1590143480,
                "color": "36a64f",
                "fields": [
                    {
                        "title": "Comments",
                        "value": "1",
                        "short": true
                    }
                ],
                "mrkdwn_in": [
                    "text"
                ],
                "bot_id": "B01144Z0734",
                "app_unfurl_url": "https:\/\/github.com\/liampauling\/flumine\/pull\/168",
                "is_app_unfurl": true
            }
        ],
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "oJk58",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "user",
                                "user_id": "U013R0E7SUV"
                            },
                            {
                                "type": "text",
                                "text": " "
                            },
                            {
                                "type": "user",
                                "user_id": "UUCD6P13J"
                            },
                            {
                                "type": "text",
                                "text": " it was a very simple fix! It was basically the gc trying to collect the outout_queue which was just filling up with events, one line fix "
                            },
                            {
                                "type": "emoji",
                                "name": "wink",
                                "unicode": "1f609"
                            },
                            {
                                "type": "text",
                                "text": " "
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/github.com\/liampauling\/flumine\/pull\/168"
                            }
                        ]
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "heart",
                "users": [
                    "U013R0E7SUV",
                    "UUCD6P13J"
                ],
                "count": 2
            }
        ]
    },
    {
        "user": "UUCD6P13J",
        "type": "message",
        "ts": "1590143821.485000",
        "client_msg_id": "8bfd25d1-b5ad-47dc-9a83-de7dbb7f312b",
        "text": "Great, thanks! I just saw the PR",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g6898272ab81",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/6898272ab810e419c2c9ca9af1e53da8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png",
            "first_name": "Lee",
            "real_name": "Lee U",
            "display_name": "Lee",
            "team": "T4G9NBD2M",
            "name": "lunswor",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "VahR",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Great, thanks! I just saw the PR"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UUCD6P13J",
        "type": "message",
        "ts": "1590143841.485500",
        "client_msg_id": "e9d0c8e9-2729-4096-b830-a1659ffa0874",
        "text": "how did you debug it, using something like cprofilev?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g6898272ab81",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/6898272ab810e419c2c9ca9af1e53da8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png",
            "first_name": "Lee",
            "real_name": "Lee U",
            "display_name": "Lee",
            "team": "T4G9NBD2M",
            "name": "lunswor",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Latk",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "how did you debug it, using something like cprofilev?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1590143905.486500",
        "client_msg_id": "b30cbc05-afdf-4525-9a38-be321d5f26f7",
        "text": "<https:\/\/pypi.org\/project\/memory-profiler\/> to get an idea of where the leak was as it was processing, then created just a single generator using bflw (no memory leak) so realised it was how it was implemented in flumine, then noticed the queue being initialised in the base class",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "attachments": [
            {
                "service_name": "PyPI",
                "title": "memory-profiler",
                "title_link": "https:\/\/pypi.org\/project\/memory-profiler\/",
                "text": "A module for monitoring memory usage of a python program",
                "fallback": "PyPI: memory-profiler",
                "image_url": "https:\/\/pypi.org\/static\/images\/twitter.90915068.jpg",
                "from_url": "https:\/\/pypi.org\/project\/memory-profiler\/",
                "image_width": 250,
                "image_height": 250,
                "image_bytes": 13245,
                "service_icon": "https:\/\/pypi.org\/static\/images\/favicon.6a76275d.ico",
                "id": 1,
                "original_url": "https:\/\/pypi.org\/project\/memory-profiler\/"
            }
        ],
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "A+K",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "link",
                                "url": "https:\/\/pypi.org\/project\/memory-profiler\/"
                            },
                            {
                                "type": "text",
                                "text": " to get an idea of where the leak was as it was processing, then created just a single generator using bflw (no memory leak) so realised it was how it was implemented in flumine, then noticed the queue being initialised in the base class"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UUCD6P13J",
        "type": "message",
        "ts": "1590143994.487100",
        "client_msg_id": "b6a75468-bbe6-4a4f-b665-5056d27357fa",
        "text": "nice, i did have a quick look into seeing what it was a week\/two ago but couldn't spot anything obvious",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g6898272ab81",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/6898272ab810e419c2c9ca9af1e53da8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png",
            "first_name": "Lee",
            "real_name": "Lee U",
            "display_name": "Lee",
            "team": "T4G9NBD2M",
            "name": "lunswor",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "0Rw",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "nice, i did have a quick look into seeing what it was a week\/two ago but couldn't spot anything obvious"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UUCD6P13J",
        "type": "message",
        "ts": "1590144020.487400",
        "client_msg_id": "75ad21a6-3caf-4eeb-96db-25a1e6779ddb",
        "text": "I bet you found it in a few minutes too haha",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g6898272ab81",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/6898272ab810e419c2c9ca9af1e53da8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png",
            "first_name": "Lee",
            "real_name": "Lee U",
            "display_name": "Lee",
            "team": "T4G9NBD2M",
            "name": "lunswor",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "C9B",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I bet you found it in a few minutes too haha"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1590144084.487800",
        "client_msg_id": "4a71e2b9-6665-440c-875e-7c66dc9ae1fb",
        "text": "*15 whilst doing something else :wink:",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "mrk",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "*15 whilst doing something else "
                            },
                            {
                                "type": "emoji",
                                "name": "wink",
                                "unicode": "1f609"
                            }
                        ]
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "sunglasses",
                "users": [
                    "UBS7QANF3",
                    "UUCD6P13J"
                ],
                "count": 2
            }
        ]
    },
    {
        "user": "UUCD6P13J",
        "type": "message",
        "ts": "1590144143.488800",
        "client_msg_id": "5d1c029c-aa4c-4695-acf9-247dc79841c6",
        "text": "haha, i'll understand the framework a bit more as time goes on",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g6898272ab81",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/6898272ab810e419c2c9ca9af1e53da8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png",
            "first_name": "Lee",
            "real_name": "Lee U",
            "display_name": "Lee",
            "team": "T4G9NBD2M",
            "name": "lunswor",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "MSCX",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "haha, i'll understand the framework a bit more as time goes on"
                            }
                        ]
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "+1",
                "users": [
                    "U4H19D1D2"
                ],
                "count": 1
            }
        ]
    },
    {
        "subtype": "channel_join",
        "user": "U013PLN93AT",
        "text": "<@U013PLN93AT> has joined the channel",
        "type": "message",
        "ts": "1590153292.489900"
    },
    {
        "user": "U01093Z1KF0",
        "type": "message",
        "ts": "1590153560.490700",
        "client_msg_id": "63a5deb1-791b-4499-a8c2-a16595597535",
        "text": "Is there any way around the 200 market_id subs? Or is it better to just narrow my filter?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g0e065c4f427",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/0e065c4f4274fd0a565c58690dfc4a58.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png",
            "first_name": "",
            "real_name": "brightcake",
            "display_name": "brightcake",
            "team": "T4G9NBD2M",
            "name": "vlademelianov",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "0WO",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Is there any way around the 200 market_id subs? Or is it better to just narrow my filter?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U9JHLMZB4",
        "type": "message",
        "ts": "1590153773.493400",
        "client_msg_id": "7e0867a9-c603-4e74-b1ef-031c5baeae22",
        "text": "My experience when I switched to streaming was that it was higher than 200 (which is the limit for the API). There does seem to be a limit in there, but I haven't pin-pointed it yet - and it's attached to your account so may differ from person-to-person. I've not requested an increase, so working from my default, I've seen streams start with upward of 400 markets, and fail with over 1,000.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g951ddcb43e7",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/3951ddcb43e788a387d6daf330dad5ca.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png",
            "first_name": "",
            "real_name": "Peter Coles",
            "display_name": "Peter",
            "team": "T4G9NBD2M",
            "name": "peter",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "JNsM",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "My experience when I switched to streaming was that it was higher than 200 (which is the limit for the API). There does seem to be a limit in there, but I haven't pin-pointed it yet - and it's attached to your account so may differ from person-to-person. I've not requested an increase, so working from my default, I've seen streams start with upward of 400 markets, and fail with over 1,000."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U01093Z1KF0",
        "type": "message",
        "ts": "1590153905.494400",
        "client_msg_id": "2bef386b-01fa-48d0-90ff-2b823f5f990f",
        "text": "hah well I guess there goes my shotgun approach to data collection, seems like i'll have to limit my filter a bit unless of course I ask for an increase",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g0e065c4f427",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/0e065c4f4274fd0a565c58690dfc4a58.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png",
            "first_name": "",
            "real_name": "brightcake",
            "display_name": "brightcake",
            "team": "T4G9NBD2M",
            "name": "vlademelianov",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "t1L7J",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "hah well I guess there goes my shotgun approach to data collection, seems like i'll have to limit my filter a bit unless of course I ask for an increase"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1590154773.495000",
        "client_msg_id": "2e438204-e35d-46b6-be0a-ac2735ee533d",
        "text": "Send an email to bdp\/neil asking for it to be increased, make sure you are placing some orders though or they get a bit angry",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "+qWu9",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Send an email to bdp\/neil asking for it to be increased, make sure you are placing some orders though or they get a bit angry"
                            }
                        ]
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "joy",
                "users": [
                    "U013Z24LD0U"
                ],
                "count": 1
            }
        ]
    },
    {
        "text": "the legendary graph endpoint is now being used on the site, shows full odds history with pt",
        "files": [
            {
                "id": "F014APGB8H2",
                "mode": "hidden_by_limit"
            }
        ],
        "upload": true,
        "user": "U4H19D1D2",
        "display_as_bot": false,
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "\/0rB",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "the legendary graph endpoint is now being used on the site, shows full odds history with pt"
                            }
                        ]
                    }
                ]
            }
        ],
        "type": "message",
        "ts": "1590157814.495600",
        "client_msg_id": "cfed429e-e530-4153-a90f-eabda7d38c57",
        "thread_ts": "1590157814.495600",
        "reply_count": 2,
        "reply_users_count": 1,
        "latest_reply": "1590193775.012900",
        "reply_users": [
            "UNQGKT0CR"
        ],
        "replies": [
            {
                "user": "UNQGKT0CR",
                "ts": "1590193318.012600"
            },
            {
                "user": "UNQGKT0CR",
                "ts": "1590193775.012900"
            }
        ],
        "is_locked": false,
        "subscribed": true,
        "last_read": "1590193775.012900"
    },
    {
        "user": "UBS7QANF3",
        "type": "message",
        "ts": "1590157891.496100",
        "client_msg_id": "8f8c6a3b-7281-4554-a7a3-7d18ec120733",
        "text": "How long has it been in development? :thinking_face:",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gaaf844a4a90",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/eaaf844a4a905431d83430e563b077aa.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png",
            "first_name": "",
            "real_name": "Maurice Berk",
            "display_name": "Mo",
            "team": "T4G9NBD2M",
            "name": "maurice",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Dy1",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "How long has it been in development? "
                            },
                            {
                                "type": "emoji",
                                "name": "thinking_face",
                                "unicode": "1f914"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1590157992.496600",
        "client_msg_id": "60f837b6-2e0e-476a-aa1b-2a700346ca02",
        "text": "a long time, they were going to make it available through the API but then pulled it",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "7wWrM",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "a long time, they were going to make it available through the API but then pulled it"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "text": "the pop up is also using a websocket, this is bleeding edge for betfair",
        "files": [
            {
                "id": "F0144QTCXQT",
                "mode": "tombstone"
            }
        ],
        "upload": true,
        "user": "U4H19D1D2",
        "display_as_bot": false,
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "u50",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "the pop up is also using a websocket, this is bleeding edge for betfair"
                            }
                        ]
                    }
                ]
            }
        ],
        "type": "message",
        "ts": "1590158178.497000",
        "client_msg_id": "9ac6ade1-9c01-46f6-933e-282c8f832719"
    },
    {
        "user": "UUCD6P13J",
        "type": "message",
        "ts": "1590164235.498200",
        "edited": {
            "user": "UUCD6P13J",
            "ts": "1590164678.000000"
        },
        "client_msg_id": "ddf23421-7dcb-4ad9-b72b-f139180a09f7",
        "text": "is this the right way to calculate seconds to match? i'm getting times in the 100's even with my 5 second cancel\n```def process_orders(self, market, orders):\n    for order in orders:\n        if order.status == OrderStatus.EXECUTABLE:\n            if order.elapsed_seconds and order.elapsed_seconds &gt; 5:\n                self.cancel_order(market, order)\n\n        if order.status == OrderStatus.EXECUTION_COMPLETE:\n            if (\n                \"seconds_to_match\" not in order.trade.notes\n                and order.elapsed_seconds &gt; 0\n            ):\n                order.trade.notes[\"seconds_to_match\"] = order.elapsed_seconds```",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g6898272ab81",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/6898272ab810e419c2c9ca9af1e53da8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png",
            "first_name": "Lee",
            "real_name": "Lee U",
            "display_name": "Lee",
            "team": "T4G9NBD2M",
            "name": "lunswor",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "CBqv",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "is this the right way to calculate seconds to match? i'm getting times in the 100's even with my 5 second cancel\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "def process_orders(self, market, orders):\n    for order in orders:\n        if order.status == OrderStatus.EXECUTABLE:\n            if order.elapsed_seconds and order.elapsed_seconds > 5:\n                self.cancel_order(market, order)\n\n        if order.status == OrderStatus.EXECUTION_COMPLETE:\n            if (\n                \"seconds_to_match\" not in order.trade.notes\n                and order.elapsed_seconds > 0\n            ):\n                order.trade.notes[\"seconds_to_match\"] = order.elapsed_seconds"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U7E6NE1DM",
        "type": "message",
        "ts": "1590166341.008100",
        "client_msg_id": "fdbbeff7-10fe-4cdf-83dd-3c276f1ca687",
        "text": "I am going to use this time at home to try to migrate my personal strategies to flumine.\nMy understanding is that:\n• check_market_book: defines the set of conditions to look at a market (status, time to start, number of runner, venue etc...)\n• process_market_book: looks at the prices and volumes, computes indicators and places trades.\n• process_orders: checks the order executions (ex: cancellation after x seconds)\nThe part that I am missing is that how:\n• my current orders \/ positions feed back to process_market_book (as orders not in inputs). For instance my indicator flags a trade, but i do not want to trade each time I process_market_book, I only want to trade if len(orders)=0 \n• the maketBook feeds back to order. I might want to cancel my pending order if the price drift away to much from the current price.\nI could do self.orders=orders and self.market_book=market_book, but flumine is an efficient way and I'd prefer not introduce memory leakage.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g46d6d643667",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/446d6d643667e10a68a30e43be0d5cbf.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-72.png",
            "first_name": "",
            "real_name": "Julio",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "julien.wagener",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Qja",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I am going to use this time at home to try to migrate my personal strategies to flumine.\nMy understanding is that:\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_list",
                        "elements": [
                            {
                                "type": "rich_text_section",
                                "elements": [
                                    {
                                        "type": "text",
                                        "text": "check_market_book: defines the set of conditions to look at a market (status, time to start, number of runner, venue etc...)"
                                    }
                                ]
                            },
                            {
                                "type": "rich_text_section",
                                "elements": [
                                    {
                                        "type": "text",
                                        "text": "process_market_book: looks at the prices and volumes, computes indicators and places trades."
                                    }
                                ]
                            },
                            {
                                "type": "rich_text_section",
                                "elements": [
                                    {
                                        "type": "text",
                                        "text": "process_orders: checks the order executions (ex: cancellation after x seconds)"
                                    }
                                ]
                            }
                        ],
                        "style": "bullet",
                        "indent": 0
                    },
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "The part that I am missing is that how:\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_list",
                        "elements": [
                            {
                                "type": "rich_text_section",
                                "elements": [
                                    {
                                        "type": "text",
                                        "text": "my current orders \/ positions feed back to process_market_book (as orders not in inputs). For instance my indicator flags a trade, but i do not want to trade each time I process_market_book, I only want to trade if len(orders)=0 "
                                    }
                                ]
                            },
                            {
                                "type": "rich_text_section",
                                "elements": [
                                    {
                                        "type": "text",
                                        "text": "the maketBook feeds back to order. I might want to cancel my pending order if the price drift away to much from the current price."
                                    }
                                ]
                            }
                        ],
                        "style": "bullet",
                        "indent": 0
                    },
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I could do self.orders=orders and self.market_book=market_book, but flumine is an efficient way and I'd prefer not introduce memory leakage."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U7E6NE1DM",
        "type": "message",
        "ts": "1590166435.008800",
        "client_msg_id": "59241eca-f2d5-4c6e-81f0-9c5482ee78bf",
        "text": "I missing a piece in the puzzle and I can't see which one :slightly_smiling_face:",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g46d6d643667",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/446d6d643667e10a68a30e43be0d5cbf.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-72.png",
            "first_name": "",
            "real_name": "Julio",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "julien.wagener",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "S2e",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I missing a piece in the puzzle and I can't see which one "
                            },
                            {
                                "type": "emoji",
                                "name": "slightly_smiling_face",
                                "unicode": "1f642"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UUCD6P13J",
        "type": "message",
        "ts": "1590166463.009200",
        "edited": {
            "user": "UUCD6P13J",
            "ts": "1590166507.000000"
        },
        "client_msg_id": "0655975d-6a03-408d-ba60-0898b480cd9b",
        "text": "you can access the orders in process_market_book using market.blotter",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g6898272ab81",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/6898272ab810e419c2c9ca9af1e53da8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png",
            "first_name": "Lee",
            "real_name": "Lee U",
            "display_name": "Lee",
            "team": "T4G9NBD2M",
            "name": "lunswor",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "9uo6",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "you can access the orders in process_market_book using market.blotter"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UUCD6P13J",
        "type": "message",
        "ts": "1590166570.009800",
        "client_msg_id": "d769f7d8-1eeb-4ecf-a6cd-0a0c404d6e6f",
        "text": "you can also access the market_book in process_orders using market.market_book",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g6898272ab81",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/6898272ab810e419c2c9ca9af1e53da8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png",
            "first_name": "Lee",
            "real_name": "Lee U",
            "display_name": "Lee",
            "team": "T4G9NBD2M",
            "name": "lunswor",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "msw",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "you can also access the market_book in process_orders using market.market_book"
                            }
                        ]
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "+1",
                "users": [
                    "U4H19D1D2"
                ],
                "count": 1
            }
        ]
    },
    {
        "user": "U7E6NE1DM",
        "type": "message",
        "ts": "1590166748.010800",
        "client_msg_id": "f8ef0990-de4f-446c-a5f8-6f8b84515a02",
        "text": "I was looking at runner.matches and runner.orders, which were empty. Indeed market_book.blotter looks like there is something in there!",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g46d6d643667",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/446d6d643667e10a68a30e43be0d5cbf.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-72.png",
            "first_name": "",
            "real_name": "Julio",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "julien.wagener",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Y+M",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I was looking at runner.matches and runner.orders, which were empty. Indeed market_book.blotter looks like there is something in there!"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U7E6NE1DM",
        "type": "message",
        "ts": "1590166918.011000",
        "client_msg_id": "a84e1c99-8a1c-4ee6-a67f-7a414c3a922f",
        "text": "thanks a lot lee",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g46d6d643667",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/446d6d643667e10a68a30e43be0d5cbf.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0022-72.png",
            "first_name": "",
            "real_name": "Julio",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "julien.wagener",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "d+l3",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "thanks a lot lee"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "subtype": "channel_join",
        "user": "U013ZS16QJZ",
        "text": "<@U013ZS16QJZ> has joined the channel",
        "type": "message",
        "ts": "1590187852.011200"
    },
    {
        "user": "U013ZS16QJZ",
        "type": "message",
        "ts": "1590189508.012500",
        "client_msg_id": "5070f83f-7270-41b3-bb0b-52e6bec24916",
        "text": "Hi, I'm in the final stage of developing my BOT and now I need to automate and I still don't know how to do that, it's nothing exceptional just cheap json feed for live statistics + previous performance database + a little scraping.\n\nI don't want to leave my computer on 24 hours a day running the system. Any suggestions for (cheap) servers that work and have no problem with the IP? ( my account is from Brazil).",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g16b34a6e706",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/16b34a6e706dbe59fcc7dd82d1ae4930.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png",
            "first_name": "VT",
            "real_name": "VT",
            "display_name": "VT",
            "team": "T4G9NBD2M",
            "name": "joaobaldoni",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1590189508.012500",
        "reply_count": 1,
        "reply_users_count": 1,
        "latest_reply": "1590321202.049400",
        "reply_users": [
            "U7E6NE1DM"
        ],
        "replies": [
            {
                "user": "U7E6NE1DM",
                "ts": "1590321202.049400"
            }
        ],
        "is_locked": false,
        "subscribed": false,
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "kg7t",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Hi, I'm in the final stage of developing my BOT and now I need to automate and I still don't know how to do that, it's nothing exceptional just cheap json feed for live statistics + previous performance database + a little scraping.\n\nI don't want to leave my computer on 24 hours a day running the system. Any suggestions for (cheap) servers that work and have no problem with the IP? ( my account is from Brazil)."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "subtype": "thread_broadcast",
        "user": "UNQGKT0CR",
        "thread_ts": "1590157814.495600",
        "root": {
            "text": "the legendary graph endpoint is now being used on the site, shows full odds history with pt",
            "files": [
                {
                    "id": "F014APGB8H2",
                    "mode": "hidden_by_limit"
                }
            ],
            "upload": true,
            "user": "U4H19D1D2",
            "display_as_bot": false,
            "blocks": [
                {
                    "type": "rich_text",
                    "block_id": "\/0rB",
                    "elements": [
                        {
                            "type": "rich_text_section",
                            "elements": [
                                {
                                    "type": "text",
                                    "text": "the legendary graph endpoint is now being used on the site, shows full odds history with pt"
                                }
                            ]
                        }
                    ]
                }
            ],
            "type": "message",
            "ts": "1590157814.495600",
            "client_msg_id": "cfed429e-e530-4153-a90f-eabda7d38c57",
            "thread_ts": "1590157814.495600",
            "reply_count": 2,
            "reply_users_count": 1,
            "latest_reply": "1590193775.012900",
            "reply_users": [
                "UNQGKT0CR"
            ],
            "replies": [
                {
                    "user": "UNQGKT0CR",
                    "ts": "1590193318.012600"
                },
                {
                    "user": "UNQGKT0CR",
                    "ts": "1590193775.012900"
                }
            ],
            "is_locked": false,
            "subscribed": true,
            "last_read": "1590193775.012900"
        },
        "type": "message",
        "ts": "1590193318.012600",
        "client_msg_id": "d9f45a50-bfe1-43c7-8295-52de2ec6b51a",
        "text": "That's quite cool. Could it be an alternative to storing the price action in memory or too unreliable?",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Hem1I",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "That's quite cool. Could it be an alternative to storing the price action in memory or too unreliable?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UNQGKT0CR",
        "type": "message",
        "ts": "1590193775.012900",
        "client_msg_id": "4b558688-6b4b-4fc1-a902-8725b0c53b85",
        "text": "Looks like it's only for UK accounts :disappointed:",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g51b5871ab46",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/51b5871ab46e5ef289d9e90376cacaab.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0001-72.png",
            "first_name": "AP",
            "real_name": "AP",
            "display_name": "AP",
            "team": "T4G9NBD2M",
            "name": "ant.papa22",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1590157814.495600",
        "parent_user_id": "U4H19D1D2",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "8qPR",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Looks like it's only for UK accounts "
                            },
                            {
                                "type": "emoji",
                                "name": "disappointed",
                                "unicode": "1f61e"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U013ZS16QJZ",
        "type": "message",
        "ts": "1590203306.013400",
        "client_msg_id": "08e1b039-f645-45a7-90c6-c30c06791afa",
        "text": "Does anyone know if in .market_filter football teams receive an ID or do we have to find it by (str) in the name of the event?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g16b34a6e706",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/16b34a6e706dbe59fcc7dd82d1ae4930.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png",
            "first_name": "VT",
            "real_name": "VT",
            "display_name": "VT",
            "team": "T4G9NBD2M",
            "name": "joaobaldoni",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "710fC",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Does anyone know if in .market_filter football teams receive an ID or do we have to find it by (str) in the name of the event?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UBS7QANF3",
        "type": "message",
        "ts": "1590215762.013500",
        "text": "I (and a lot of others) use Amazon Web Services (AWS). You won’t have a problem with IP as you can select the location to run your servers in. For example, London or Dublin",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gaaf844a4a90",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/eaaf844a4a905431d83430e563b077aa.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png",
            "first_name": "",
            "real_name": "Maurice Berk",
            "display_name": "Mo",
            "team": "T4G9NBD2M",
            "name": "maurice",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "attachments": [
            {
                "fallback": "[May 23rd, 2020 12:18 AM] joaobaldoni: Hi, I'm in the final stage of developing my BOT and now I need to automate and I still don't know how to do that, it's nothing exceptional just cheap json feed for live statistics + previous performance database + a little scraping.\n\nI don't want to leave my computer on 24 hours a day running the system. Any suggestions for (cheap) servers that work and have no problem with the IP? ( my account is from Brazil).",
                "ts": "1590189508.012500",
                "author_id": "U013ZS16QJZ",
                "author_subname": "soma247",
                "channel_id": "C4HL6EZTQ",
                "is_msg_unfurl": true,
                "text": "Hi, I'm in the final stage of developing my BOT and now I need to automate and I still don't know how to do that, it's nothing exceptional just cheap json feed for live statistics + previous performance database + a little scraping.\n\nI don't want to leave my computer on 24 hours a day running the system. Any suggestions for (cheap) servers that work and have no problem with the IP? ( my account is from Brazil).",
                "author_name": "soma247",
                "author_link": "https:\/\/betfairlightweight.slack.com\/team\/U013ZS16QJZ",
                "author_icon": "https:\/\/avatars.slack-edge.com\/2020-05-22\/1165400763184_8fd99c379e31eccff886_48.jpg",
                "mrkdwn_in": [
                    "text"
                ],
                "color": "D0D0D0",
                "from_url": "https:\/\/betfairlightweight.slack.com\/archives\/C4HL6EZTQ\/p1590189508012500",
                "is_share": true,
                "footer": "Slack conversation"
            }
        ],
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "h4=dl",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I (and a lot of others) use Amazon Web Services (AWS). You won’t have a problem with IP as you can select the location to run your servers in. For example, London or Dublin"
                            }
                        ]
                    }
                ]
            }
        ]
    }
]