[
    {
        "user": "UBW506GGZ",
        "type": "message",
        "ts": "1534947834.000100",
        "client_msg_id": "3f0863aa-76cb-4a34-989a-81613d474ffd",
        "text": "Hi guys, question re streaming... I'm looking to stream UK racing prices say, 10 minutes before the off. I've managed to gather all the market _ids for the day and begin pulling data, but how would be the best way to go about updating (in real time) the list of markets I'm subscribed to?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g1b55d937883",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/11b55d9378839b93556c2b7b0472a8e9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png",
            "first_name": "",
            "real_name": "Matt Parkin",
            "display_name": "Matt P",
            "team": "T4G9NBD2M",
            "name": "mattparkin.mac",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "S23le",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Hi guys, question re streaming... I'm looking to stream UK racing prices say, 10 minutes before the off. I've managed to gather all the market _ids for the day and begin pulling data, but how would be the best way to go about updating (in real time) the list of markets I'm subscribed to?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1534947892.000200",
        "client_msg_id": "8469b09d-5f08-42e3-8adb-e59ef20c983d",
        "text": "filter on racing \/ uk and let streaming do it for you",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "23L",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "filter on racing \/ uk and let streaming do it for you"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UBW506GGZ",
        "type": "message",
        "ts": "1534947925.000100",
        "client_msg_id": "77736058-c47b-4161-ae53-8b55613011dc",
        "text": "I've modified your example on github to get this far, Liam, and I've tried altering the stream.subscribe_to_markets(...) in the While loop at the bottom. but it seems to simply create a new stream on every iteration!",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g1b55d937883",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/11b55d9378839b93556c2b7b0472a8e9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png",
            "first_name": "",
            "real_name": "Matt Parkin",
            "display_name": "Matt P",
            "team": "T4G9NBD2M",
            "name": "mattparkin.mac",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "NiK",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I've modified your example on github to get this far, Liam, and I've tried altering the stream.subscribe_to_markets(...) in the While loop at the bottom. but it seems to simply create a new stream on every iteration!"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1534947976.000100",
        "client_msg_id": "4b2bca7d-cc85-4075-b0c6-b9d236df542e",
        "text": "yeah so that example does what you want, no? Why modify?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "WLQIt",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "yeah so that example does what you want, no? Why modify?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UBW506GGZ",
        "type": "message",
        "ts": "1534948080.000100",
        "client_msg_id": "329cd9fc-5cf3-496d-be8b-0ade47ef637b",
        "text": "Oh, so this is fine? I wasnt sure if what I should be doing would be to start a single stream and then periodically update it, rather than begin a new one on each iteration",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g1b55d937883",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/11b55d9378839b93556c2b7b0472a8e9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png",
            "first_name": "",
            "real_name": "Matt Parkin",
            "display_name": "Matt P",
            "team": "T4G9NBD2M",
            "name": "mattparkin.mac",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "1Sm",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Oh, so this is fine? I wasnt sure if what I should be doing would be to start a single stream and then periodically update it, rather than begin a new one on each iteration"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UBW506GGZ",
        "type": "message",
        "ts": "1534948092.000100",
        "client_msg_id": "8ca57ca1-753a-4bbf-b4b4-2521592dc784",
        "text": "If this is fine then I'll just stick with what I'm doing",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g1b55d937883",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/11b55d9378839b93556c2b7b0472a8e9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png",
            "first_name": "",
            "real_name": "Matt Parkin",
            "display_name": "Matt P",
            "team": "T4G9NBD2M",
            "name": "mattparkin.mac",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Yr9",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "If this is fine then I'll just stick with what I'm doing"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1534948157.000100",
        "client_msg_id": "cad128d2-6379-42b6-b944-46a0090c75cf",
        "text": "that stream is now 'subscribed' to that 'filter', any new markets added by betfair that meet the filter get automatically added to the stream -&gt; listener -&gt; cache -&gt; output_queue",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "UdR3j",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "that stream is now 'subscribed' to that 'filter', any new markets added by betfair that meet the filter get automatically added to the stream -> listener -> cache -> output_queue"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UBW506GGZ",
        "type": "message",
        "ts": "1534949268.000100",
        "client_msg_id": "937e1649-6418-453d-9793-91fe64ecf650",
        "text": "Right, I think I'm with you.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g1b55d937883",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/11b55d9378839b93556c2b7b0472a8e9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png",
            "first_name": "",
            "real_name": "Matt Parkin",
            "display_name": "Matt P",
            "team": "T4G9NBD2M",
            "name": "mattparkin.mac",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "wIT",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Right, I think I'm with you."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UBW506GGZ",
        "type": "message",
        "ts": "1534949309.000100",
        "client_msg_id": "7af74571-b448-4aea-8c64-7a2668d67987",
        "text": "I'm getting constant warning messages printed, that's what made me suspect I was doing something wrong: \"WARNING:betfairlightweight.streaming.listener:[Listener: 13]: stream already registered, replacing data\"",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g1b55d937883",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/11b55d9378839b93556c2b7b0472a8e9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png",
            "first_name": "",
            "real_name": "Matt Parkin",
            "display_name": "Matt P",
            "team": "T4G9NBD2M",
            "name": "mattparkin.mac",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "SfrH1",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I'm getting constant warning messages printed, that's what made me suspect I was doing something wrong: \"WARNING:betfairlightweight.streaming.listener:[Listener: 13]: stream already registered, replacing data\""
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1534949334.000100",
        "client_msg_id": "efa631c0-d862-4423-83a1-e24fd7d8e981",
        "text": "yeah that means you are constantly resubscribing",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "AA4",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "yeah that means you are constantly resubscribing"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UBW506GGZ",
        "type": "message",
        "ts": "1534949381.000100",
        "client_msg_id": "46bf94be-bf97-4991-a433-20003f2c18bd",
        "text": "ok, thanks a lot",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g1b55d937883",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/11b55d9378839b93556c2b7b0472a8e9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png",
            "first_name": "",
            "real_name": "Matt Parkin",
            "display_name": "Matt P",
            "team": "T4G9NBD2M",
            "name": "mattparkin.mac",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Jlv",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "ok, thanks a lot"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UBW506GGZ",
        "type": "message",
        "ts": "1534949453.000100",
        "client_msg_id": "db6a02fe-9290-4542-b83e-d8729b68e81f",
        "text": "pretty new to this streaming business and its quite the learning curve!",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g1b55d937883",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/11b55d9378839b93556c2b7b0472a8e9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png",
            "first_name": "",
            "real_name": "Matt Parkin",
            "display_name": "Matt P",
            "team": "T4G9NBD2M",
            "name": "mattparkin.mac",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Cuw7",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "pretty new to this streaming business and its quite the learning curve!"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1534949775.000100",
        "client_msg_id": "011ac270-ffc5-4a02-bd77-8d79651dfb7b",
        "text": "you should try working at the socket level! bflw abstracts a lot of the complication away",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "R8GJP",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "you should try working at the socket level! bflw abstracts a lot of the complication away"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UBW506GGZ",
        "type": "message",
        "ts": "1534949836.000100",
        "client_msg_id": "69a74b8b-8122-4569-926f-b2732201f1a9",
        "text": "at the socket level? how would i go about looking into that?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g1b55d937883",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/11b55d9378839b93556c2b7b0472a8e9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png",
            "first_name": "",
            "real_name": "Matt Parkin",
            "display_name": "Matt P",
            "team": "T4G9NBD2M",
            "name": "mattparkin.mac",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "LPP0V",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "at the socket level? how would i go about looking into that?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1534949897.000100",
        "client_msg_id": "022d3ba9-57a1-405c-ad23-b636ee1d4a11",
        "text": "<https:\/\/github.com\/liampauling\/betfair\/blob\/master\/betfairlightweight\/streaming\/betfairstream.py>",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "attachments": [
            {
                "service_name": "GitHub",
                "title": "liampauling\/betfair",
                "title_link": "https:\/\/github.com\/liampauling\/betfair\/blob\/master\/betfairlightweight\/streaming\/betfairstream.py",
                "text": "betfair - Lightweight python wrapper for Betfair API-NG (with streaming)",
                "fallback": "GitHub: liampauling\/betfair",
                "from_url": "https:\/\/github.com\/liampauling\/betfair\/blob\/master\/betfairlightweight\/streaming\/betfairstream.py",
                "thumb_url": "https:\/\/avatars2.githubusercontent.com\/u\/12016537?s=400&v=4",
                "thumb_width": 250,
                "thumb_height": 250,
                "service_icon": "https:\/\/a.slack-edge.com\/bfaba\/img\/unfurl_icons\/github.png",
                "id": 1,
                "original_url": "https:\/\/github.com\/liampauling\/betfair\/blob\/master\/betfairlightweight\/streaming\/betfairstream.py"
            }
        ],
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Ii6s",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "link",
                                "url": "https:\/\/github.com\/liampauling\/betfair\/blob\/master\/betfairlightweight\/streaming\/betfairstream.py"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UBW506GGZ",
        "type": "message",
        "ts": "1534949900.000100",
        "client_msg_id": "814d7555-2764-4a32-ad91-5437fcedbb94",
        "text": "I was going to ask if there was a part of python i could read up on that might make this whole endeaver a bit easier!",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g1b55d937883",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/11b55d9378839b93556c2b7b0472a8e9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png",
            "first_name": "",
            "real_name": "Matt Parkin",
            "display_name": "Matt P",
            "team": "T4G9NBD2M",
            "name": "mattparkin.mac",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "di+P",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I was going to ask if there was a part of python i could read up on that might make this whole endeaver a bit easier!"
                            }
                        ]
                    }
                ]
            }
        ]
    }
]