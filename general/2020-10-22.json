[
    {
        "user": "U01C12ZEADQ",
        "type": "message",
        "ts": "1603351925.080300",
        "client_msg_id": "d75ffe8b-4b5a-4c28-98f2-6b056543ce91",
        "text": "<@U01CTH7AWUB> yes, but i was being sarcastic :laughing: it worked for their use case, but sometimes academic research and industrial uses are a bit different: in the LHC there was one single environment and everything was under their control :slightly_smiling_face:",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "e3b7687b0ef8",
            "image_72": "https:\/\/avatars.slack-edge.com\/2020-10-06\/1432945617648_e3b7687b0ef86e4f28b8_72.png",
            "first_name": "Alessio",
            "real_name": "Alessio",
            "display_name": "Alessio",
            "team": "T4G9NBD2M",
            "name": "alessio",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "2Ys+",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "user",
                                "user_id": "U01CTH7AWUB"
                            },
                            {
                                "type": "text",
                                "text": " yes, but i was being sarcastic "
                            },
                            {
                                "type": "emoji",
                                "name": "laughing",
                                "unicode": "1f606"
                            },
                            {
                                "type": "text",
                                "text": " it worked for their use case, but sometimes academic research and industrial uses are a bit different: in the LHC there was one single environment and everything was under their control "
                            },
                            {
                                "type": "emoji",
                                "name": "slightly_smiling_face",
                                "unicode": "1f642"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "subtype": "channel_join",
        "user": "U01D9N0CWTW",
        "text": "<@U01D9N0CWTW> has joined the channel",
        "type": "message",
        "ts": "1603354183.080500"
    },
    {
        "user": "U0160KZB6QP",
        "type": "message",
        "ts": "1603361911.080600",
        "client_msg_id": "0f228068-ec10-4871-919d-92e6d2937cd2",
        "text": "Thanks Liam, i just upgraded to the latest version. I will set streaming_timeout to None and give a try.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g4b10fa305fe",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/4b10fa305fee22d94246281f32cfef31.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png",
            "first_name": "",
            "real_name": "ricky",
            "display_name": "ricky",
            "team": "T4G9NBD2M",
            "name": "yuqianguk",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1603311152.070200",
        "parent_user_id": "U4H19D1D2",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "QVO=",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Thanks Liam, i just upgraded to the latest version. I will set streaming_timeout to None and give a try."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1603362024.080800",
        "client_msg_id": "13b27866-9017-41d8-a5b8-6944e335f64c",
        "text": "Out of interest what did you have it set to?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1603311152.070200",
        "parent_user_id": "U4H19D1D2",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "yk6pd",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Out of interest what did you have it set to?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U0160KZB6QP",
        "type": "message",
        "ts": "1603362592.081000",
        "client_msg_id": "85c2e7b1-9020-463b-bb45-01f8b0fc84f4",
        "text": "Before i left streaming_timeout unset. The default should be None. I didnt config stream_class either,  because if i set stream_class=DataStream, check_market_book wont called, i left stream_class by default value.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g4b10fa305fe",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/4b10fa305fee22d94246281f32cfef31.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png",
            "first_name": "",
            "real_name": "ricky",
            "display_name": "ricky",
            "team": "T4G9NBD2M",
            "name": "yuqianguk",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1603311152.070200",
        "parent_user_id": "U4H19D1D2",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Z3dB",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Before i left streaming_timeout unset. The default should be None. I didnt config stream_class either,  because if i set stream_class=DataStream, check_market_book wont called, i left stream_class by default value."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1603362625.081200",
        "client_msg_id": "069ba74c-1d94-49bd-874a-c3288076e2ea",
        "text": "But I thought you were recording data?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1603311152.070200",
        "parent_user_id": "U4H19D1D2",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "zM+",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "But I thought you were recording data?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "subtype": "channel_join",
        "user": "U01CX5UAP1U",
        "text": "<@U01CX5UAP1U> has joined the channel",
        "type": "message",
        "ts": "1603363649.081500"
    },
    {
        "user": "U0160KZB6QP",
        "type": "message",
        "ts": "1603363890.081600",
        "client_msg_id": "55cf892f-ff17-45be-b977-c748b773a4d3",
        "text": "Yes i am recording data, i wrote class similar to pricerecorder.py ( i stored raw data like back,lay price with other additional data into a file).\nIf i selected the wrong stream_class, like marketdata to record data, it is likely to cause the CPU overload problem?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g4b10fa305fe",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/4b10fa305fee22d94246281f32cfef31.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png",
            "first_name": "",
            "real_name": "ricky",
            "display_name": "ricky",
            "team": "T4G9NBD2M",
            "name": "yuqianguk",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1603311152.070200",
        "parent_user_id": "U4H19D1D2",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "g0d4A",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Yes i am recording data, i wrote class similar to pricerecorder.py ( i stored raw data like back,lay price with other additional data into a file).\nIf i selected the wrong stream_class, like marketdata to record data, it is likely to cause the CPU overload problem?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1603363977.081800",
        "client_msg_id": "75e0e828-ca10-41ab-a378-2a4a20a5f707",
        "text": "DataStream is optimised to record data by only working with the raw data something that I strongly recommend as you can use it to backtest or parse out back,lay price at a later date, sounds like its your code causing the issue",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1603311152.070200",
        "parent_user_id": "U4H19D1D2",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "ow\/",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "DataStream is optimised to record data by only working with the raw data something that I strongly recommend as you can use it to backtest or parse out back,lay price at a later date, sounds like its your code causing the issue"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U0160KZB6QP",
        "type": "message",
        "ts": "1603364226.082000",
        "client_msg_id": "55f745be-a2b9-4898-9638-81e42d1b3f23",
        "text": "thanks, i will go back few step to check why if i set stream_class=DataStream, check_market_book wont called i my code.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g4b10fa305fe",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/4b10fa305fee22d94246281f32cfef31.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png",
            "first_name": "",
            "real_name": "ricky",
            "display_name": "ricky",
            "team": "T4G9NBD2M",
            "name": "yuqianguk",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1603311152.070200",
        "parent_user_id": "U4H19D1D2",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "6rjU",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "thanks, i will go back few step to check why if i set stream_class=DataStream, check_market_book wont called i my code."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1603364299.082200",
        "client_msg_id": "553966e1-1d5f-4fd9-9ead-cfff57d628ca",
        "text": "it wont be called, only `process_raw_data` is but you can modify that to ignore anything you don't want to record",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1603311152.070200",
        "parent_user_id": "U4H19D1D2",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "fqU",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "it wont be called, only "
                            },
                            {
                                "type": "text",
                                "text": "process_raw_data",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " is but you can modify that to ignore anything you don't want to record"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U0160KZB6QP",
        "type": "message",
        "ts": "1603364439.082400",
        "client_msg_id": "9ec2666e-0a1d-4b7c-a8dc-9b43e14de8a2",
        "text": ":+1:",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g4b10fa305fe",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/4b10fa305fee22d94246281f32cfef31.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png",
            "first_name": "",
            "real_name": "ricky",
            "display_name": "ricky",
            "team": "T4G9NBD2M",
            "name": "yuqianguk",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1603311152.070200",
        "parent_user_id": "U4H19D1D2",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "z+b",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "emoji",
                                "name": "+1",
                                "unicode": "1f44d"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U01CJBZS893",
        "type": "message",
        "ts": "1603406793.088100",
        "client_msg_id": "4de131e6-46a0-4c4a-8a8b-b8e412ebef99",
        "text": "Hi, I'm still working on getting a time and sales file generated from the pro market data. You guys were right that when the quantity is not exactly double what was removed from the order book, it is generally because of cross-matching. I am a little confused about how to handle what seems to be currency rounding. Is there any documentation about when Betfair would send trd updates because of currency rounding? These strange updates seem to happen close to the hour change.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g9e2b051c4dd",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/9e2b051c4ddd4a04b5e500b40bb55c09.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0013-72.png",
            "first_name": "",
            "real_name": "Seabass",
            "display_name": "Seabass",
            "team": "T4G9NBD2M",
            "name": "sebastian.lindskog",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "LkMc",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Hi, I'm still working on getting a time and sales file generated from the pro market data. You guys were right that when the quantity is not exactly double what was removed from the order book, it is generally because of cross-matching. I am a little confused about how to handle what seems to be currency rounding. Is there any documentation about when Betfair would send trd updates because of currency rounding? These strange updates seem to happen close to the hour change."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "text": "Here's an example, the green X's are what I've recorded as trades but are completely off around 12:00",
        "files": [
            {
                "id": "F01CZ3CFEES",
                "mode": "hidden_by_limit"
            }
        ],
        "upload": false,
        "user": "U01CJBZS893",
        "display_as_bot": false,
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "xdEuA",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Here's an example, the green X's are what I've recorded as trades but are completely off around 12:00"
                            }
                        ]
                    }
                ]
            }
        ],
        "type": "message",
        "ts": "1603406864.088900"
    },
    {
        "user": "UBS7QANF3",
        "type": "message",
        "ts": "1603434008.089600",
        "client_msg_id": "c51c7d26-9154-4cd1-be31-28dc87da87cc",
        "text": "Yes they adjust for currency conversion. It's supposed to be on the hour but is not exact",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gaaf844a4a90",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/eaaf844a4a905431d83430e563b077aa.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png",
            "first_name": "",
            "real_name": "Maurice Berk",
            "display_name": "Mo",
            "team": "T4G9NBD2M",
            "name": "maurice",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "RSaIP",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Yes they adjust for currency conversion. It's supposed to be on the hour but is not exact"
                            }
                        ]
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "+1",
                "users": [
                    "U01CJBZS893"
                ],
                "count": 1
            }
        ]
    }
]