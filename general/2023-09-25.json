[
    {
        "user": "U0155J92A7Q",
        "type": "message",
        "ts": "1695645846.171799",
        "edited": {
            "user": "U0155J92A7Q",
            "ts": "1695648766.000000"
        },
        "client_msg_id": "7b5e91ce-9606-48fa-93fb-a52f6b46cd63",
        "text": "Hi, looks like the <https:\/\/github.com\/betcode-org\/flumine\/blob\/master\/examples\/middleware\/orders.py#L10|OrdersMiddleware> has a bug because it is not filtering by market.market_id (in <https:\/\/github.com\/betcode-org\/flumine\/blob\/master\/examples\/middleware\/orders.py#L23|list_current_orders> ) when processing orders. Is anyone else using it?\n\nThis is the code I use to add the Middleware:\n```....\n\nframework.add_strategy(strategy)\nframework.add_market_middleware(RestoreOrdersMiddleware(framework))\nframework.run()```",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gde8c5d51af5",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/de8c5d51af54a5ac7b501f416ddb262c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png",
            "first_name": "",
            "real_name": "Jorge",
            "display_name": "Jorge",
            "team": "T4G9NBD2M",
            "name": "jgarciam95",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1695645846.171799",
        "reply_count": 2,
        "reply_users_count": 2,
        "latest_reply": "1695651787.252359",
        "reply_users": [
            "U01MPC0GUK1",
            "U0155J92A7Q"
        ],
        "replies": [
            {
                "user": "U01MPC0GUK1",
                "ts": "1695651150.900579"
            },
            {
                "user": "U0155J92A7Q",
                "ts": "1695651787.252359"
            }
        ],
        "is_locked": false,
        "subscribed": true,
        "last_read": "1695651787.252359",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Iis9E",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Hi, looks like the "
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/github.com\/betcode-org\/flumine\/blob\/master\/examples\/middleware\/orders.py#L10",
                                "text": "OrdersMiddleware"
                            },
                            {
                                "type": "text",
                                "text": " has a bug because it is not filtering by market.market_id (in "
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/github.com\/betcode-org\/flumine\/blob\/master\/examples\/middleware\/orders.py#L23",
                                "text": "list_current_orders"
                            },
                            {
                                "type": "text",
                                "text": " ) when processing orders. Is anyone else using it?\n\nThis is the code I use to add the Middleware:\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "....\n\nframework.add_strategy(strategy)\nframework.add_market_middleware(RestoreOrdersMiddleware(framework))\nframework.run()"
                            }
                        ],
                        "border": 0
                    }
                ]
            }
        ]
    },
    {
        "user": "U01MPC0GUK1",
        "type": "message",
        "ts": "1695651150.900579",
        "edited": {
            "user": "U01MPC0GUK1",
            "ts": "1695651285.000000"
        },
        "client_msg_id": "2593e3c7-e27f-465d-abee-dcdd47d6b57e",
        "text": "In my local version of OrdersMiddleware I have a filter for the market id. According to my git history I added that in a day after I'd copied the example, so I must have found the same issue as you, but I never pushed it back to the flumine repo.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "3be8fa875ec4",
            "image_72": "https:\/\/avatars.slack-edge.com\/2021-02-15\/1752388211523_3be8fa875ec4866620ff_72.png",
            "first_name": "Beeblebrox",
            "real_name": "Beeblebrox",
            "display_name": "Beeblebrox",
            "team": "T4G9NBD2M",
            "name": "arch4672",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1695645846.171799",
        "parent_user_id": "U0155J92A7Q",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "AISXB",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "In my local version of OrdersMiddleware I have a filter for the market id. According to my git history I added that in a day after I'd copied the example, so I must have found the same issue as you, but I never pushed it back to the flumine repo."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U0155J92A7Q",
        "type": "message",
        "ts": "1695651787.252359",
        "client_msg_id": "da89f89b-06ae-4293-adda-9056cf707ce1",
        "text": "Cool, thanks! I'll push it if <@U4H19D1D2> agrees",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gde8c5d51af5",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/de8c5d51af54a5ac7b501f416ddb262c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png",
            "first_name": "",
            "real_name": "Jorge",
            "display_name": "Jorge",
            "team": "T4G9NBD2M",
            "name": "jgarciam95",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1695645846.171799",
        "parent_user_id": "U0155J92A7Q",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "x30",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Cool, thanks! I'll push it if "
                            },
                            {
                                "type": "user",
                                "user_id": "U4H19D1D2"
                            },
                            {
                                "type": "text",
                                "text": " agrees"
                            }
                        ]
                    }
                ]
            }
        ]
    }
]