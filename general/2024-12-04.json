[
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1733299608.137269",
        "client_msg_id": "1cb412d5-c260-4bbd-b91a-be17416df412",
        "text": "hmm this comes up a lot, its routed in the fact I run a lot of instances\/strategies on the same markets and I wanted an easy way to separate orders\/positions etc. per instance rather than per strategy\n\nAs <@U0155J92A7Q> mentions, best practice is to always log the strategy data with the betId's and any context etc. so you should never need to use the betfair customerStrategyRef.\n\nTo answer Mo's question, flumine also uses <https:\/\/github.com\/betcode-org\/flumine\/blob\/a9cd71befc6062b52ce65ca695b50a56a2e81344\/flumine\/order\/order.py#L269|customerOrderRef> however it has a hash of the strategy name\n\n```    @property\n    def customer_order_ref(self) -&gt; str:\n        return \"%s%s%s\" % (self.trade.strategy.name_hash, self.sep, self.id)```",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1733235150.609979",
        "parent_user_id": "UBS7QANF3",
        "attachments": [
            {
                "id": 1,
                "color": "24292f",
                "bot_id": "B021ZJYSBMW",
                "app_unfurl_url": "https:\/\/github.com\/betcode-org\/flumine\/blob\/a9cd71befc6062b52ce65ca695b50a56a2e81344\/flumine\/order\/order.py#L269",
                "is_app_unfurl": true,
                "app_id": "A01BP7R4KNY",
                "fallback": "<https:\/\/github.com\/betcode-org\/flumine\/blob\/a9cd71befc6062b52ce65ca695b50a56a2e81344\/flumine\/order\/order.py | order.py>",
                "text": "```\n    def customer_order_ref(self) -> str:\n```",
                "title": "<https:\/\/github.com\/betcode-org\/flumine\/blob\/a9cd71befc6062b52ce65ca695b50a56a2e81344\/flumine\/order\/order.py | order.py>",
                "footer": "<https:\/\/github.com\/betcode-org\/flumine|betcode-org\/flumine>",
                "mrkdwn_in": [
                    "text"
                ]
            }
        ],
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "l8TDh",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "hmm this comes up a lot, its routed in the fact I run a lot of instances\/strategies on the same markets and I wanted an easy way to separate orders\/positions etc. per instance rather than per strategy\n\nAs "
                            },
                            {
                                "type": "user",
                                "user_id": "U0155J92A7Q"
                            },
                            {
                                "type": "text",
                                "text": " mentions, best practice is to always log the strategy data with the betId's and any context etc. so you should never need to use the betfair customerStrategyRef.\n\nTo answer Mo's question, flumine also uses "
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/github.com\/betcode-org\/flumine\/blob\/a9cd71befc6062b52ce65ca695b50a56a2e81344\/flumine\/order\/order.py#L269",
                                "text": "customerOrderRef"
                            },
                            {
                                "type": "text",
                                "text": " however it has a hash of the strategy name\n\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "    @property\n    def customer_order_ref(self) -> str:\n        return \"%s%s%s\" % (self.trade.strategy.name_hash, self.sep, self.id)"
                            }
                        ],
                        "border": 0
                    }
                ]
            }
        ]
    },
    {
        "user": "UBS7QANF3",
        "type": "message",
        "ts": "1733299991.725399",
        "client_msg_id": "825f72f8-2070-4037-adba-576ebc4240d1",
        "text": "Right so if I wanted to separate scraped cleared orders by strategy I can use the first token in the `customerOrderRef`",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gaaf844a4a90",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/eaaf844a4a905431d83430e563b077aa.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png",
            "first_name": "",
            "real_name": "Maurice Berk",
            "display_name": "Mo",
            "team": "T4G9NBD2M",
            "name": "maurice",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1733235150.609979",
        "parent_user_id": "UBS7QANF3",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "2mJfo",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Right so if I wanted to separate scraped cleared orders by strategy I can use the first token in the "
                            },
                            {
                                "type": "text",
                                "text": "customerOrderRef",
                                "style": {
                                    "code": true
                                }
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1733300207.570769",
        "client_msg_id": "924c28cc-6924-4670-940a-bf4c3243a4ab",
        "text": "Yep, although I will always push users to use loggingcontrol to record to db\/api at runtime",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1733235150.609979",
        "parent_user_id": "UBS7QANF3",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Plhys",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Yep, although I will always push users to use loggingcontrol to record to db\/api at runtime"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1733317703.862859",
        "client_msg_id": "a63607ad-e511-4d42-bc3a-da43092151bb",
        "text": "<@UBS7QANF3> what is the status of 'POI' in <https:\/\/github.com\/mberk\/betfairviz\/pull\/29|betfairviz>? \/ do you still have a screenshot of what it looks like?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1733317703.862859",
        "reply_count": 3,
        "reply_users_count": 2,
        "latest_reply": "1733318964.624499",
        "reply_users": [
            "UBS7QANF3",
            "U4H19D1D2"
        ],
        "replies": [
            {
                "user": "UBS7QANF3",
                "ts": "1733318736.194319"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1733318940.973019"
            },
            {
                "user": "UBS7QANF3",
                "ts": "1733318964.624499"
            }
        ],
        "is_locked": false,
        "subscribed": true,
        "last_read": "1733318964.624499",
        "attachments": [
            {
                "id": 1,
                "footer_icon": "https:\/\/slack.github.com\/static\/img\/favicon-neutral.png",
                "ts": 1719315240,
                "color": "36a64f",
                "bot_id": "B021ZJYSBMW",
                "app_unfurl_url": "https:\/\/github.com\/mberk\/betfairviz\/pull\/29",
                "is_app_unfurl": true,
                "app_id": "A01BP7R4KNY",
                "fallback": "#29 Add points of interest",
                "title": "#29 Add points of interest",
                "title_link": "https:\/\/github.com\/mberk\/betfairviz\/pull\/29",
                "footer": "<https:\/\/github.com\/mberk\/betfairviz|mberk\/betfairviz>",
                "fields": [
                    {
                        "value": "<https:\/\/github.com\/agberk|@agberk>",
                        "title": "Assignees",
                        "short": true
                    }
                ],
                "mrkdwn_in": [
                    "text"
                ]
            }
        ],
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "\/Dutq",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "user",
                                "user_id": "UBS7QANF3"
                            },
                            {
                                "type": "text",
                                "text": " what is the status of 'POI' in "
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/github.com\/mberk\/betfairviz\/pull\/29",
                                "text": "betfairviz"
                            },
                            {
                                "type": "text",
                                "text": "? \/ do you still have a screenshot of what it looks like?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UBS7QANF3",
        "type": "message",
        "ts": "1733318736.194319",
        "client_msg_id": "942c738d-6df2-4f28-acd5-b627d63aba57",
        "text": "Definitely usable and intended to be used. Let me see if I can produce an example without leaking an insane amount of alpha",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gaaf844a4a90",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/eaaf844a4a905431d83430e563b077aa.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png",
            "first_name": "",
            "real_name": "Maurice Berk",
            "display_name": "Mo",
            "team": "T4G9NBD2M",
            "name": "maurice",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1733317703.862859",
        "parent_user_id": "U4H19D1D2",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "be3go",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Definitely usable and intended to be used. Let me see if I can produce an example without leaking an insane amount of alpha"
                            }
                        ]
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "moneybag",
                "users": [
                    "U4H19D1D2"
                ],
                "count": 1
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1733318940.973019",
        "client_msg_id": "8de4cae4-1e8f-4553-a9f9-8ea66b1786b0",
        "text": "on a different note is there an easy way to inject another column per selection, for example 'signal' that follows a similar pattern?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1733317703.862859",
        "parent_user_id": "U4H19D1D2",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "T+f8x",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "on a different note is there an easy way to inject another column per selection, for example 'signal' that follows a similar pattern?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UBS7QANF3",
        "type": "message",
        "ts": "1733318964.624499",
        "client_msg_id": "738ebb2d-6d82-4564-ae5a-4b97103a6c2e",
        "text": "If I understand correctly yes and I'll point it out in the example",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gaaf844a4a90",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/eaaf844a4a905431d83430e563b077aa.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png",
            "first_name": "",
            "real_name": "Maurice Berk",
            "display_name": "Mo",
            "team": "T4G9NBD2M",
            "name": "maurice",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1733317703.862859",
        "parent_user_id": "U4H19D1D2",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "6xurZ",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "If I understand correctly yes and I'll point it out in the example"
                            }
                        ]
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "+1",
                "users": [
                    "U4H19D1D2"
                ],
                "count": 1
            }
        ]
    },
    {
        "text": "Features:\n\n1. Drop down box of points of interest\n2. Use arrows to navigate to previous\/next point of interest\n3. Completely arbitrary labelling of points of interest\n4. Annotations that add data next to the selection IDs (in this case, fair probability, inverted fair probability, odds guide, position, live lay bet, live back bet)\n5. Annotations that add data to the header (in this case, score and red cards)",
        "files": [
            {
                "id": "F083EQHESKG",
                "created": 1733319130,
                "timestamp": 1733319130,
                "name": "Peek 2024-12-04 13-30.gif",
                "title": "Peek 2024-12-04 13-30.gif",
                "mimetype": "image\/gif",
                "filetype": "gif",
                "pretty_type": "GIF",
                "user": "UBS7QANF3",
                "user_team": "T4G9NBD2M",
                "editable": false,
                "size": 203894,
                "mode": "hosted",
                "is_external": false,
                "external_type": "",
                "is_public": true,
                "public_url_shared": false,
                "display_as_bot": false,
                "username": "",
                "url_private": "https:\/\/files.slack.com\/files-pri\/T4G9NBD2M-F083EQHESKG\/peek_2024-12-04_13-30.gif?t=xoxe-152328387089-8357743338709-8373272928225-dfe8ebcd8ca3d2f633bcafeb95191840",
                "url_private_download": "https:\/\/files.slack.com\/files-pri\/T4G9NBD2M-F083EQHESKG\/download\/peek_2024-12-04_13-30.gif?t=xoxe-152328387089-8357743338709-8373272928225-dfe8ebcd8ca3d2f633bcafeb95191840",
                "media_display_type": "unknown",
                "thumb_64": "https:\/\/files.slack.com\/files-tmb\/T4G9NBD2M-F083EQHESKG-1cb3df6228\/peek_2024-12-04_13-30_64.png?t=xoxe-152328387089-8357743338709-8373272928225-dfe8ebcd8ca3d2f633bcafeb95191840",
                "thumb_80": "https:\/\/files.slack.com\/files-tmb\/T4G9NBD2M-F083EQHESKG-1cb3df6228\/peek_2024-12-04_13-30_80.png?t=xoxe-152328387089-8357743338709-8373272928225-dfe8ebcd8ca3d2f633bcafeb95191840",
                "thumb_360": "https:\/\/files.slack.com\/files-tmb\/T4G9NBD2M-F083EQHESKG-1cb3df6228\/peek_2024-12-04_13-30_360.png?t=xoxe-152328387089-8357743338709-8373272928225-dfe8ebcd8ca3d2f633bcafeb95191840",
                "thumb_360_w": 360,
                "thumb_360_h": 149,
                "thumb_480": "https:\/\/files.slack.com\/files-tmb\/T4G9NBD2M-F083EQHESKG-1cb3df6228\/peek_2024-12-04_13-30_480.png?t=xoxe-152328387089-8357743338709-8373272928225-dfe8ebcd8ca3d2f633bcafeb95191840",
                "thumb_480_w": 480,
                "thumb_480_h": 198,
                "thumb_160": "https:\/\/files.slack.com\/files-tmb\/T4G9NBD2M-F083EQHESKG-1cb3df6228\/peek_2024-12-04_13-30_160.png?t=xoxe-152328387089-8357743338709-8373272928225-dfe8ebcd8ca3d2f633bcafeb95191840",
                "thumb_720": "https:\/\/files.slack.com\/files-tmb\/T4G9NBD2M-F083EQHESKG-1cb3df6228\/peek_2024-12-04_13-30_720.png?t=xoxe-152328387089-8357743338709-8373272928225-dfe8ebcd8ca3d2f633bcafeb95191840",
                "thumb_720_w": 720,
                "thumb_720_h": 298,
                "thumb_800": "https:\/\/files.slack.com\/files-tmb\/T4G9NBD2M-F083EQHESKG-1cb3df6228\/peek_2024-12-04_13-30_800.png?t=xoxe-152328387089-8357743338709-8373272928225-dfe8ebcd8ca3d2f633bcafeb95191840",
                "thumb_800_w": 800,
                "thumb_800_h": 331,
                "thumb_960": "https:\/\/files.slack.com\/files-tmb\/T4G9NBD2M-F083EQHESKG-1cb3df6228\/peek_2024-12-04_13-30_960.png?t=xoxe-152328387089-8357743338709-8373272928225-dfe8ebcd8ca3d2f633bcafeb95191840",
                "thumb_960_w": 960,
                "thumb_960_h": 397,
                "thumb_1024": "https:\/\/files.slack.com\/files-tmb\/T4G9NBD2M-F083EQHESKG-1cb3df6228\/peek_2024-12-04_13-30_1024.png?t=xoxe-152328387089-8357743338709-8373272928225-dfe8ebcd8ca3d2f633bcafeb95191840",
                "thumb_1024_w": 1024,
                "thumb_1024_h": 423,
                "thumb_360_gif": "https:\/\/files.slack.com\/files-tmb\/T4G9NBD2M-F083EQHESKG-1cb3df6228\/peek_2024-12-04_13-30_360.gif?t=xoxe-152328387089-8357743338709-8373272928225-dfe8ebcd8ca3d2f633bcafeb95191840",
                "thumb_480_gif": "https:\/\/files.slack.com\/files-tmb\/T4G9NBD2M-F083EQHESKG-1cb3df6228\/peek_2024-12-04_13-30_480.gif?t=xoxe-152328387089-8357743338709-8373272928225-dfe8ebcd8ca3d2f633bcafeb95191840",
                "original_w": 1217,
                "original_h": 503,
                "deanimate": "https:\/\/files.slack.com\/files-tmb\/T4G9NBD2M-F083EQHESKG-1cb3df6228\/peek_2024-12-04_13-30_deanimate.png?t=xoxe-152328387089-8357743338709-8373272928225-dfe8ebcd8ca3d2f633bcafeb95191840",
                "deanimate_gif": "https:\/\/files.slack.com\/files-tmb\/T4G9NBD2M-F083EQHESKG-1cb3df6228\/peek_2024-12-04_13-30_deanimate_gif.png?t=xoxe-152328387089-8357743338709-8373272928225-dfe8ebcd8ca3d2f633bcafeb95191840",
                "thumb_tiny": "AwATADCCim7B6mjYPU0wHUU3YPejYPegB1FN2D3oCAHvQA6iiigAooooAKKKKAP\/2Q==",
                "permalink": "https:\/\/betcode-org.slack.com\/files\/UBS7QANF3\/F083EQHESKG\/peek_2024-12-04_13-30.gif",
                "permalink_public": "https:\/\/slack-files.com\/T4G9NBD2M-F083EQHESKG-b0438794a0",
                "is_starred": false,
                "has_rich_preview": false,
                "file_access": "visible"
            }
        ],
        "upload": false,
        "user": "UBS7QANF3",
        "display_as_bot": false,
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "YYrdw",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Features:\n\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_list",
                        "elements": [
                            {
                                "type": "rich_text_section",
                                "elements": [
                                    {
                                        "type": "text",
                                        "text": "Drop down box of points of interest"
                                    }
                                ]
                            },
                            {
                                "type": "rich_text_section",
                                "elements": [
                                    {
                                        "type": "text",
                                        "text": "Use arrows to navigate to previous\/next point of interest"
                                    }
                                ]
                            },
                            {
                                "type": "rich_text_section",
                                "elements": [
                                    {
                                        "type": "text",
                                        "text": "Completely arbitrary labelling of points of interest"
                                    }
                                ]
                            },
                            {
                                "type": "rich_text_section",
                                "elements": [
                                    {
                                        "type": "text",
                                        "text": "Annotations that add data next to the selection IDs (in this case, fair probability, inverted fair probability, odds guide, position, live lay bet, live back bet)"
                                    }
                                ]
                            },
                            {
                                "type": "rich_text_section",
                                "elements": [
                                    {
                                        "type": "text",
                                        "text": "Annotations that add data to the header (in this case, score and red cards)"
                                    }
                                ]
                            }
                        ],
                        "style": "ordered",
                        "indent": 0,
                        "border": 0
                    }
                ]
            }
        ],
        "type": "message",
        "ts": "1733319301.286509",
        "client_msg_id": "96f38b0c-dc3b-412c-af89-cb6ecd95065f",
        "thread_ts": "1733319301.286509",
        "reply_count": 11,
        "reply_users_count": 2,
        "latest_reply": "1733384415.722669",
        "reply_users": [
            "UBS7QANF3",
            "U4H19D1D2"
        ],
        "replies": [
            {
                "user": "UBS7QANF3",
                "ts": "1733319389.830649"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1733319454.641999"
            },
            {
                "user": "UBS7QANF3",
                "ts": "1733320235.361309"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1733321829.952729"
            },
            {
                "user": "UBS7QANF3",
                "ts": "1733322120.113389"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1733322157.584999"
            },
            {
                "user": "UBS7QANF3",
                "ts": "1733322193.809319"
            },
            {
                "user": "UBS7QANF3",
                "ts": "1733332703.075269"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1733338972.320039"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1733383258.137229"
            },
            {
                "user": "UBS7QANF3",
                "ts": "1733384415.722669"
            }
        ],
        "is_locked": false,
        "subscribed": true,
        "last_read": "1733384415.722669"
    },
    {
        "user": "UBS7QANF3",
        "type": "message",
        "ts": "1733319389.830649",
        "client_msg_id": "67e8b3b7-e7af-44ec-b37c-3c8efa96bc07",
        "text": "Example to add the suspension times to the points of interest:\n\n```points_of_interest = []\nfor previous_market_book, market_book in zip(market_books, market_books[1:]):\n    if previous_market_book[\"status\"] == \"OPEN\" and market_book[\"status\"] == \"SUSPENDED\":\n        pt = bu.publish_time_to_datetime(market_book[\"publishTime\"])\n        points_of_interest.append(betfairviz.PointOfInterest(f'Betfair suspension at {pt}', pt))```\n",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gaaf844a4a90",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/eaaf844a4a905431d83430e563b077aa.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png",
            "first_name": "",
            "real_name": "Maurice Berk",
            "display_name": "Mo",
            "team": "T4G9NBD2M",
            "name": "maurice",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1733319301.286509",
        "parent_user_id": "UBS7QANF3",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Io\/91",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Example to add the suspension times to the points of interest:\n\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "points_of_interest = []\nfor previous_market_book, market_book in zip(market_books, market_books[1:]):\n    if previous_market_book[\"status\"] == \"OPEN\" and market_book[\"status\"] == \"SUSPENDED\":\n        pt = bu.publish_time_to_datetime(market_book[\"publishTime\"])\n        points_of_interest.append(betfairviz.PointOfInterest(f'Betfair suspension at {pt}', pt))"
                            }
                        ],
                        "border": 0
                    },
                    {
                        "type": "rich_text_section",
                        "elements": []
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1733319454.641999",
        "client_msg_id": "87682b94-d0a2-4f23-bcc5-634807dceaf8",
        "text": "Ah awesome, what does it expect for selection annotations?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1733319301.286509",
        "parent_user_id": "UBS7QANF3",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "S+7RY",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Ah awesome, what does it expect for selection annotations?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UBS7QANF3",
        "type": "message",
        "ts": "1733320235.361309",
        "edited": {
            "user": "UBS7QANF3",
            "ts": "1733320311.000000"
        },
        "client_msg_id": "92d0b847-4122-4e28-bf3c-26cdce455f59",
        "text": "On the fly example to make some annotations:\n```annotations = [\n    {\n        \"publishTime\": market_book[\"publishTime\"],\n        \"global\": \"This will appear in the header\",\n        **{\n            str(selection_id): str(round(probability, 6)) + \" | \" + str(round(1.0 \/ probability, 3))\n            for selection_id, probability in shin.calculate_implied_probabilities(\n                {runner[\"selectionId\"]: bu.get_best_price(runner, bu.Side.BACK) or 1.0 for runner in market_book[\"runners\"]}\n            ).items()\n        }\n    }\n    for market_book in market_books\n]```",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gaaf844a4a90",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/eaaf844a4a905431d83430e563b077aa.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png",
            "first_name": "",
            "real_name": "Maurice Berk",
            "display_name": "Mo",
            "team": "T4G9NBD2M",
            "name": "maurice",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1733319301.286509",
        "parent_user_id": "UBS7QANF3",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "49\/eT",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "On the fly example to make some annotations:\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "annotations = [\n    {\n        \"publishTime\": market_book[\"publishTime\"],\n        \"global\": \"This will appear in the header\",\n        **{\n            str(selection_id): str(round(probability, 6)) + \" | \" + str(round(1.0 \/ probability, 3))\n            for selection_id, probability in shin.calculate_implied_probabilities(\n                {runner[\"selectionId\"]: bu.get_best_price(runner, bu.Side.BACK) or 1.0 for runner in market_book[\"runners\"]}\n            ).items()\n        }\n    }\n    for market_book in market_books\n]"
                            }
                        ],
                        "border": 0
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "raised_hands",
                "users": [
                    "U4H19D1D2"
                ],
                "count": 1
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1733321829.952729",
        "client_msg_id": "c11d35b5-a05a-4ab3-af8d-4d0d0006c34a",
        "text": "Regression in the `create_dashboard` function, looks to be due to this <https:\/\/github.com\/mberk\/betfairutil\/blob\/18dcd187b5cab8fa4be25694fb64e8045bf3214e\/betfairutil\/__init__.py#L2420|check>, building a `MarketBook` on each update is costly and adding about 20s for each market on my machine",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1733319301.286509",
        "parent_user_id": "UBS7QANF3",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "P4jJl",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Regression in the "
                            },
                            {
                                "type": "text",
                                "text": "create_dashboard",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " function, looks to be due to this "
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/github.com\/mberk\/betfairutil\/blob\/18dcd187b5cab8fa4be25694fb64e8045bf3214e\/betfairutil\/__init__.py#L2420",
                                "text": "check"
                            },
                            {
                                "type": "text",
                                "text": ", building a "
                            },
                            {
                                "type": "text",
                                "text": "MarketBook",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " on each update is costly and adding about 20s for each market on my machine"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UBS7QANF3",
        "type": "message",
        "ts": "1733322120.113389",
        "client_msg_id": "60020f8e-fda4-405f-b1ef-5d3eef213e25",
        "text": "I can't even work out where that's being called",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gaaf844a4a90",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/eaaf844a4a905431d83430e563b077aa.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png",
            "first_name": "",
            "real_name": "Maurice Berk",
            "display_name": "Mo",
            "team": "T4G9NBD2M",
            "name": "maurice",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1733319301.286509",
        "parent_user_id": "UBS7QANF3",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "HaLpM",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I can't even work out where that's being called"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1733322157.584999",
        "client_msg_id": "13f68707-10b3-448a-97d9-a3fc0138f387",
        "text": "<https:\/\/github.com\/mberk\/betfairviz\/blob\/7b96d37fb63487a2e6713e363d7c53b066f3da1b\/betfairviz\/__init__.py#L2701>",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1733319301.286509",
        "parent_user_id": "UBS7QANF3",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "8\/2Mx",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "link",
                                "url": "https:\/\/github.com\/mberk\/betfairviz\/blob\/7b96d37fb63487a2e6713e363d7c53b066f3da1b\/betfairviz\/__init__.py#L2701"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UBS7QANF3",
        "type": "message",
        "ts": "1733322193.809319",
        "client_msg_id": "bb0b7566-c72a-40ad-9777-ebaf676f8c89",
        "text": "Ah right",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gaaf844a4a90",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/eaaf844a4a905431d83430e563b077aa.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png",
            "first_name": "",
            "real_name": "Maurice Berk",
            "display_name": "Mo",
            "team": "T4G9NBD2M",
            "name": "maurice",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1733319301.286509",
        "parent_user_id": "UBS7QANF3",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "WcQlA",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Ah right"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UBS7QANF3",
        "type": "message",
        "ts": "1733332703.075269",
        "client_msg_id": "f1061494-accc-4133-a849-eab24a3e14b1",
        "text": "Should be fixed now",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gaaf844a4a90",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/eaaf844a4a905431d83430e563b077aa.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png",
            "first_name": "",
            "real_name": "Maurice Berk",
            "display_name": "Mo",
            "team": "T4G9NBD2M",
            "name": "maurice",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1733319301.286509",
        "parent_user_id": "UBS7QANF3",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "yUjWr",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Should be fixed now"
                            }
                        ]
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "+1",
                "users": [
                    "U4H19D1D2"
                ],
                "count": 1
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1733338972.320039",
        "client_msg_id": "4e87a46c-1d8d-46aa-9c9b-06398fb0c30a",
        "text": "Much faster thanks!",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1733319301.286509",
        "parent_user_id": "UBS7QANF3",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Lax\/n",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Much faster thanks!"
                            }
                        ]
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "rocket",
                "users": [
                    "UBS7QANF3"
                ],
                "count": 1
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1733383258.137229",
        "client_msg_id": "8B08F037-E8A2-4B91-B711-A51B88B3BC9D",
        "text": "Would there be a betfairviz way of showing just inplay books to make it easier to slide through?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1733319301.286509",
        "parent_user_id": "UBS7QANF3",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "VmKYF",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Would there be a "
                            },
                            {
                                "type": "text",
                                "text": "betfairviz "
                            },
                            {
                                "type": "text",
                                "text": "way of showing just inplay books to make it easier to slide through?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UBS7QANF3",
        "type": "message",
        "ts": "1733384415.722669",
        "client_msg_id": "b5493b4b-15c1-4e19-b649-c2df97cff889",
        "text": "You can just pass the list of filtered market books",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gaaf844a4a90",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/eaaf844a4a905431d83430e563b077aa.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png",
            "first_name": "",
            "real_name": "Maurice Berk",
            "display_name": "Mo",
            "team": "T4G9NBD2M",
            "name": "maurice",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1733319301.286509",
        "parent_user_id": "UBS7QANF3",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "V4nGF",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "You can just pass the list of filtered market books"
                            }
                        ]
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "+1",
                "users": [
                    "U4H19D1D2"
                ],
                "count": 1
            }
        ]
    }
]