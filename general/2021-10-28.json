[
    {
        "user": "U01697K27UY",
        "type": "message",
        "ts": "1635415964.059500",
        "client_msg_id": "bc152a49-fab8-431a-9568-142efa741cf1",
        "text": "I've had an increase recently in the number of markets I am able to stream from 200 to 1000 after being advised here to email Betfair for an increase which has helped tremendously with testing out one of my strategies on all football games listed. During the week this is more than enough to cover all market_type=MATCH_ODDS,  event_type_id=1 markets set up in the streaming filter but at the weekend the number of FB matches often goes above this to ~1100-1300. At such times unless I'm specifying the marketIds I would like to place I get an error message from flumine suggesting I am attempting to exceed my market stream allowance of 1000. I was wondering if there is a good way of closing markets or setting up an additional filter to cap the number of markets to 1000 (in closest to market open order) whilst I wait for Betfair to get back to me about further increasing my streamable markets?\n\nCheers!",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g3030500b138",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/3030500b13896539426bd540fe2bdab7.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png",
            "first_name": "JW",
            "real_name": "JW",
            "display_name": "EJono",
            "team": "T4G9NBD2M",
            "name": "jonowads380",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1635415964.059500",
        "reply_count": 10,
        "reply_users_count": 6,
        "latest_reply": "1635946634.152400",
        "reply_users": [
            "U9JHLMZB4",
            "U01697K27UY",
            "UBS7QANF3",
            "UUCD6P13J",
            "U4H19D1D2",
            "U0154JA98TH"
        ],
        "replies": [
            {
                "user": "U9JHLMZB4",
                "ts": "1635416424.061300"
            },
            {
                "user": "U01697K27UY",
                "ts": "1635416679.061700"
            },
            {
                "user": "UBS7QANF3",
                "ts": "1635418969.062100"
            },
            {
                "user": "UBS7QANF3",
                "ts": "1635418985.062700"
            },
            {
                "user": "U01697K27UY",
                "ts": "1635419867.062900"
            },
            {
                "user": "UUCD6P13J",
                "ts": "1635420602.063100"
            },
            {
                "user": "U01697K27UY",
                "ts": "1635421755.063600"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1635427333.064000"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1635926131.151500"
            },
            {
                "user": "U0154JA98TH",
                "ts": "1635946634.152400"
            }
        ],
        "is_locked": false,
        "subscribed": true,
        "last_read": "1635946634.152400",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "VuJ",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I've had an increase recently in the number of markets I am able to stream from 200 to 1000 after being advised here to email Betfair for an increase which has helped tremendously with testing out one of my strategies on all football games listed. During the week this is more than enough to cover all market_type=MATCH_ODDS,  event_type_id=1 markets set up in the streaming filter but at the weekend the number of FB matches often goes above this to ~1100-1300. At such times unless I'm specifying the marketIds I would like to place I get an error message from flumine suggesting I am attempting to exceed my market stream allowance of 1000. I was wondering if there is a good way of closing markets or setting up an additional filter to cap the number of markets to 1000 (in closest to market open order) whilst I wait for Betfair to get back to me about further increasing my streamable markets?\n\nCheers!"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U9JHLMZB4",
        "type": "message",
        "ts": "1635416424.061300",
        "client_msg_id": "69f67b82-7cb3-4163-98e2-1ee76256a934",
        "text": "I have 1000 too and so divide my soccer streaming into two groups determined by country code. The first has GB, DE, ES, IT and FR and the second has everything else.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g951ddcb43e7",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/3951ddcb43e788a387d6daf330dad5ca.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png",
            "first_name": "",
            "real_name": "Peter Coles",
            "display_name": "Peter",
            "team": "T4G9NBD2M",
            "name": "peter",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1635415964.059500",
        "parent_user_id": "U01697K27UY",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "W3BLD",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I have 1000 too and so divide my soccer streaming into two groups determined by country code. The first has GB, DE, ES, IT and FR and the second has everything else."
                            }
                        ]
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "+1",
                "users": [
                    "U01697K27UY"
                ],
                "count": 1
            }
        ]
    },
    {
        "subtype": "channel_join",
        "user": "U02KETQJNRJ",
        "text": "<@U02KETQJNRJ> has joined the channel",
        "type": "message",
        "ts": "1635416660.061600"
    },
    {
        "user": "U01697K27UY",
        "type": "message",
        "ts": "1635416679.061700",
        "client_msg_id": "11aee18e-b503-4c5c-9161-9fc74efb766c",
        "text": "Does this require two instances of flumine running? More specifically, two seperate trading objects with distinct login sessions that you then run the exact same strategy on barring the country code filter?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g3030500b138",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/3030500b13896539426bd540fe2bdab7.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png",
            "first_name": "JW",
            "real_name": "JW",
            "display_name": "EJono",
            "team": "T4G9NBD2M",
            "name": "jonowads380",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1635415964.059500",
        "parent_user_id": "U01697K27UY",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Dbq2i",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Does this require two instances of flumine running? More specifically, two seperate trading objects with distinct login sessions that you then run the exact same strategy on barring the country code filter?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UBS7QANF3",
        "type": "message",
        "ts": "1635418969.062100",
        "client_msg_id": "97741608-54B6-4AA4-8BE9-D3C980E5047B",
        "text": "Just start it up during the week",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gaaf844a4a90",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/eaaf844a4a905431d83430e563b077aa.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png",
            "first_name": "",
            "real_name": "Maurice Berk",
            "display_name": "Mo",
            "team": "T4G9NBD2M",
            "name": "maurice",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1635415964.059500",
        "parent_user_id": "U01697K27UY",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Xofz",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Just start it up during the week"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UBS7QANF3",
        "type": "message",
        "ts": "1635418985.062700",
        "client_msg_id": "C1DEDA64-D19D-49F0-935C-AD69BF4E00AA",
        "text": "The number of markets on initial subscription is what matters",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gaaf844a4a90",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/eaaf844a4a905431d83430e563b077aa.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png",
            "first_name": "",
            "real_name": "Maurice Berk",
            "display_name": "Mo",
            "team": "T4G9NBD2M",
            "name": "maurice",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1635415964.059500",
        "parent_user_id": "U01697K27UY",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "6Lhpi",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "The number of markets on initial subscription is what matters"
                            }
                        ]
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "+1",
                "users": [
                    "U01697K27UY"
                ],
                "count": 1
            }
        ]
    },
    {
        "user": "U01697K27UY",
        "type": "message",
        "ts": "1635419867.062900",
        "client_msg_id": "cfbbd9ca-5e0b-4e42-9bae-d836da58eb69",
        "text": "Really that's incredible, do you think this could be taken advantage of? Say for instance start up flumine deliberately delay the full connection of streamed markets for a minute or two then begin adding connections.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g3030500b138",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/3030500b13896539426bd540fe2bdab7.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png",
            "first_name": "JW",
            "real_name": "JW",
            "display_name": "EJono",
            "team": "T4G9NBD2M",
            "name": "jonowads380",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1635415964.059500",
        "parent_user_id": "U01697K27UY",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "xgR\/",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Really that's incredible, do you think this could be taken advantage of? Say for instance start up flumine deliberately delay the full connection of streamed markets for a minute or two then begin adding connections."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UUCD6P13J",
        "type": "message",
        "ts": "1635420602.063100",
        "client_msg_id": "6e33a48f-21a9-4e92-898d-5ec6b54c72f4",
        "text": "You can just have two market_filters, flumine will create two connections and handle this for you\n```framework.add_strategy(\n    strategy=StrategyOne(\n        market_filter=streaming_market_filter(\n            event_type_ids=[\"1\"],\n            market_types=[\"MATCH_ODDS\"],\n            country_codes=[\"GB\", \"DE\"],\n        ),\n    )\n)\n\nframework.add_strategy(\n    strategy=StrategyTwo(\n        market_filter=streaming_market_filter(\n            event_type_ids=[\"1\"],\n            market_types=[\"MATCH_ODDS\"],\n            country_codes=[\"ES\", \"IT\"],\n        ),\n    )\n)```",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g6898272ab81",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/6898272ab810e419c2c9ca9af1e53da8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png",
            "first_name": "Lee",
            "real_name": "Lee U",
            "display_name": "Lee",
            "team": "T4G9NBD2M",
            "name": "lunswor",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1635415964.059500",
        "parent_user_id": "U01697K27UY",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "7ZD",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "You can just have two market_filters, flumine will create two connections and handle this for you\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "framework.add_strategy(\n    strategy=StrategyOne(\n        market_filter=streaming_market_filter(\n            event_type_ids=[\"1\"],\n            market_types=[\"MATCH_ODDS\"],\n            country_codes=[\"GB\", \"DE\"],\n        ),\n    )\n)\n\nframework.add_strategy(\n    strategy=StrategyTwo(\n        market_filter=streaming_market_filter(\n            event_type_ids=[\"1\"],\n            market_types=[\"MATCH_ODDS\"],\n            country_codes=[\"ES\", \"IT\"],\n        ),\n    )\n)"
                            }
                        ]
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "+1",
                "users": [
                    "U01697K27UY",
                    "U4H19D1D2"
                ],
                "count": 2
            }
        ]
    },
    {
        "user": "U01697K27UY",
        "type": "message",
        "ts": "1635421755.063600",
        "client_msg_id": "5c1c432d-a0d7-4e29-9c87-070ca3d79aa4",
        "text": "Thank you very much guys all the solutions are incredibly helpful",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g3030500b138",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/3030500b13896539426bd540fe2bdab7.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png",
            "first_name": "JW",
            "real_name": "JW",
            "display_name": "EJono",
            "team": "T4G9NBD2M",
            "name": "jonowads380",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1635415964.059500",
        "parent_user_id": "U01697K27UY",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "UUiZ5",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Thank you very much guys all the solutions are incredibly helpful"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "subtype": "channel_join",
        "user": "U02KD79SJRZ",
        "text": "<@U02KD79SJRZ> has joined the channel",
        "type": "message",
        "ts": "1635425353.063900"
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1635427333.064000",
        "client_msg_id": "d72ccdd1-af88-4b11-9132-ae65a50bfdf6",
        "text": "Maybe we should add some code to handle multiple filters, if you create an issue we could add it, e.g:\n\n```framework.add_strategy(\n    strategy=StrategyOne(\n        market_filter=[\n            streaming_market_filter(\n                event_type_ids=[\"1\"],\n                market_types=[\"MATCH_ODDS\"],\n                country_codes=[\"GB\", \"DE\"],\n            ),\n            streaming_market_filter(\n                event_type_ids=[\"1\"],\n                market_types=[\"MATCH_ODDS\"],\n                country_codes=[\"ES\", \"IT\"],\n            ),\n        ]\n    )\n)```",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1635415964.059500",
        "parent_user_id": "U01697K27UY",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "3sD4",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Maybe we should add some code to handle multiple filters, if you create an issue we could add it, e.g:\n\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "framework.add_strategy(\n    strategy=StrategyOne(\n        market_filter=[\n            streaming_market_filter(\n                event_type_ids=[\"1\"],\n                market_types=[\"MATCH_ODDS\"],\n                country_codes=[\"GB\", \"DE\"],\n            ),\n            streaming_market_filter(\n                event_type_ids=[\"1\"],\n                market_types=[\"MATCH_ODDS\"],\n                country_codes=[\"ES\", \"IT\"],\n            ),\n        ]\n    )\n)"
                            }
                        ]
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "+1",
                "users": [
                    "U01U24AG35W"
                ],
                "count": 1
            }
        ]
    }
]