[
    {
        "user": "UEA14GBRR",
        "type": "message",
        "ts": "1674215618.782879",
        "client_msg_id": "17dd6747-3090-4162-8a20-d69a1fbc905f",
        "text": "We're not taking it from each other, we're taking a small margin from leisure punters in return for providing the liquidity for them to have a bet.  \n\nPeople having 1 bet a week aren't like those offering 10000 bets a day, but both are necessary in appropriate proportions to ensure the ecosystem is healthy. Just pros and we don't get matches, just punters and there's no money for them to match with.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "889680f46fe7",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-06\/6774538588752_889680f46fe773047cb9_72.jpg",
            "first_name": "",
            "real_name": "Shaun White",
            "display_name": "ShaunW",
            "team": "T4G9NBD2M",
            "name": "shaunwhite",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1674131399.864119",
        "parent_user_id": "U012CS8MP52",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "+E3",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "We're not taking it from each other, we're taking a small margin from leisure punters in return for providing the liquidity for them to have a bet.  \n\nPeople having 1 bet a week aren't like those offering 10000 bets a day, but both are necessary in appropriate proportions to ensure the ecosystem is healthy. Just pros and we don't get matches, just punters and there's no money for them to match with."
                            }
                        ]
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "100",
                "users": [
                    "U9JHLMZB4"
                ],
                "count": 1
            }
        ]
    },
    {
        "user": "U9JHLMZB4",
        "type": "message",
        "ts": "1674222881.017059",
        "edited": {
            "user": "U9JHLMZB4",
            "ts": "1674223483.000000"
        },
        "client_msg_id": "1321d0e3-ae49-434b-9196-90ce170d4360",
        "text": "This is <@U4H19D1D2>’s logic so he may have a different take, but here's mine.\n\nThe order lookup is made up of market_id, selection_id and handicap. Although the handicap is 0 for most markets, for handicap markets specifically (e.g. asian line markets) it is needed to differentiate between multiple market lines for the same selection. It's also possible to have the same selection_id (and handicap = 0) in multiple markets at the same time (e.g. correct score in soccer). So to identify uniquely the market line to which an order applies for all market types, we need all three components.\n\nHowever when the strategy_selection_orders method is invoked, it's done so in the context of the blotter for a specific market and loads the orders for that market only, which is why the market_id isn't needed and is sliced off the tuple, leaving just the selection_id and handicap.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g951ddcb43e7",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/3951ddcb43e788a387d6daf330dad5ca.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png",
            "first_name": "",
            "real_name": "Peter Coles",
            "display_name": "Peter",
            "team": "T4G9NBD2M",
            "name": "peter",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1674162969.424759",
        "parent_user_id": "U03N4QBJ0TV",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "yWxnW",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "This is "
                            },
                            {
                                "type": "user",
                                "user_id": "U4H19D1D2"
                            },
                            {
                                "type": "text",
                                "text": "’s logic so he may have a different take, but here's mine.\n\nThe order lookup is made up of market_id, selection_id and handicap. Although the handicap is 0 for most markets, for handicap markets specifically (e.g. asian line markets) it is needed to differentiate between multiple market lines for the same selection. It's also possible to have the same selection_id (and handicap = 0) in multiple markets at the same time (e.g. correct score in soccer). So to identify uniquely the market line to which an order applies for all market types, we need all three components.\n\nHowever when the strategy_selection_orders method is invoked, it's done so in the context of the blotter for a specific market and loads the orders for that market only, which is why the market_id isn't needed and is sliced off the tuple, leaving just the selection_id and handicap."
                            }
                        ]
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "+1",
                "users": [
                    "U4H19D1D2",
                    "U01D23DDMTQ"
                ],
                "count": 2
            }
        ]
    },
    {
        "user": "U03N4QBJ0TV",
        "type": "message",
        "ts": "1674235555.008339",
        "client_msg_id": "6c2dc0c8-0a25-4d2f-be8f-25013d9fe950",
        "text": "Nice, thanks very much for the info.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g2c8538b47ad",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/2c8538b47ad4bed6facbb148134bb486.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0020-72.png",
            "first_name": "Trex44",
            "real_name": "Trex44",
            "display_name": "Trex44",
            "team": "T4G9NBD2M",
            "name": "c.s.mpharm",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1674162969.424759",
        "parent_user_id": "U03N4QBJ0TV",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "+IDd",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Nice, thanks very much for the info."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U03CL4F39M4",
        "type": "message",
        "ts": "1674237787.992289",
        "edited": {
            "user": "U03CL4F39M4",
            "ts": "1674238047.000000"
        },
        "client_msg_id": "f2a8e891-b456-4e9e-a447-bc09a15fd3f6",
        "text": "Hey gents,\nHope everyone is doing well. Just looking for some help in analysis of Betfair's historical Bz2 stream files.\n *I was wondering if someone had a way to consistently identify the market book update that contains the latest possible snapshot of the trading data for a given market (i.e. last update on runner volumes,ltp, ladders etc.)?* \nI call this the last traded market book (LTMB). This is separate to the  last market update , as trading volumes are wiped before this final update.\n\nIt seems that in most markets, the LTMB can be identified as the third last market update in the bz2 file. However, there are some instances in which this is not the case.\nAny help in establishing a consistent way to identify the LTMB would be much appreciated.\n\nBest,\nNick",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "914e66aa98f5",
            "image_72": "https:\/\/avatars.slack-edge.com\/2022-04-25\/3458558719456_914e66aa98f5dcdbe576_72.png",
            "first_name": "Nicholas",
            "real_name": "Nicholas vizard",
            "display_name": "Nicholas vizard",
            "team": "T4G9NBD2M",
            "name": "nsavizard",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1674237787.992289",
        "reply_count": 4,
        "reply_users_count": 2,
        "latest_reply": "1674242018.954899",
        "reply_users": [
            "UBS7QANF3",
            "U03CL4F39M4"
        ],
        "replies": [
            {
                "user": "UBS7QANF3",
                "ts": "1674238391.466389"
            },
            {
                "user": "U03CL4F39M4",
                "ts": "1674238912.465109"
            },
            {
                "user": "UBS7QANF3",
                "ts": "1674240819.839599"
            },
            {
                "user": "U03CL4F39M4",
                "ts": "1674242018.954899"
            }
        ],
        "is_locked": false,
        "subscribed": false,
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "v2z+b",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Hey gents,\nHope everyone is doing well. Just looking for some help in analysis of Betfair's historical Bz2 stream files.\n "
                            },
                            {
                                "type": "text",
                                "text": "I was wondering if someone had a way to consistently identify the market book update that contains the latest possible snapshot of the trading data for a given market (i.e. last update on runner volumes,ltp, ladders etc.)? ",
                                "style": {
                                    "bold": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\nI call this the last traded market book (LTMB). This is separate to the  last market update , as trading volumes are wiped before this final update.\n\nIt seems that in most markets, the LTMB can be identified as the third last market update in the bz2 file. However, there are some instances in which this is not the case.\nAny help in establishing a consistent way to identify the LTMB would be much appreciated.\n\nBest,\nNick"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UBS7QANF3",
        "type": "message",
        "ts": "1674238391.466389",
        "edited": {
            "user": "UBS7QANF3",
            "ts": "1674238723.000000"
        },
        "client_msg_id": "31064F44-22B9-4332-BFF4-6942EA7CC6B8",
        "text": "Nothing concrete but this is something I’ve been looking to add to <https:\/\/github.com\/mberk\/betfairutil|betfairutil> ",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gaaf844a4a90",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/eaaf844a4a905431d83430e563b077aa.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png",
            "first_name": "",
            "real_name": "Maurice Berk",
            "display_name": "Mo",
            "team": "T4G9NBD2M",
            "name": "maurice",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1674237787.992289",
        "parent_user_id": "U03CL4F39M4",
        "attachments": [
            {
                "id": 1,
                "color": "24292f",
                "bot_id": "B021ZJYSBMW",
                "app_unfurl_url": "https:\/\/github.com\/mberk\/betfairutil",
                "is_app_unfurl": true,
                "app_id": "A01BP7R4KNY",
                "fallback": "mberk\/betfairutil",
                "text": "Utility functions for working with Betfair data",
                "title": "mberk\/betfairutil",
                "fields": [
                    {
                        "value": "16",
                        "title": "Stars",
                        "short": true
                    },
                    {
                        "value": "Python",
                        "title": "Language",
                        "short": true
                    }
                ]
            }
        ],
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "ENRt",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Nothing concrete but this is something I’ve been looking to add to "
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/github.com\/mberk\/betfairutil",
                                "text": "betfairutil"
                            },
                            {
                                "type": "text",
                                "text": " "
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U03CL4F39M4",
        "type": "message",
        "ts": "1674238912.465109",
        "client_msg_id": "461aad27-5517-42d1-9911-906fdd7922fe",
        "text": "Great, thanks Mo. Do you think identifying it using the below two conditions would sufficient? Or would these conditions inadvertently pick up other updates?\n\nCondition 1: The market traded volume moves from &gt; 0 to 0.\nCondition 2: The market status moves from OPEN to SUSPENDED.\n\nCheers!",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "914e66aa98f5",
            "image_72": "https:\/\/avatars.slack-edge.com\/2022-04-25\/3458558719456_914e66aa98f5dcdbe576_72.png",
            "first_name": "Nicholas",
            "real_name": "Nicholas vizard",
            "display_name": "Nicholas vizard",
            "team": "T4G9NBD2M",
            "name": "nsavizard",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1674237787.992289",
        "parent_user_id": "U03CL4F39M4",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "43+",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Great, thanks Mo. Do you think identifying it using the below two conditions would sufficient? Or would these conditions inadvertently pick up other updates?\n\nCondition 1: The market traded volume moves from > 0 to 0.\nCondition 2: The market status moves from OPEN to SUSPENDED.\n\nCheers!"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UBS7QANF3",
        "type": "message",
        "ts": "1674240819.839599",
        "client_msg_id": "343E35FA-6B94-4F17-B385-BDAE0C1847EF",
        "text": "I think something along these lines would work, just need to test it on a large number of markets and see whether we get any false positives",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gaaf844a4a90",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/eaaf844a4a905431d83430e563b077aa.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png",
            "first_name": "",
            "real_name": "Maurice Berk",
            "display_name": "Mo",
            "team": "T4G9NBD2M",
            "name": "maurice",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1674237787.992289",
        "parent_user_id": "U03CL4F39M4",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "6mK4\/",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I think something along these lines would work, just need to test it on a large number of markets and see whether we get any false positives"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U03CL4F39M4",
        "type": "message",
        "ts": "1674242018.954899",
        "client_msg_id": "e1b2e181-7bfb-4923-bb49-a184d1a0f105",
        "text": "yeah that's the plan. Thanks Mo. Ill add in a third condition that the publish time needs to be after the market time and see how I go. Thanks again for your help.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "914e66aa98f5",
            "image_72": "https:\/\/avatars.slack-edge.com\/2022-04-25\/3458558719456_914e66aa98f5dcdbe576_72.png",
            "first_name": "Nicholas",
            "real_name": "Nicholas vizard",
            "display_name": "Nicholas vizard",
            "team": "T4G9NBD2M",
            "name": "nsavizard",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1674237787.992289",
        "parent_user_id": "U03CL4F39M4",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "+Z2R",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "yeah that's the plan. Thanks Mo. Ill add in a third condition that the publish time needs to be after the market time and see how I go. Thanks again for your help."
                            }
                        ]
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "+1",
                "users": [
                    "UBS7QANF3"
                ],
                "count": 1
            }
        ]
    },
    {
        "user": "U01D23DDMTQ",
        "type": "message",
        "ts": "1674262259.932479",
        "client_msg_id": "4E3B625D-B6B2-4838-837D-98FA962A11D2",
        "text": "How does flumine handle abandoned markets? Call to remove_market of BaseStrategy? And possibly process_closed_market? My interest is how best for automation to handle delays, and long delays in start, and then distinguish between those markets and those that are abandoned or cancelled?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "5d6a9e5a85c0",
            "image_72": "https:\/\/avatars.slack-edge.com\/2021-06-26\/2219792322468_5d6a9e5a85c01e3abc9e_72.png",
            "first_name": "Andrew",
            "real_name": "Andrew",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "agruskin",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1674262259.932479",
        "reply_count": 2,
        "reply_users_count": 2,
        "latest_reply": "1674546728.348429",
        "reply_users": [
            "U9JHLMZB4",
            "U01D23DDMTQ"
        ],
        "replies": [
            {
                "user": "U9JHLMZB4",
                "ts": "1674398287.652769"
            },
            {
                "user": "U01D23DDMTQ",
                "ts": "1674546728.348429"
            }
        ],
        "is_locked": false,
        "subscribed": false,
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "4Rz",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "How does flumine handle abandoned markets? Call to remove_market of BaseStrategy? And possibly process_closed_market? My interest is how best for automation to handle delays, and long delays in start, and then distinguish between those markets and those that are abandoned or cancelled?"
                            }
                        ]
                    }
                ]
            }
        ]
    }
]