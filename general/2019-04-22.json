[
    {
        "user": "UHQV8CW1Y",
        "type": "message",
        "ts": "1555930639.094300",
        "client_msg_id": "64459ab1-7bef-4267-9cbb-d83ff56e9266",
        "text": "Hi, my name is Filippo, and I have just joined this workspace.\n\nYesterday, I tested out the `betfairlightweight` Python package. It is really well written.\n\nAs I am quite new to the Betfair APIs, I wonder how I can get the price ladder data for a certain selection in a market.\n\nI tried listing the runner and selection details straight from `betfairlightweight.APIClient`, but they don't seem to have details on the price ladder. My guess is that I should use a `betfairlightweight.StreamListener` to get such data, but I cannot test this as I am using a delayed app key, which does not support the Betfair Stream API.\n\nCould you please let me know if using a stream listener is the only way to get the price ladder data?\n\nThanks.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gacff291fce2",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/6acff291fce2d8a49392d7ec80a23623.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png",
            "first_name": "",
            "real_name": "Filippo Bovo",
            "display_name": "Filippo Bovo",
            "team": "T4G9NBD2M",
            "name": "hi.hellbee",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "RYS",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Hi, my name is Filippo, and I have just joined this workspace.\n\nYesterday, I tested out the "
                            },
                            {
                                "type": "text",
                                "text": "betfairlightweight",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " Python package. It is really well written.\n\nAs I am quite new to the Betfair APIs, I wonder how I can get the price ladder data for a certain selection in a market.\n\nI tried listing the runner and selection details straight from "
                            },
                            {
                                "type": "text",
                                "text": "betfairlightweight.APIClient",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": ", but they don't seem to have details on the price ladder. My guess is that I should use a "
                            },
                            {
                                "type": "text",
                                "text": "betfairlightweight.StreamListener",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " to get such data, but I cannot test this as I am using a delayed app key, which does not support the Betfair Stream API.\n\nCould you please let me know if using a stream listener is the only way to get the price ladder data?\n\nThanks."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UFTBRB3F1",
        "type": "message",
        "ts": "1555930985.094900",
        "client_msg_id": "ee453d6c-443c-4afe-862b-3493d611fba0",
        "text": "You can get a delayed stream with the delayed key, you just need to drop Betfair Support a message and request it (its free)",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g771e110be94",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/a771e110be945b86bede9d5c1bb551e3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png",
            "first_name": "",
            "real_name": "Newbie99",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "vjmehra",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "9W4CQ",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "You can get a delayed stream with the delayed key, you just need to drop Betfair Support a message and request it (its free)"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UHQV8CW1Y",
        "type": "message",
        "ts": "1555934224.096400",
        "client_msg_id": "b0822bdf-0540-4716-bc37-743d9ad2925d",
        "text": "Thanks, <@UFTBRB3F1>. I did drop them an email this morning about it. Let's see if they can activate the Stream API for my account.\n\nIn the meantime, do you know if using a stream listener is the way to go to get price ladder data?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gacff291fce2",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/6acff291fce2d8a49392d7ec80a23623.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png",
            "first_name": "",
            "real_name": "Filippo Bovo",
            "display_name": "Filippo Bovo",
            "team": "T4G9NBD2M",
            "name": "hi.hellbee",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "fgy",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Thanks, "
                            },
                            {
                                "type": "user",
                                "user_id": "UFTBRB3F1"
                            },
                            {
                                "type": "text",
                                "text": ". I did drop them an email this morning about it. Let's see if they can activate the Stream API for my account.\n\nIn the meantime, do you know if using a stream listener is the way to go to get price ladder data?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UFTBRB3F1",
        "type": "message",
        "ts": "1555934660.097700",
        "client_msg_id": "60631567-c05d-4bf2-b151-d6133873b903",
        "text": "My understanding (and virtually everyone on here is far more knowledgeable than me I'd imagine), is that you can get a price ladder as a snapshot from listMarketbook or a dynamic, constantly updated price ladder using the stream listener",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g771e110be94",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/a771e110be945b86bede9d5c1bb551e3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png",
            "first_name": "",
            "real_name": "Newbie99",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "vjmehra",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "zuFFP",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "My understanding (and virtually everyone on here is far more knowledgeable than me I'd imagine), is that you can get a price ladder as a snapshot from listMarketbook or a dynamic, constantly updated price ladder using the stream listener"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UHQV8CW1Y",
        "type": "message",
        "ts": "1555937532.098400",
        "edited": {
            "user": "UHQV8CW1Y",
            "ts": "1555937538.000000"
        },
        "client_msg_id": "66c23b31-a87a-4e0f-8837-cc15761a31d3",
        "text": "Thanks. I will try to play with the options of listMarketBook later and see if I can get the ladder.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gacff291fce2",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/6acff291fce2d8a49392d7ec80a23623.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png",
            "first_name": "",
            "real_name": "Filippo Bovo",
            "display_name": "Filippo Bovo",
            "team": "T4G9NBD2M",
            "name": "hi.hellbee",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "C5TMh",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Thanks. I will try to play with the options of listMarketBook later and see if I can get the ladder."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UFTBRB3F1",
        "type": "message",
        "ts": "1555937585.098700",
        "client_msg_id": "85ec6dc7-edbf-46b8-b851-5d64384a096a",
        "text": "initial_market_book = trading.betting.list_market_book(\n        market_ids=[x],\n        price_projection=price_projection(\n                price_data=price_data(sp_traded=True, sp_available=True, ex_all_offers=True, ex_traded=True),\n                virtualise=False,\n                rollover_stakes=False,\n                ex_best_offers_overrides=ex_best_offers_overrides(best_prices_depth=3)),\n        order_projection=\"EXECUTABLE\",\n        match_projection=\"ROLLED_UP_BY_AVG_PRICE\")",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g771e110be94",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/a771e110be945b86bede9d5c1bb551e3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png",
            "first_name": "",
            "real_name": "Newbie99",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "vjmehra",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1555937585.098700",
        "reply_count": 1,
        "reply_users_count": 1,
        "latest_reply": "1556139240.104700",
        "reply_users": [
            "UHQV8CW1Y"
        ],
        "replies": [
            {
                "user": "UHQV8CW1Y",
                "ts": "1556139240.104700"
            }
        ],
        "is_locked": false,
        "subscribed": false,
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "R9W\/",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "initial_market_book = trading.betting.list_market_book(\n        market_ids=[x],\n        price_projection=price_projection(\n                price_data=price_data(sp_traded=True, sp_available=True, ex_all_offers=True, ex_traded=True),\n                virtualise=False,\n                rollover_stakes=False,\n                ex_best_offers_overrides=ex_best_offers_overrides(best_prices_depth=3)),\n        order_projection=\"EXECUTABLE\",\n        match_projection=\"ROLLED_UP_BY_AVG_PRICE\")"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UFTBRB3F1",
        "type": "message",
        "ts": "1555937601.099100",
        "client_msg_id": "809b1cdc-d66c-4178-a37e-a4540120eab8",
        "text": "Replace best_prices_depth=3 with whatever depth you need",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g771e110be94",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/a771e110be945b86bede9d5c1bb551e3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png",
            "first_name": "",
            "real_name": "Newbie99",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "vjmehra",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "qU0c",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Replace best_prices_depth=3 with whatever depth you need"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UFTBRB3F1",
        "type": "message",
        "ts": "1555937622.099600",
        "client_msg_id": "78d579ed-e4c4-417e-ae21-d6679a89db58",
        "text": "Oh and market_ids you need to populate too, with whichever markets you need",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g771e110be94",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/a771e110be945b86bede9d5c1bb551e3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png",
            "first_name": "",
            "real_name": "Newbie99",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "vjmehra",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "oKSt",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Oh and market_ids you need to populate too, with whichever markets you need"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1555938227.100600",
        "client_msg_id": "F8A911A8-BCD1-4606-9F25-F88D8B06F806",
        "text": "Welcome, check out the examples on the github as well if you haven’t already ",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1555938227.100600",
        "reply_count": 1,
        "reply_users_count": 1,
        "latest_reply": "1556138000.104500",
        "reply_users": [
            "UHQV8CW1Y"
        ],
        "replies": [
            {
                "user": "UHQV8CW1Y",
                "ts": "1556138000.104500"
            }
        ],
        "is_locked": false,
        "subscribed": true,
        "last_read": "1556138000.104500",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "CH3a",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Welcome, check out the examples on the github as well if you haven’t already"
                            }
                        ]
                    }
                ]
            }
        ]
    }
]