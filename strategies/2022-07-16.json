[
    {
        "user": "UGV299K6H",
        "type": "message",
        "ts": "1657959078.980449",
        "client_msg_id": "395d9bd5-c788-408d-a9f4-d4a8c70436ad",
        "text": "Is one months worth of data all you have or is your strategy developed using a bigger data set and you're just using a month's worth as a hold out set for testing?\n\nIf it's the former then you simply may not have enough markets. Depending on your odds you might be asking too much of too small a data set.\n\nIf you were to bet randomly at BSP would you expect to be at zero after &lt; 1000 markets?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g3a262a3cfba",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/b3a262a3cfba292c18acf5777f65908a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png",
            "first_name": "Michael",
            "real_name": "Michael C",
            "display_name": "Michael",
            "team": "T4G9NBD2M",
            "name": "michael",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1657900471.604279",
        "parent_user_id": "U01EQMX079B",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "sSlFr",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Is one months worth of data all you have or is your strategy developed using a bigger data set and you're just using a month's worth as a hold out set for testing?\n\nIf it's the former then you simply may not have enough markets. Depending on your odds you might be asking too much of too small a data set.\n\nIf you were to bet randomly at BSP would you expect to be at zero after < 1000 markets?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U01EQMX079B",
        "type": "message",
        "ts": "1657964601.003599",
        "client_msg_id": "389ac98a-3fc5-4892-bae8-3d7ebc666a13",
        "text": "<@UCQB6S222> this would be ideal. I've just implemented a green strategy and unfortunatly I'm getting similar negative profits in simulation - which doesn't make much sense to me ...\n\n<@U4H19D1D2>\nAm I correct in thinking that OrderStatus.EXECUTION_COMPLETE is only true when an order has been fully matched? So laying immediately at the BSP using MarketOnCloseOrder should give me a margin if BSP &lt; matched_back_price (which it does when I track it) but in simulation It's as if my lay order is never fulfilled. The only similar debugging I can find is here <https:\/\/github.com\/betcode-org\/flumine\/issues\/354> Of which I think is still present in FlumineSimulation.__process_s_simulation_orders().\n\nI also seem to be getting matched in simulation at strange prices. For ~95% it's sensible (matched at 5 &amp; BSP = 4.677) but some are far too high in my opinion (for instance matched at 170 for BSP 26) I suspect that these aren't actually getting matched - are there other reasons that EXECUTION_COMPLETE would be triggered?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "ge77c5f2c3ae",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/e77c5f2c3aeb6f252ade37f224991333.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0000-72.png",
            "first_name": "",
            "real_name": "Tom Cannon",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "x4nnon",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1657900471.604279",
        "parent_user_id": "U01EQMX079B",
        "attachments": [
            {
                "id": 1,
                "footer_icon": "https:\/\/slack.github.com\/static\/img\/favicon-neutral.png",
                "ts": 1609020086,
                "color": "36a64f",
                "bot_id": "B021ZJYSBMW",
                "app_unfurl_url": "https:\/\/github.com\/betcode-org\/flumine\/issues\/354",
                "is_app_unfurl": true,
                "app_id": "A01BP7R4KNY",
                "fallback": "<https:\/\/github.com\/betcode-org\/flumine\/issues\/354|#354 Multiple orders for single trade simulation>",
                "text": "I have come across an unusual bug:  \nWhen backtesting, if a situation is created for a historical event where:\n\n1. `Trade` created, back `Order` created with trade\n2. back `Order` reaches `EXECUTION_COMPLETE`\n3. New `Trade` created, lay `Order` created with new trade\n4. lay `Order` reaches `EXECUTION_COMPLETE`\n\nHowever, if this is exact same execution is modified so that in step 3. the lay `Order` is created with the same `Trade` used in step 1. for the back `Order`, then the lay `Order` never reaches `EXECUTION_COMPLETE`?",
                "title": "<https:\/\/github.com\/betcode-org\/flumine\/issues\/354|#354 Multiple orders for single trade simulation>",
                "footer": "<https:\/\/github.com\/betcode-org\/flumine|betcode-org\/flumine>",
                "fields": [
                    {
                        "value": "bug",
                        "title": "Labels",
                        "short": true
                    },
                    {
                        "value": "1",
                        "title": "Comments",
                        "short": true
                    }
                ],
                "mrkdwn_in": [
                    "text"
                ]
            }
        ],
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "kAHu",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "user",
                                "user_id": "UCQB6S222"
                            },
                            {
                                "type": "text",
                                "text": " this would be ideal. I've just implemented a green strategy and unfortunatly I'm getting similar negative profits in simulation - which doesn't make much sense to me ...\n\n"
                            },
                            {
                                "type": "user",
                                "user_id": "U4H19D1D2"
                            },
                            {
                                "type": "text",
                                "text": "\nAm I correct in thinking that OrderStatus.EXECUTION_COMPLETE is only true when an order has been fully matched? So laying immediately at the BSP using MarketOnCloseOrder should give me a margin if BSP < matched_back_price (which it does when I track it) but in simulation It's as if my lay order is never fulfilled. The only similar debugging I can find is here "
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/github.com\/betcode-org\/flumine\/issues\/354"
                            },
                            {
                                "type": "text",
                                "text": " Of which I think is still present in FlumineSimulation._"
                            },
                            {
                                "type": "text",
                                "text": "process",
                                "style": {
                                    "italic": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "s_simulation_orders().\n\nI also seem to be getting matched in simulation at strange prices. For ~95% it's sensible (matched at 5 & BSP = 4.677) but some are far too high in my opinion (for instance matched at 170 for BSP 26) I suspect that these aren't actually getting matched - are there other reasons that EXECUTION_COMPLETE would be triggered?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U01EQMX079B",
        "type": "message",
        "ts": "1657964992.602419",
        "client_msg_id": "4f6ed292-b403-4e2f-91ac-00f6c5951781",
        "text": "<@UGV299K6H> I only have 4 months of data and using one month for simulation. I could form this model \/ strategy completely theoretically though to be honest; although I have tuned it with the data I have. But I see your point regarding simulation size.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "ge77c5f2c3ae",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/e77c5f2c3aeb6f252ade37f224991333.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0000-72.png",
            "first_name": "",
            "real_name": "Tom Cannon",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "x4nnon",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1657900471.604279",
        "parent_user_id": "U01EQMX079B",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "OQ=9p",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "user",
                                "user_id": "UGV299K6H"
                            },
                            {
                                "type": "text",
                                "text": " I only have 4 months of data and using one month for simulation. I could form this model \/ strategy completely theoretically though to be honest; although I have tuned it with the data I have. But I see your point regarding simulation size."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UGV299K6H",
        "type": "message",
        "ts": "1657966516.728179",
        "client_msg_id": "776b59db-6e88-4eb4-8e8d-382da82ac822",
        "text": "Four months is a reasonable amount to develop with, so maybe you're just looking at a relatively high volatility \/ low margin strategy that just needs quite a lot of bets to shake out. The simple answer is more data, which will resolve all questions. Like <@UBS7QANF3> says, one month of horse racing data is not as much as you might think.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g3a262a3cfba",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/b3a262a3cfba292c18acf5777f65908a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png",
            "first_name": "Michael",
            "real_name": "Michael C",
            "display_name": "Michael",
            "team": "T4G9NBD2M",
            "name": "michael",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1657900471.604279",
        "parent_user_id": "U01EQMX079B",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "xyb5",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Four months is a reasonable amount to develop with, so maybe you're just looking at a relatively high volatility \/ low margin strategy that just needs quite a lot of bets to shake out. The simple answer is more data, which will resolve all questions. Like "
                            },
                            {
                                "type": "user",
                                "user_id": "UBS7QANF3"
                            },
                            {
                                "type": "text",
                                "text": " says, one month of horse racing data is not as much as you might think."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U016TGY3676",
        "type": "message",
        "ts": "1657985123.936559",
        "client_msg_id": "cbd4d947-1164-4f47-b4bc-8f2c73b2411b",
        "text": "EXECUTION_COMPLETE simply means that the order has completed, e.g. matched, lapsed or cancelled. You also need to check size_matched to determine what happened.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g6a681220e11",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/6a681220e11c1a2ed3685375d658dadb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0001-72.png",
            "first_name": "",
            "real_name": "birchy",
            "display_name": "birchy",
            "team": "T4G9NBD2M",
            "name": "birchy",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1657900471.604279",
        "parent_user_id": "U01EQMX079B",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "YKf",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "EXECUTION_COMPLETE simply means that the order has completed, e.g. matched, lapsed or cancelled. You also need to check size_matched to determine what happened."
                            }
                        ]
                    }
                ]
            }
        ]
    }
]