[
    {
        "user": "UGV299K6H",
        "type": "message",
        "ts": "1596873190.028200",
        "client_msg_id": "d8417a57-fadb-484e-8ed2-0bce871e83b2",
        "text": "To extend the clarification: In a multiple selection market (like a horse race) you might reasonably expect an individual horse to be dramatically over-backed and thus presenting lay value, but the balancing back value that must exist would usually be spread thinly across the other runners; just because one horse is over rated that doesn't mean that one specific other horse should be under-backed. In that type of market you might expect to find value on only one runner at a time. It's also possible to have 2 runners offering value to lay or whatever - it can be anything, but you'd usually expect to find the value 'focused' on one runner. By contrast in a Tennis match (2 outcomes) both outcomes must be showing value. If it's not obvious why that is - I'm gonna say 'quit now'.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g3a262a3cfba",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/b3a262a3cfba292c18acf5777f65908a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png",
            "first_name": "Michael",
            "real_name": "Michael C",
            "display_name": "Michael",
            "team": "T4G9NBD2M",
            "name": "michael",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "T4B7K",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "To extend the clarification: In a multiple selection market (like a horse race) you might reasonably expect an individual horse to be dramatically over-backed and thus presenting lay value, but the balancing back value that must exist would usually be spread thinly across the other runners; just because one horse is over rated that doesn't mean that one specific other horse should be under-backed. In that type of market you might expect to find value on only one runner at a time. It's also possible to have 2 runners offering value to lay or whatever - it can be anything, but you'd usually expect to find the value 'focused' on one runner. By contrast in a Tennis match (2 outcomes) both outcomes must be showing value. If it's not obvious why that is - I'm gonna say 'quit now'."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UGV299K6H",
        "type": "message",
        "ts": "1596873269.029700",
        "client_msg_id": "8871fbd1-98b3-4d36-ae3c-06190c3d64f6",
        "text": "That said: Experience tells me that if you're finding almost 100% lay bets from a model that attempts to re-price a whole market then you're doing something seriously wrong.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g3a262a3cfba",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/b3a262a3cfba292c18acf5777f65908a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png",
            "first_name": "Michael",
            "real_name": "Michael C",
            "display_name": "Michael",
            "team": "T4G9NBD2M",
            "name": "michael",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "0ROQ",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "That said: Experience tells me that if you're finding almost 100% lay bets from a model that attempts to re-price a whole market then you're doing something seriously wrong."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U011VL3CA2Y",
        "type": "message",
        "ts": "1596873782.036700",
        "client_msg_id": "6915180b-4158-4e43-8ff2-8c1d34508892",
        "text": "yes, that was my initial thought as well",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g1ec6e88d1e4",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/1ec6e88d1e4dd0bff349d83e9edba6bd.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png",
            "first_name": "Ruben",
            "real_name": "Ruben",
            "display_name": "Ruben",
            "team": "T4G9NBD2M",
            "name": "tduqruqtgtpiioibww",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "isN7",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "yes, that was my initial thought as well"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UGV299K6H",
        "type": "message",
        "ts": "1596874558.042800",
        "client_msg_id": "aefa7472-f4fa-43cc-a347-2ca2554342b7",
        "text": "More broadly (and not necessarily talking about you Ruben): Whilst ML and other statistical tools can have great value it's tremendously important to have a clear understanding of the basic workings of a market, elementary probability and what all the numbers really mean in the real world. Even on this forum that's thinner on the ground than it should be. As far as generating strategies goes I'd suggest the following: Start with common sense and logical reasoning, then use basic maths and visualisation, then use statistics or ML if it's necessary AND you genuinely understand it. A 'black box' approach is very unlikely to be a good idea.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g3a262a3cfba",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/b3a262a3cfba292c18acf5777f65908a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png",
            "first_name": "Michael",
            "real_name": "Michael C",
            "display_name": "Michael",
            "team": "T4G9NBD2M",
            "name": "michael",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "yOS",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "More broadly (and not necessarily talking about you Ruben): Whilst ML and other statistical tools can have great value it's tremendously important to have a clear understanding of the basic workings of a market, elementary probability and what all the numbers really mean in the real world. Even on this forum that's thinner on the ground than it should be. As far as generating strategies goes I'd suggest the following: Start with common sense and logical reasoning, then use basic maths and visualisation, then use statistics or ML if it's necessary AND you genuinely understand it. A 'black box' approach is very unlikely to be a good idea."
                            }
                        ]
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "+1",
                "users": [
                    "UUE6E1LA1"
                ],
                "count": 1
            }
        ]
    },
    {
        "user": "UGV299K6H",
        "type": "message",
        "ts": "1596875725.047000",
        "client_msg_id": "82a2727b-af47-4e88-a926-cb8bd784cb66",
        "text": "For example whilst <@UBS7QANF3>’s operation is very sophisticated it's still underpinned by the blinding insight that when a tennis player scores a point he\/she becomes more likely to win - and the further astonishing news that if he knows that before the other guy then he has an advantage. Wow. Meanwhile I made my own little fortune because I figured this out (try to stay with me here): If a horse wants to win a race it has to run faster than the other horses. I know right - where's my Fields medal?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g3a262a3cfba",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/b3a262a3cfba292c18acf5777f65908a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png",
            "first_name": "Michael",
            "real_name": "Michael C",
            "display_name": "Michael",
            "team": "T4G9NBD2M",
            "name": "michael",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1596875725.047000",
        "reply_count": 1,
        "reply_users_count": 1,
        "latest_reply": "1597186324.000400",
        "reply_users": [
            "U9CP5N36K"
        ],
        "replies": [
            {
                "user": "U9CP5N36K",
                "ts": "1597186324.000400"
            }
        ],
        "is_locked": false,
        "subscribed": false,
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "BeRBQ",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "For example whilst "
                            },
                            {
                                "type": "user",
                                "user_id": "UBS7QANF3"
                            },
                            {
                                "type": "text",
                                "text": "’s operation is very sophisticated it's still underpinned by the blinding insight that when a tennis player scores a point he\/she becomes more likely to win - and the further astonishing news that if he knows that before the other guy then he has an advantage. Wow. Meanwhile I made my own little fortune because I figured this out (try to stay with me here): If a horse wants to win a race it has to run faster than the other horses. I know right - where's my Fields medal?"
                            }
                        ]
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "joy",
                "users": [
                    "U4H19D1D2",
                    "U9CP5N36K"
                ],
                "count": 2
            },
            {
                "name": "+1",
                "users": [
                    "U017A7TRF6E",
                    "UUE6E1LA1",
                    "U9CP5N36K"
                ],
                "count": 3
            }
        ]
    },
    {
        "user": "U011VL3CA2Y",
        "type": "message",
        "ts": "1596877961.048300",
        "client_msg_id": "9f2c7bf2-443f-4699-94c7-a656884a236f",
        "text": "well hindsight bias is a real thing...:laughing:",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g1ec6e88d1e4",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/1ec6e88d1e4dd0bff349d83e9edba6bd.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png",
            "first_name": "Ruben",
            "real_name": "Ruben",
            "display_name": "Ruben",
            "team": "T4G9NBD2M",
            "name": "tduqruqtgtpiioibww",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "4x3",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "well hindsight bias is a real thing..."
                            },
                            {
                                "type": "emoji",
                                "name": "laughing",
                                "unicode": "1f606"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UBS7QANF3",
        "type": "message",
        "ts": "1596878578.048700",
        "client_msg_id": "c863316a-31ed-4021-8504-27616c97717c",
        "text": "Thanks <@UGV299K6H>, now I have the missing piece for my GPS strategy!",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gaaf844a4a90",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/eaaf844a4a905431d83430e563b077aa.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png",
            "first_name": "",
            "real_name": "Maurice Berk",
            "display_name": "Mo",
            "team": "T4G9NBD2M",
            "name": "maurice",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "rfyw",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Thanks "
                            },
                            {
                                "type": "user",
                                "user_id": "UGV299K6H"
                            },
                            {
                                "type": "text",
                                "text": ", now I have the missing piece for my GPS strategy!"
                            }
                        ]
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "money_mouth_face",
                "users": [
                    "UBS7QANF3",
                    "U9CP5N36K"
                ],
                "count": 2
            }
        ]
    },
    {
        "user": "UGV299K6H",
        "type": "message",
        "ts": "1596878624.049500",
        "client_msg_id": "ed1287fa-0269-41ff-9453-55d1b8c499ce",
        "text": "Happy to help!",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g3a262a3cfba",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/b3a262a3cfba292c18acf5777f65908a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png",
            "first_name": "Michael",
            "real_name": "Michael C",
            "display_name": "Michael",
            "team": "T4G9NBD2M",
            "name": "michael",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Vff",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Happy to help!"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UGV299K6H",
        "type": "message",
        "ts": "1596878831.050100",
        "client_msg_id": "fdff79ce-b8f9-4915-9cc3-50583a9eb0eb",
        "text": "Now if I can just work out what 'goals' are....",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g3a262a3cfba",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/b3a262a3cfba292c18acf5777f65908a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png",
            "first_name": "Michael",
            "real_name": "Michael C",
            "display_name": "Michael",
            "team": "T4G9NBD2M",
            "name": "michael",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "fST",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Now if I can just work out what 'goals' are...."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UGV299K6H",
        "type": "message",
        "ts": "1596878897.050400",
        "client_msg_id": "905878fd-8475-49e5-97e8-40804a43d873",
        "text": "I'm certain that's the key to golf.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g3a262a3cfba",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/b3a262a3cfba292c18acf5777f65908a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0006-72.png",
            "first_name": "Michael",
            "real_name": "Michael C",
            "display_name": "Michael",
            "team": "T4G9NBD2M",
            "name": "michael",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "5c9h",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I'm certain that's the key to golf."
                            }
                        ]
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "rolling_on_the_floor_laughing",
                "users": [
                    "U011VL3CA2Y"
                ],
                "count": 1
            }
        ]
    },
    {
        "text": "Hi All, this is my first post, Does anyone know how to get *All* traded volume using betfairlightweight or Streaming API as shown in below figure?",
        "files": [
            {
                "id": "F018HPXLHQB",
                "mode": "hidden_by_limit"
            }
        ],
        "upload": false,
        "user": "U0160KZB6QP",
        "display_as_bot": false,
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "jhQ",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Hi All, this is my first post, Does anyone know how to get "
                            },
                            {
                                "type": "text",
                                "text": "All ",
                                "style": {
                                    "bold": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "traded volume using betfairlightweight or Streaming API as shown in below figure?"
                            }
                        ]
                    }
                ]
            }
        ],
        "type": "message",
        "ts": "1596886962.052300"
    },
    {
        "user": "UBS7QANF3",
        "type": "message",
        "ts": "1596887050.052900",
        "edited": {
            "user": "UBS7QANF3",
            "ts": "1596887094.000000"
        },
        "client_msg_id": "cc5588b8-1b56-45ee-8b56-b7c15f0452ab",
        "text": "Use streaming including EX_TRADED in your market_data_filter",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gaaf844a4a90",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/eaaf844a4a905431d83430e563b077aa.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png",
            "first_name": "",
            "real_name": "Maurice Berk",
            "display_name": "Mo",
            "team": "T4G9NBD2M",
            "name": "maurice",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1596887050.052900",
        "reply_count": 1,
        "reply_users_count": 1,
        "latest_reply": "1596923626.053800",
        "reply_users": [
            "U0160KZB6QP"
        ],
        "replies": [
            {
                "user": "U0160KZB6QP",
                "ts": "1596923626.053800"
            }
        ],
        "is_locked": false,
        "subscribed": false,
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "2vThH",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Use streaming including EX_TRADED in your market_data_filter"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U0160KZB6QP",
        "type": "message",
        "ts": "1596923626.053800",
        "client_msg_id": "25a1c761-c362-4f6f-ba1f-2a900ad410dc",
        "text": "Thanks, it works.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g4b10fa305fe",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/4b10fa305fee22d94246281f32cfef31.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png",
            "first_name": "",
            "real_name": "ricky",
            "display_name": "ricky",
            "team": "T4G9NBD2M",
            "name": "yuqianguk",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1596887050.052900",
        "parent_user_id": "UBS7QANF3",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "EJKXs",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Thanks, it works."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U0160KZB6QP",
        "type": "message",
        "ts": "1596924472.054200",
        "edited": {
            "user": "U0160KZB6QP",
            "ts": "1596928210.000000"
        },
        "client_msg_id": "9adb9926-1163-44be-b9a7-8fe173b77de5",
        "text": "I have question about snap listener, by definition \"Instead of waiting for an update you can snap the listener to get an up to date version of the data.\"\nHowever, i didn't see any difference with or without snap listener via streaming,  the question is what is the expect behaviour for snap? if the streaming update automatically, why and when to use snap? I put my example code in below.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g4b10fa305fe",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/4b10fa305fee22d94246281f32cfef31.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png",
            "first_name": "",
            "real_name": "ricky",
            "display_name": "ricky",
            "team": "T4G9NBD2M",
            "name": "yuqianguk",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1596924472.054200",
        "reply_count": 1,
        "reply_users_count": 1,
        "latest_reply": "1596928154.054400",
        "reply_users": [
            "U0160KZB6QP"
        ],
        "replies": [
            {
                "user": "U0160KZB6QP",
                "ts": "1596928154.054400"
            }
        ],
        "is_locked": false,
        "subscribed": false,
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "QYCf",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I have question about snap listener, by definition \"Instead of waiting for an update you can snap the listener to get an up to date version of the data.\"\nHowever, i didn't see any difference with or without snap listener via streaming,  the question is what is the expect behaviour for snap? if the streaming update automatically, why and when to use snap? I put my example code in below."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U0160KZB6QP",
        "type": "message",
        "ts": "1596928154.054400",
        "client_msg_id": "a29622dd-edc1-4046-8197-215cde19f0ec",
        "text": "# create queue\noutput_queue = None\n\nmarket_filter = streaming_market_filter(\n    event_type_ids=[\"1\"], market_types=[\"MATCH_ODDS\"], market_ids=[\"1.171324077\"]\n)\nmarket_data_filter = streaming_market_data_filter(\n    fields=[\"EX_BEST_OFFERS\", \"EX_MARKET_DEF\", \"EX_TRADED\"], ladder_levels=10\n)\n\n# create stream listener\nlistener = betfairlightweight.StreamListener(output_queue=output_queue)\n\n# create stream\nstream = trading.streaming.create_stream(listener=listener)\n\nmarket_books = listener.snap(\n    market_ids=[\"1.171324077\"]\n)\n\n# subscribe\nstreaming_unique_id = stream.subscribe_to_markets(\n    market_filter=market_filter,\n    market_data_filter=market_data_filter,\n    conflate_ms=1000,  # send update every 1000ms\n)\n\n# create streaming object\nstreaming = Streaming(trading, market_filter, market_data_filter)\n\n# start streaming (runs in new thread and handles any errors)\nstreaming.start()\n\n...\nwhile True:\n    market_books = streaming.output_queue.get()\n    print(market_books)",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g4b10fa305fe",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/4b10fa305fee22d94246281f32cfef31.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png",
            "first_name": "",
            "real_name": "ricky",
            "display_name": "ricky",
            "team": "T4G9NBD2M",
            "name": "yuqianguk",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1596924472.054200",
        "parent_user_id": "U0160KZB6QP",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "duWEB",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "# create queue\noutput_queue = None\n\nmarket_filter = streaming_market_filter(\n    event_type_ids=[\"1\"], market_types=[\"MATCH_ODDS\"], market_ids=[\"1.171324077\"]\n)\nmarket_data_filter = streaming_market_data_filter(\n    fields=[\"EX_BEST_OFFERS\", \"EX_MARKET_DEF\", \"EX_TRADED\"], ladder_levels=10\n)\n\n# create stream listener\nlistener = betfairlightweight.StreamListener(output_queue=output_queue)\n\n# create stream\nstream = trading.streaming.create_stream(listener=listener)\n\nmarket_books = listener.snap(\n    market_ids=[\"1.171324077\"]\n)\n\n# subscribe\nstreaming_unique_id = stream.subscribe_to_markets(\n    market_filter=market_filter,\n    market_data_filter=market_data_filter,\n    conflate_ms=1000,  # send update every 1000ms\n)\n\n# create streaming object\nstreaming = Streaming(trading, market_filter, market_data_filter)\n\n# start streaming (runs in new thread and handles any errors)\nstreaming.start()\n\n...\nwhile True:\n    market_books = streaming.output_queue.get()\n    print(market_books)"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1596955766.056900",
        "client_msg_id": "EC5B6170-0A06-4115-A839-EB0C63C6514B",
        "text": "Snap let’s you get a MarketBook or OrderBook as it stands, this might be because it’s a low liquidity market which only gets updated every x minutes or you don’t want every single update ",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Ml\/vR",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Snap let’s you get a MarketBook or OrderBook as it stands, this might be because it’s a low liquidity market which only gets updated every x minutes or you don’t want every single update "
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1596955816.058100",
        "client_msg_id": "B6A8B62B-15FB-4E36-8F66-B691567AEB49",
        "text": "Think of it as a way to poll the listMarketBook endpoint but you have it locally which means it quicker and a lot lighter on CPU",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "TGK99",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Think of it as a way to poll the listMarketBook endpoint but you have it locally which means it quicker and a lot lighter on CPU"
                            }
                        ]
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "+1",
                "users": [
                    "U0160KZB6QP"
                ],
                "count": 1
            }
        ]
    }
]