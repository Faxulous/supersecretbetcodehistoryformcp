[
    {
        "user": "U016TGY3676",
        "type": "message",
        "ts": "1640960738.444700",
        "client_msg_id": "e124f6a8-c800-4531-95d6-c6c1ee306465",
        "text": "In Flumine, what's the recommended way to use\n`lookup = (market.market_id, runner.selection_id, runner.handicap)\nexposure = market.blotter.selection_exposure(self, lookup)`\nIf all of our bets are one side only? Let's assume that we've backed OR layed all of the runners and now have an exposure &lt;= 0 for each runner. The current calc accumulates the liabilities at runner level. Is there a way to reset it to avoid validation errors, or is it easier to set `max_selection_exposure` to some big number and self-handle the exposure at market level?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g6a681220e11",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/6a681220e11c1a2ed3685375d658dadb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0001-72.png",
            "first_name": "",
            "real_name": "birchy",
            "display_name": "birchy",
            "team": "T4G9NBD2M",
            "name": "birchy",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "I3G4R",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "In Flumine, what's the recommended way to use\n"
                            },
                            {
                                "type": "text",
                                "text": "lookup = (market.market_id, runner.selection_id, runner.handicap)\n",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "exposure = market.blotter.selection_exposure(self, lookup)",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\nIf all of our bets are one side only? Let's assume that we've backed OR layed all of the runners and now have an exposure <= 0 for each runner. The current calc accumulates the liabilities at runner level. Is there a way to reset it to avoid validation errors, or is it easier to set "
                            },
                            {
                                "type": "text",
                                "text": "max_selection_exposure",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " to some big number and self-handle the exposure at market level?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U016TGY3676",
        "type": "message",
        "ts": "1640960879.445100",
        "client_msg_id": "c98df081-05a2-40be-9e9f-0f1d284243d0",
        "text": "Ah... <https:\/\/github.com\/liampauling\/flumine\/pull\/517|https:\/\/github.com\/liampauling\/flumine\/pull\/517> :flushed:",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g6a681220e11",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/6a681220e11c1a2ed3685375d658dadb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0001-72.png",
            "first_name": "",
            "real_name": "birchy",
            "display_name": "birchy",
            "team": "T4G9NBD2M",
            "name": "birchy",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "attachments": [
            {
                "id": 1,
                "footer_icon": "https:\/\/slack.github.com\/static\/img\/favicon-neutral.png",
                "ts": 1635233006,
                "color": "6f42c1",
                "bot_id": "B021ZJYSBMW",
                "app_unfurl_url": "https:\/\/github.com\/liampauling\/flumine\/pull\/517",
                "is_app_unfurl": true,
                "app_id": "A01BP7R4KNY",
                "fallback": "<https:\/\/github.com\/liampauling\/flumine\/pull\/517|#517 Extend selection exposures to whole market>",
                "text": "Builds on the existing selection exposure calculations (which does the heavy lifting) to derive the worst case outcome (exposure) for the whole market.\n\nThe underlying approach is to sum all potential losses and then adjust to reflect the worst case for the given number of winners in the market.\n\nLimitations: this will not work for multi-line markets (e,g, each way, or most asian handicaps) or markets with a variable number of winners such as correct score for which Betfair treats each line as a separate market.",
                "title": "<https:\/\/github.com\/liampauling\/flumine\/pull\/517|#517 Extend selection exposures to whole market>",
                "footer": "<https:\/\/github.com\/liampauling\/flumine|liampauling\/flumine>",
                "mrkdwn_in": [
                    "text"
                ]
            }
        ],
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "7feq",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Ah... "
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/github.com\/liampauling\/flumine\/pull\/517",
                                "text": "https:\/\/github.com\/liampauling\/flumine\/pull\/517"
                            },
                            {
                                "type": "text",
                                "text": " "
                            },
                            {
                                "type": "emoji",
                                "name": "flushed",
                                "unicode": "1f633"
                            }
                        ]
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "+1",
                "users": [
                    "U025C059DA9",
                    "U9JHLMZB4"
                ],
                "count": 2
            }
        ]
    }
]