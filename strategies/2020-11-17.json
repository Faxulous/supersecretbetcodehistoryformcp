[
    {
        "user": "UBS7QANF3",
        "type": "message",
        "ts": "1605601017.128200",
        "client_msg_id": "ec436afa-15e7-4204-8784-65200f913e28",
        "text": "From my perspective, I don't think that simply porting the Available class to C is a particularly promising optimisation. I think a big problem is the number of objects that are created and the port won't change that. I started working on it more because it's somewhere to start and I've never written an entire Python class in C before despite using the Python C API to write plenty of functions",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gaaf844a4a90",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/eaaf844a4a905431d83430e563b077aa.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png",
            "first_name": "",
            "real_name": "Maurice Berk",
            "display_name": "Mo",
            "team": "T4G9NBD2M",
            "name": "maurice",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "9qf",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "From my perspective, I don't think that simply porting the Available class to C is a particularly promising optimisation. I think a big problem is the number of objects that are created and the port won't change that. I started working on it more because it's somewhere to start and I've never written an entire Python class in C before despite using the Python C API to write plenty of functions"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UUE6E1LA1",
        "type": "message",
        "ts": "1605606155.129600",
        "client_msg_id": "dac53692-d30e-4d73-92c4-56de4414a9a7",
        "text": "<@UBS7QANF3> is C++ an option for you? People who need very high performance code seem to have a huge hard-on for the newer features like move semantics ? Or does C++ not play well with Python?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gf53cae45edd",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/f53cae45edd7f7b67bbe98819597612e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0017-72.png",
            "first_name": "",
            "real_name": "D C",
            "display_name": "D C",
            "team": "T4G9NBD2M",
            "name": "oddsvantage",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1605606155.129600",
        "reply_count": 16,
        "reply_users_count": 4,
        "latest_reply": "1605919117.204900",
        "reply_users": [
            "UBS7QANF3",
            "UUE6E1LA1",
            "U013MLED3V1",
            "U01CTH7AWUB"
        ],
        "replies": [
            {
                "user": "UBS7QANF3",
                "ts": "1605613280.130000"
            },
            {
                "user": "UUE6E1LA1",
                "ts": "1605613546.130200"
            },
            {
                "user": "UBS7QANF3",
                "ts": "1605613603.130400"
            },
            {
                "user": "UBS7QANF3",
                "ts": "1605613617.130600"
            },
            {
                "user": "UUE6E1LA1",
                "ts": "1605613743.130800"
            },
            {
                "user": "UBS7QANF3",
                "ts": "1605613859.131000"
            },
            {
                "user": "UUE6E1LA1",
                "ts": "1605613986.131200"
            },
            {
                "user": "UBS7QANF3",
                "ts": "1605614184.131400"
            },
            {
                "user": "UUE6E1LA1",
                "ts": "1605614258.131600"
            },
            {
                "user": "UUE6E1LA1",
                "ts": "1605614263.131800"
            },
            {
                "user": "UBS7QANF3",
                "ts": "1605614362.132000"
            },
            {
                "user": "UUE6E1LA1",
                "ts": "1605614579.132200"
            },
            {
                "user": "UUE6E1LA1",
                "ts": "1605614614.132400"
            },
            {
                "user": "U013MLED3V1",
                "ts": "1605692507.148500"
            },
            {
                "user": "U01CTH7AWUB",
                "ts": "1605919057.203300"
            },
            {
                "user": "U01CTH7AWUB",
                "ts": "1605919117.204900"
            }
        ],
        "is_locked": false,
        "subscribed": false,
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "WUUF",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "user",
                                "user_id": "UBS7QANF3"
                            },
                            {
                                "type": "text",
                                "text": " is C++ an option for you? People who need very high performance code seem to have a huge hard-on for the newer features like move semantics ? Or does C++ not play well with Python?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UBS7QANF3",
        "type": "message",
        "ts": "1605613280.130000",
        "client_msg_id": "f806811f-b19b-4d69-a6e9-e62ba5588d1e",
        "text": "An option in what context? I don't think it changes the conclusion that it's better to redesign the Available class (and\/or users of that class)",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gaaf844a4a90",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/eaaf844a4a905431d83430e563b077aa.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png",
            "first_name": "",
            "real_name": "Maurice Berk",
            "display_name": "Mo",
            "team": "T4G9NBD2M",
            "name": "maurice",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1605606155.129600",
        "parent_user_id": "UUE6E1LA1",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "eSE",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "An option in what context? I don't think it changes the conclusion that it's better to redesign the Available class (and\/or users of that class)"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UUE6E1LA1",
        "type": "message",
        "ts": "1605613546.130200",
        "client_msg_id": "c99cfaf5-717a-4b76-bc87-951a88f9e07f",
        "text": "I saw you referring to reference counting and performance issues caused by object creation and immediately thought of smart pointers and move semantics. Looks like I have put 2 and 2 together and made 5.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gf53cae45edd",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/f53cae45edd7f7b67bbe98819597612e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0017-72.png",
            "first_name": "",
            "real_name": "D C",
            "display_name": "D C",
            "team": "T4G9NBD2M",
            "name": "oddsvantage",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1605606155.129600",
        "parent_user_id": "UUE6E1LA1",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "I2+C",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I saw you referring to reference counting and performance issues caused by object creation and immediately thought of smart pointers and move semantics. Looks like I have put 2 and 2 together and made 5."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UBS7QANF3",
        "type": "message",
        "ts": "1605613603.130400",
        "client_msg_id": "ec5e573f-32ec-46b4-a30d-6aace6b9041e",
        "text": "By reference counting I'm talking about how you need to manage the reference count of Python objects when using the C API so it can do garbage collection",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gaaf844a4a90",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/eaaf844a4a905431d83430e563b077aa.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png",
            "first_name": "",
            "real_name": "Maurice Berk",
            "display_name": "Mo",
            "team": "T4G9NBD2M",
            "name": "maurice",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1605606155.129600",
        "parent_user_id": "UUE6E1LA1",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "apH",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "By reference counting I'm talking about how you need to manage the reference count of Python objects when using the C API so it can do garbage collection"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UBS7QANF3",
        "type": "message",
        "ts": "1605613617.130600",
        "client_msg_id": "f07b3e22-e1b5-4c6d-aa7f-a7dd3b9d1ca1",
        "text": "By object creation I'm talking about creating Python objects",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gaaf844a4a90",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/eaaf844a4a905431d83430e563b077aa.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png",
            "first_name": "",
            "real_name": "Maurice Berk",
            "display_name": "Mo",
            "team": "T4G9NBD2M",
            "name": "maurice",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1605606155.129600",
        "parent_user_id": "UUE6E1LA1",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "paU",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "By object creation I'm talking about creating Python objects"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UUE6E1LA1",
        "type": "message",
        "ts": "1605613743.130800",
        "client_msg_id": "8cd72592-cf4e-4687-919b-cc0cb3ca29ac",
        "text": "Fair enough. I misunderstood and thought you were rewriting things in C. 2+2 != 5",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gf53cae45edd",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/f53cae45edd7f7b67bbe98819597612e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0017-72.png",
            "first_name": "",
            "real_name": "D C",
            "display_name": "D C",
            "team": "T4G9NBD2M",
            "name": "oddsvantage",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1605606155.129600",
        "parent_user_id": "UUE6E1LA1",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "eiL",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Fair enough. I misunderstood and thought you were rewriting things in C. 2+2 != 5"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UBS7QANF3",
        "type": "message",
        "ts": "1605613859.131000",
        "client_msg_id": "536d3bc7-c57d-4273-bee5-2d78e40d86ae",
        "text": "Just to be precise, I am rewriting things in C but as a Python extension using the Python C API rather than a standalone application",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gaaf844a4a90",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/eaaf844a4a905431d83430e563b077aa.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png",
            "first_name": "",
            "real_name": "Maurice Berk",
            "display_name": "Mo",
            "team": "T4G9NBD2M",
            "name": "maurice",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1605606155.129600",
        "parent_user_id": "UUE6E1LA1",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "3dGoo",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Just to be precise, I am rewriting things in C but as a Python extension using the Python C API rather than a standalone application"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UUE6E1LA1",
        "type": "message",
        "ts": "1605613986.131200",
        "client_msg_id": "ff35d656-390a-42e5-9d80-cb379efc022c",
        "text": "OK. I will educate myself in this regard especially now I am having to learn Python myself.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gf53cae45edd",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/f53cae45edd7f7b67bbe98819597612e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0017-72.png",
            "first_name": "",
            "real_name": "D C",
            "display_name": "D C",
            "team": "T4G9NBD2M",
            "name": "oddsvantage",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1605606155.129600",
        "parent_user_id": "UUE6E1LA1",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "rO34",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "OK. I will educate myself in this regard especially now I am having to learn Python myself."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UBS7QANF3",
        "type": "message",
        "ts": "1605614184.131400",
        "client_msg_id": "8d3d14f8-f2e1-40bb-968a-4bcbbfc6bfcf",
        "text": "As recently discussed in this channel, it's hard to find good resources on the Python C API but the concept itself is great if you know C\/C++ because it allows you to write performance critical parts of your application in C and the rest in Python. It also works the other way if you want to run Python code from C",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gaaf844a4a90",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/eaaf844a4a905431d83430e563b077aa.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png",
            "first_name": "",
            "real_name": "Maurice Berk",
            "display_name": "Mo",
            "team": "T4G9NBD2M",
            "name": "maurice",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1605606155.129600",
        "parent_user_id": "UUE6E1LA1",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "w2u",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "As recently discussed in this channel, it's hard to find good resources on the Python C API but the concept itself is great if you know C\/C++ because it allows you to write performance critical parts of your application in C and the rest in Python. It also works the other way if you want to run Python code from C"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UUE6E1LA1",
        "type": "message",
        "ts": "1605614258.131600",
        "client_msg_id": "b58947b5-18b6-40e1-bec6-3473c66921ce",
        "text": "It sounds reminiscent of MATLAB .mex files. Does it have a C++ API too?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gf53cae45edd",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/f53cae45edd7f7b67bbe98819597612e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0017-72.png",
            "first_name": "",
            "real_name": "D C",
            "display_name": "D C",
            "team": "T4G9NBD2M",
            "name": "oddsvantage",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1605606155.129600",
        "parent_user_id": "UUE6E1LA1",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "8jShh",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "It sounds reminiscent of MATLAB .mex files. Does it have a C++ API too?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UUE6E1LA1",
        "type": "message",
        "ts": "1605614263.131800",
        "client_msg_id": "b1f423ce-477d-472d-b217-525d67a409df",
        "text": "Or just C?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gf53cae45edd",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/f53cae45edd7f7b67bbe98819597612e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0017-72.png",
            "first_name": "",
            "real_name": "D C",
            "display_name": "D C",
            "team": "T4G9NBD2M",
            "name": "oddsvantage",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1605606155.129600",
        "parent_user_id": "UUE6E1LA1",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "yLP",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Or just C?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UBS7QANF3",
        "type": "message",
        "ts": "1605614362.132000",
        "client_msg_id": "fdb1a93c-dec1-414d-98a3-a6840fa4b972",
        "text": "As far as I am aware, just C but calling C functions from C++ is trivial?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gaaf844a4a90",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/eaaf844a4a905431d83430e563b077aa.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png",
            "first_name": "",
            "real_name": "Maurice Berk",
            "display_name": "Mo",
            "team": "T4G9NBD2M",
            "name": "maurice",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1605606155.129600",
        "parent_user_id": "UUE6E1LA1",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "=Rd3H",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "As far as I am aware, just C but calling C functions from C++ is trivial?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UUE6E1LA1",
        "type": "message",
        "ts": "1605614579.132200",
        "client_msg_id": "43497c1c-b325-4dc9-906f-bca7ab56f469",
        "text": "Oh yes, I meant more to support things in the reverse direction: a specific C++ API to allow usage of the more modern C++ language. Specific things like lambdas, move semantics and all the other stuff that C++ enthusiasts love about the post C++11 nature of the language (disclaimer: I am not one myself.)",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gf53cae45edd",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/f53cae45edd7f7b67bbe98819597612e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0017-72.png",
            "first_name": "",
            "real_name": "D C",
            "display_name": "D C",
            "team": "T4G9NBD2M",
            "name": "oddsvantage",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1605606155.129600",
        "parent_user_id": "UUE6E1LA1",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "\/D=",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Oh yes, I meant more to support things in the reverse direction: a specific C++ API to allow usage of the more modern C++ language. Specific things like lambdas, move semantics and all the other stuff that C++ enthusiasts love about the post C++11 nature of the language (disclaimer: I am not one myself.)"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UUE6E1LA1",
        "type": "message",
        "ts": "1605614614.132400",
        "client_msg_id": "5bd67ab3-c637-452f-a375-29615c62061b",
        "text": "Just wondering really if I could reuse any C++ code within a Python project in future  basically",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gf53cae45edd",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/f53cae45edd7f7b67bbe98819597612e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0017-72.png",
            "first_name": "",
            "real_name": "D C",
            "display_name": "D C",
            "team": "T4G9NBD2M",
            "name": "oddsvantage",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1605606155.129600",
        "parent_user_id": "UUE6E1LA1",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "n+UL",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Just wondering really if I could reuse any C++ code within a Python project in future  basically"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U016TGY3676",
        "type": "message",
        "ts": "1605638785.134900",
        "client_msg_id": "4024945d-2929-4866-a75a-29973df6aeab",
        "text": "<@UBS7QANF3> just a thought, but is there any benefit to coding *some* of the functions in C rather than rewriting complete classes, etc?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g6a681220e11",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/6a681220e11c1a2ed3685375d658dadb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0001-72.png",
            "first_name": "",
            "real_name": "birchy",
            "display_name": "birchy",
            "team": "T4G9NBD2M",
            "name": "birchy",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "dlK",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "user",
                                "user_id": "UBS7QANF3"
                            },
                            {
                                "type": "text",
                                "text": " just a thought, but is there any benefit to coding "
                            },
                            {
                                "type": "text",
                                "text": "some",
                                "style": {
                                    "bold": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " of the functions in C rather than rewriting complete classes, etc?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1605639252.135800",
        "client_msg_id": "40D3AFA7-D88C-49F6-AEF5-343FA6F31859",
        "text": "Not sure you would get the performance increase without C or something really clever ",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1605639252.135800",
        "reply_count": 16,
        "reply_users_count": 5,
        "latest_reply": "1605655568.147100",
        "reply_users": [
            "UBS7QANF3",
            "U4H19D1D2",
            "U0135SLHQBW",
            "U01C12ZEADQ",
            "U016TGY3676"
        ],
        "replies": [
            {
                "user": "UBS7QANF3",
                "ts": "1605639459.137200"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1605640020.139100"
            },
            {
                "user": "U0135SLHQBW",
                "ts": "1605640521.142300"
            },
            {
                "user": "U0135SLHQBW",
                "ts": "1605640985.142600"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1605641072.143800"
            },
            {
                "user": "U01C12ZEADQ",
                "ts": "1605648833.144700"
            },
            {
                "user": "U01C12ZEADQ",
                "ts": "1605648872.145000"
            },
            {
                "user": "U01C12ZEADQ",
                "ts": "1605649411.145200"
            },
            {
                "user": "U01C12ZEADQ",
                "ts": "1605649439.145400"
            },
            {
                "user": "U01C12ZEADQ",
                "ts": "1605649466.145600"
            },
            {
                "user": "U01C12ZEADQ",
                "ts": "1605649498.145800"
            },
            {
                "user": "U01C12ZEADQ",
                "ts": "1605649505.146000"
            },
            {
                "user": "U01C12ZEADQ",
                "ts": "1605649519.146200"
            },
            {
                "user": "U01C12ZEADQ",
                "ts": "1605649540.146400"
            },
            {
                "user": "U01C12ZEADQ",
                "ts": "1605649742.146800"
            },
            {
                "user": "U016TGY3676",
                "ts": "1605655568.147100"
            }
        ],
        "is_locked": false,
        "subscribed": true,
        "last_read": "1605655568.147100",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "gN\/",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Not sure you would get the performance increase without C or something really clever "
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UBS7QANF3",
        "type": "message",
        "ts": "1605639445.137100",
        "client_msg_id": "71124f0a-24f9-46d7-884a-976dbc7f8bdb",
        "text": "Not sure if you mean some of the functions in the Available class or just some functions more generally; regarding the former, I couldn't easily work out if it's possible to attach a method written in C to a class defined in Python. Regarding the latter: possibly but <@U4H19D1D2> directed me to the Available class being the bottleneck so that's where I started",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gaaf844a4a90",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/eaaf844a4a905431d83430e563b077aa.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png",
            "first_name": "",
            "real_name": "Maurice Berk",
            "display_name": "Mo",
            "team": "T4G9NBD2M",
            "name": "maurice",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "FhBpV",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Not sure if you mean some of the functions in the Available class or just some functions more generally; regarding the former, I couldn't easily work out if it's possible to attach a method written in C to a class defined in Python. Regarding the latter: possibly but "
                            },
                            {
                                "type": "user",
                                "user_id": "U4H19D1D2"
                            },
                            {
                                "type": "text",
                                "text": " directed me to the Available class being the bottleneck so that's where I started"
                            }
                        ]
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "+1",
                "users": [
                    "U016TGY3676"
                ],
                "count": 1
            }
        ]
    },
    {
        "user": "UBS7QANF3",
        "type": "message",
        "ts": "1605639459.137200",
        "client_msg_id": "5015f035-adfd-4cbd-a6dd-1d51430606c9",
        "text": "What about <@U0135SLHQBW>’s idea?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gaaf844a4a90",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/eaaf844a4a905431d83430e563b077aa.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png",
            "first_name": "",
            "real_name": "Maurice Berk",
            "display_name": "Mo",
            "team": "T4G9NBD2M",
            "name": "maurice",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1605639252.135800",
        "parent_user_id": "U4H19D1D2",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "git",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "What about "
                            },
                            {
                                "type": "user",
                                "user_id": "U0135SLHQBW"
                            },
                            {
                                "type": "text",
                                "text": "’s idea?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1605640020.139100",
        "client_msg_id": "4671455C-6140-4948-8686-C0580155C8A0",
        "text": "Interesting, so you have a dictionary of all the prices\/size and then track the top, when profiling it’s the serializing into lists that just kills performance ",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1605639252.135800",
        "parent_user_id": "U4H19D1D2",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "drX",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Interesting, so you have a dictionary of all the prices\/size and then track the top, when profiling it’s the serializing into lists that just kills performance "
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U01093Z1KF0",
        "type": "message",
        "ts": "1605640332.141800",
        "client_msg_id": "0d0e3b1a-8e54-4ce9-a24e-9cdfd490dd71",
        "text": "How do you guys manage closing out of positions in play within the Flumine framework?\nThe way I am currently looking at it seems a bit messy... Creating a dictionary with placed orders and then using this dictionary to place the opposite order once some condition is met.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g0e065c4f427",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/0e065c4f4274fd0a565c58690dfc4a58.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png",
            "first_name": "",
            "real_name": "brightcake",
            "display_name": "brightcake",
            "team": "T4G9NBD2M",
            "name": "vlademelianov",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "VlZX2",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "How do you guys manage closing out of positions in play within the Flumine framework?\nThe way I am currently looking at it seems a bit messy... Creating a dictionary with placed orders and then using this dictionary to place the opposite order once some condition is met."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U01093Z1KF0",
        "type": "message",
        "ts": "1605640359.142200",
        "client_msg_id": "3b5ea8d1-aa9a-4791-80be-f712dc69ef36",
        "text": "I mean filled positions not cancelling unfilled orders",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g0e065c4f427",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/0e065c4f4274fd0a565c58690dfc4a58.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png",
            "first_name": "",
            "real_name": "brightcake",
            "display_name": "brightcake",
            "team": "T4G9NBD2M",
            "name": "vlademelianov",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "foGQ",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I mean filled positions not cancelling unfilled orders"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U0135SLHQBW",
        "type": "message",
        "ts": "1605640521.142300",
        "edited": {
            "user": "U0135SLHQBW",
            "ts": "1605640809.000000"
        },
        "client_msg_id": "29c5ac23-916d-457b-9cd7-cba50586ddac",
        "text": "Just as an aside, in high-frequency trading this is a really big important problem (get the market update and re-arrange the data into a useful form very quickly). Typical approaches use things like b-trees for their log(n) complexity on a variety of opps. The key difference here is that on betfair we know _all_ possible prices in advance, and curcially there isn't many of them. If there's anything you can do to exploit this, you can speed things up",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g316814ce896",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/316814ce896c34a9c72e2ddd6fa17b86.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-72.png",
            "first_name": "",
            "real_name": "MacrcoPolo",
            "display_name": "MacrcoPolo",
            "team": "T4G9NBD2M",
            "name": "omverran",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1605639252.135800",
        "parent_user_id": "U4H19D1D2",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "\/2Ivh",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Just as an aside, in high-frequency trading this is a really big important problem (get the market update and re-arrange the data into a useful form very quickly). Typical approaches use things like b-trees for their log(n) complexity on a variety of opps. The key difference here is that on betfair we know "
                            },
                            {
                                "type": "text",
                                "text": "all",
                                "style": {
                                    "italic": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " possible prices in advance, and curcially there isn't many of them. If there's anything you can do to exploit this, you can speed things up"
                            }
                        ]
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "+1",
                "users": [
                    "U4H19D1D2"
                ],
                "count": 1
            }
        ]
    },
    {
        "user": "U0135SLHQBW",
        "type": "message",
        "ts": "1605640985.142600",
        "edited": {
            "user": "U0135SLHQBW",
            "ts": "1605640995.000000"
        },
        "client_msg_id": "3b2766b1-cdc3-4aef-b849-b1c9dde041a5",
        "text": "The serialization I'm guessing is to avoid some thought of race condition on threaded code?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g316814ce896",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/316814ce896c34a9c72e2ddd6fa17b86.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-72.png",
            "first_name": "",
            "real_name": "MacrcoPolo",
            "display_name": "MacrcoPolo",
            "team": "T4G9NBD2M",
            "name": "omverran",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1605639252.135800",
        "parent_user_id": "U4H19D1D2",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "JCQzU",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "The serialization I'm guessing is to avoid some thought of race condition on threaded code?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1605641072.143800",
        "client_msg_id": "5D0864B1-0764-4E9F-B9DD-1193C22DDCD2",
        "text": "Yeah needs to be a new object as race conditions would happen (regularly)",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1605639252.135800",
        "parent_user_id": "U4H19D1D2",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "iGyx",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Yeah needs to be a new object as race conditions would happen (regularly)"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UBS7QANF3",
        "type": "message",
        "ts": "1605641135.144000",
        "client_msg_id": "00c049f6-fe9a-4174-b717-9da9cca96c44",
        "text": "Fixed the memory leak but I think there's another bug",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gaaf844a4a90",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/eaaf844a4a905431d83430e563b077aa.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png",
            "first_name": "",
            "real_name": "Maurice Berk",
            "display_name": "Mo",
            "team": "T4G9NBD2M",
            "name": "maurice",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1605534335.118200",
        "parent_user_id": "UBS7QANF3",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "hoJ",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Fixed the memory leak but I think there's another bug"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "ULDAVFDRP",
        "type": "message",
        "ts": "1605642535.144400",
        "client_msg_id": "a77c3e02-4e2f-4633-8b86-48aa2132f790",
        "text": "why not just loop through the orders on the trade ?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g46fe1c1bf03",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/b46fe1c1bf03e18d951e7032fb494283.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png",
            "first_name": "",
            "real_name": "Oliver Varney",
            "display_name": "Oliver Varney",
            "team": "T4G9NBD2M",
            "name": "oliverashleyvarney",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1605642535.144400",
        "reply_count": 3,
        "reply_users_count": 2,
        "latest_reply": "1605721318.149700",
        "reply_users": [
            "U01093Z1KF0",
            "ULDAVFDRP"
        ],
        "replies": [
            {
                "user": "U01093Z1KF0",
                "ts": "1605710452.149000"
            },
            {
                "user": "ULDAVFDRP",
                "ts": "1605713579.149200"
            },
            {
                "user": "U01093Z1KF0",
                "ts": "1605721318.149700"
            }
        ],
        "is_locked": false,
        "subscribed": false,
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Elb",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "why not just loop through the orders on the trade ?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U01C12ZEADQ",
        "type": "message",
        "ts": "1605648833.144700",
        "edited": {
            "user": "U01C12ZEADQ",
            "ts": "1605648845.000000"
        },
        "client_msg_id": "7a246967-3b2f-435c-b345-0e0eaa5a0253",
        "text": "tbh the book is never huge, it's probably like 10-ish and you get updates, it may even be worth trying insertion sorting, by reshuffling only those that are changed in an update..",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "e3b7687b0ef8",
            "image_72": "https:\/\/avatars.slack-edge.com\/2020-10-06\/1432945617648_e3b7687b0ef86e4f28b8_72.png",
            "first_name": "Alessio",
            "real_name": "Alessio",
            "display_name": "Alessio",
            "team": "T4G9NBD2M",
            "name": "alessio",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1605639252.135800",
        "parent_user_id": "U4H19D1D2",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "11jW",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "tbh the book is never huge, it's probably like 10-ish and you get updates, it may even be worth trying insertion sorting, by reshuffling only those that are changed in an update.."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U01C12ZEADQ",
        "type": "message",
        "ts": "1605648872.145000",
        "client_msg_id": "7429ebcb-85fc-4be5-873c-0f85a3a0a0fc",
        "text": "given the implementatino of python sort it may be they already do insertion sort on small sized lists, so indeed not sure how much you can get there, if that's the case",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "e3b7687b0ef8",
            "image_72": "https:\/\/avatars.slack-edge.com\/2020-10-06\/1432945617648_e3b7687b0ef86e4f28b8_72.png",
            "first_name": "Alessio",
            "real_name": "Alessio",
            "display_name": "Alessio",
            "team": "T4G9NBD2M",
            "name": "alessio",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1605639252.135800",
        "parent_user_id": "U4H19D1D2",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "4oiL",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "given the implementatino of python sort it may be they already do insertion sort on small sized lists, so indeed not sure how much you can get there, if that's the case"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U01C12ZEADQ",
        "type": "message",
        "ts": "1605649411.145200",
        "client_msg_id": "6ee69331-05fe-44e5-a204-e07db165c2b5",
        "text": "i have a cvazy idea for serialization though.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "e3b7687b0ef8",
            "image_72": "https:\/\/avatars.slack-edge.com\/2020-10-06\/1432945617648_e3b7687b0ef86e4f28b8_72.png",
            "first_name": "Alessio",
            "real_name": "Alessio",
            "display_name": "Alessio",
            "team": "T4G9NBD2M",
            "name": "alessio",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1605639252.135800",
        "parent_user_id": "U4H19D1D2",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "P9xf6",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "i have a cvazy idea for serialization though."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U01C12ZEADQ",
        "type": "message",
        "ts": "1605649439.145400",
        "client_msg_id": "c6dcbe53-6cfb-44f8-9652-a834709af666",
        "text": "1. instead of { price, size } dict assume. for a second it's a list of pairs (price, size)",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "e3b7687b0ef8",
            "image_72": "https:\/\/avatars.slack-edge.com\/2020-10-06\/1432945617648_e3b7687b0ef86e4f28b8_72.png",
            "first_name": "Alessio",
            "real_name": "Alessio",
            "display_name": "Alessio",
            "team": "T4G9NBD2M",
            "name": "alessio",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1605639252.135800",
        "parent_user_id": "U4H19D1D2",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "uSBy",
                "elements": [
                    {
                        "type": "rich_text_list",
                        "elements": [
                            {
                                "type": "rich_text_section",
                                "elements": [
                                    {
                                        "type": "text",
                                        "text": "instead of { price, size } dict assume. for a second it's a list of pairs (price, size)"
                                    }
                                ]
                            }
                        ],
                        "style": "ordered",
                        "indent": 0
                    }
                ]
            }
        ]
    },
    {
        "user": "U01C12ZEADQ",
        "type": "message",
        "ts": "1605649466.145600",
        "client_msg_id": "69dbc2eb-4f3e-4abb-a39e-6f6fc189f8e7",
        "text": "2. keep &lt;2&gt; serializations around, one is published, one is not.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "e3b7687b0ef8",
            "image_72": "https:\/\/avatars.slack-edge.com\/2020-10-06\/1432945617648_e3b7687b0ef86e4f28b8_72.png",
            "first_name": "Alessio",
            "real_name": "Alessio",
            "display_name": "Alessio",
            "team": "T4G9NBD2M",
            "name": "alessio",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1605639252.135800",
        "parent_user_id": "U4H19D1D2",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "yHh",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "2. keep <2> serializations around, one is published, one is not."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U01C12ZEADQ",
        "type": "message",
        "ts": "1605649498.145800",
        "client_msg_id": "20d3945b-e158-435b-ae1c-d7c0d6454771",
        "text": "3. when you receive an update, take the unpublished one, apply the updates, and re-sort it",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "e3b7687b0ef8",
            "image_72": "https:\/\/avatars.slack-edge.com\/2020-10-06\/1432945617648_e3b7687b0ef86e4f28b8_72.png",
            "first_name": "Alessio",
            "real_name": "Alessio",
            "display_name": "Alessio",
            "team": "T4G9NBD2M",
            "name": "alessio",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1605639252.135800",
        "parent_user_id": "U4H19D1D2",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "MkIQN",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "3. when you receive an update, take the unpublished one, apply the updates, and re-sort it"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U01C12ZEADQ",
        "type": "message",
        "ts": "1605649505.146000",
        "client_msg_id": "36f8e698-a19f-4109-a9d0-c3b3a94a46c1",
        "text": "4. swap the published and unpublished (this is atomic)",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "e3b7687b0ef8",
            "image_72": "https:\/\/avatars.slack-edge.com\/2020-10-06\/1432945617648_e3b7687b0ef86e4f28b8_72.png",
            "first_name": "Alessio",
            "real_name": "Alessio",
            "display_name": "Alessio",
            "team": "T4G9NBD2M",
            "name": "alessio",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1605639252.135800",
        "parent_user_id": "U4H19D1D2",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "M2W",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "4. swap the published and unpublished (this is atomic)"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U01C12ZEADQ",
        "type": "message",
        "ts": "1605649519.146200",
        "edited": {
            "user": "U01C12ZEADQ",
            "ts": "1605649695.000000"
        },
        "client_msg_id": "89af6fe6-10cf-4629-b7cf-c503a0ce9dc7",
        "text": "5. apply the update to the unpublished one as well (which was the old one) so that next time you are ready to apply the new one, and it is always in sync.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "e3b7687b0ef8",
            "image_72": "https:\/\/avatars.slack-edge.com\/2020-10-06\/1432945617648_e3b7687b0ef86e4f28b8_72.png",
            "first_name": "Alessio",
            "real_name": "Alessio",
            "display_name": "Alessio",
            "team": "T4G9NBD2M",
            "name": "alessio",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1605639252.135800",
        "parent_user_id": "U4H19D1D2",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "v93OG",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "5. apply the update to the unpublished one as well (which was the old one) so that next time you are ready to apply the new one, and it is always in sync."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U01C12ZEADQ",
        "type": "message",
        "ts": "1605649540.146400",
        "client_msg_id": "ef226457-82c1-42fc-8422-0edab0ea6119",
        "text": "you pay double the price in sorting, but you don't go around building objects all the time, whcih is usually expensive because it requires allocating memory all the time",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "e3b7687b0ef8",
            "image_72": "https:\/\/avatars.slack-edge.com\/2020-10-06\/1432945617648_e3b7687b0ef86e4f28b8_72.png",
            "first_name": "Alessio",
            "real_name": "Alessio",
            "display_name": "Alessio",
            "team": "T4G9NBD2M",
            "name": "alessio",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1605639252.135800",
        "parent_user_id": "U4H19D1D2",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "cc\/",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "you pay double the price in sorting, but you don't go around building objects all the time, whcih is usually expensive because it requires allocating memory all the time"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U01C12ZEADQ",
        "type": "message",
        "ts": "1605649742.146800",
        "client_msg_id": "9ea0d1b5-5308-4d26-bcd4-7108f4e81bc1",
        "text": "although of course  the reader code needs to make a copy of it for the time they are processing it",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "e3b7687b0ef8",
            "image_72": "https:\/\/avatars.slack-edge.com\/2020-10-06\/1432945617648_e3b7687b0ef86e4f28b8_72.png",
            "first_name": "Alessio",
            "real_name": "Alessio",
            "display_name": "Alessio",
            "team": "T4G9NBD2M",
            "name": "alessio",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1605639252.135800",
        "parent_user_id": "U4H19D1D2",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "\/4rlX",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "although of course  the reader code needs to make a copy of it for the time they are processing it"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U016TGY3676",
        "type": "message",
        "ts": "1605655568.147100",
        "client_msg_id": "8938b70f-b04c-4066-b293-e0553ad24ad1",
        "text": "<@U0135SLHQBW>'s idea is the way to go. It takes me back to about 15 years ago when I was enumerating the ~134 million possible 7-card poker hands in a couple of seconds on a P4 with 1GB or 2GB of ram.\nThere is often a speed\/memory tradeoff, but for this case the memory required for a lookup table is minimal. When designing, bear in mind that sequential lookups are significantly faster than random lookups due to CPU L1\/L2 cache.\nI don't know how fast the cpython implementation is, but I would imagine that porting the `sort()` and `update()` functions to C would give a decent improvement, particularly the nested `for` loops? I'd also be looking at handling the price\/size\/etc as integers rather than floats\/decimals as they _generally_ (but not always) run faster, depending on the CPU instruction set.\n\nI'd also like to suggest using some bitwise lookups, but it's far too late to be thinking in binary. :grinning:",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g6a681220e11",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/6a681220e11c1a2ed3685375d658dadb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0001-72.png",
            "first_name": "",
            "real_name": "birchy",
            "display_name": "birchy",
            "team": "T4G9NBD2M",
            "name": "birchy",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1605639252.135800",
        "parent_user_id": "U4H19D1D2",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "G6G",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "user",
                                "user_id": "U0135SLHQBW"
                            },
                            {
                                "type": "text",
                                "text": "'s idea is the way to go. It takes me back to about 15 years ago when I was enumerating the ~134 million possible 7-card poker hands in a couple of seconds on a P4 with 1GB or 2GB of ram.\nThere is often a speed\/memory tradeoff, but for this case the memory required for a lookup table is minimal. When designing, bear in mind that sequential lookups are significantly faster than random lookups due to CPU L1\/L2 cache.\nI don't know how fast the cpython implementation is, but I would imagine that porting the "
                            },
                            {
                                "type": "text",
                                "text": "sort()",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " and "
                            },
                            {
                                "type": "text",
                                "text": "update()",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " functions to C would give a decent improvement, particularly the nested "
                            },
                            {
                                "type": "text",
                                "text": "for",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " loops? I'd also be looking at handling the price\/size\/etc as integers rather than floats\/decimals as they "
                            },
                            {
                                "type": "text",
                                "text": "generally",
                                "style": {
                                    "italic": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " (but not always) run faster, depending on the CPU instruction set.\n\nI'd also like to suggest using some bitwise lookups, but it's far too late to be thinking in binary. "
                            },
                            {
                                "type": "emoji",
                                "name": "grinning",
                                "unicode": "1f600"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UBS7QANF3",
        "type": "message",
        "ts": "1605683650.147500",
        "client_msg_id": "a8f30e1d-adb5-4973-bb53-11e6c03073be",
        "text": "PR for Available class ported to C: <https:\/\/github.com\/liampauling\/betfair\/pull\/357>",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gaaf844a4a90",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/eaaf844a4a905431d83430e563b077aa.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png",
            "first_name": "",
            "real_name": "Maurice Berk",
            "display_name": "Mo",
            "team": "T4G9NBD2M",
            "name": "maurice",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1605683650.147500",
        "reply_count": 4,
        "reply_users_count": 4,
        "latest_reply": "1605692557.148700",
        "reply_users": [
            "UPMUFSGCR",
            "UBS7QANF3",
            "UUCD6P13J",
            "U016TGY3676"
        ],
        "replies": [
            {
                "user": "UPMUFSGCR",
                "ts": "1605686962.147700"
            },
            {
                "user": "UBS7QANF3",
                "ts": "1605687011.147900"
            },
            {
                "user": "UUCD6P13J",
                "ts": "1605687489.148100"
            },
            {
                "user": "U016TGY3676",
                "ts": "1605692557.148700"
            }
        ],
        "is_locked": false,
        "subscribed": false,
        "attachments": [
            {
                "author_name": "mberk",
                "fallback": "[liampauling\/betfair] #357 Implement Available class in C",
                "text": "This is a straight up port of the Available class to C with no attempts made to optimise the design.\n\nI've tested that it produces an identical set of market books compared to the original Python code when reading one scraped Betfair prices file. It also (obviously) passes the tests.\n\nI've used valgrind to check for any memory leaks or other incorrect object reference counting.\n\nI still feel that the code would need to be tested much more comprehensively (i.e. on more price files across more machines) before it might be considered permanently replacing the Python implementation. An option could be that the user can choose whether to use this code at installation time e.g. `pip install betfairlightweight[c]`.",
                "title": "#357 Implement Available class in C",
                "footer": "<https:\/\/github.com\/liampauling\/betfair|liampauling\/betfair>",
                "id": 1,
                "title_link": "https:\/\/github.com\/liampauling\/betfair\/pull\/357",
                "author_link": "https:\/\/github.com\/mberk",
                "author_icon": "https:\/\/avatars0.githubusercontent.com\/u\/7500539?v=4",
                "footer_icon": "https:\/\/github.githubassets.com\/favicon.ico",
                "ts": 1605681988,
                "color": "36a64f",
                "fields": [
                    {
                        "title": "Comments",
                        "value": "1",
                        "short": true
                    }
                ],
                "mrkdwn_in": [
                    "text"
                ],
                "bot_id": "B01144Z0734",
                "app_unfurl_url": "https:\/\/github.com\/liampauling\/betfair\/pull\/357",
                "is_app_unfurl": true
            }
        ],
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "zQ+",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "PR for Available class ported to C: "
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/github.com\/liampauling\/betfair\/pull\/357"
                            }
                        ]
                    }
                ]
            }
        ]
    }
]