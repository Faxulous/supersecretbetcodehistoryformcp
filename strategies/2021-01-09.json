[
    {
        "subtype": "channel_join",
        "user": "U01J8RB03LM",
        "text": "<@U01J8RB03LM> has joined the channel",
        "type": "message",
        "ts": "1610201202.063000"
    },
    {
        "user": "U016TGY3676",
        "type": "message",
        "ts": "1610202013.071300",
        "client_msg_id": "0b4ae799-a078-4f33-8e6c-6db98526df2a",
        "text": "When calculating volume matched since last update, is it ok to use something like `vol=current_vol - previous_vol` and `price=LPT`, or is it safer to calculate from `EX_TRADED` due to possible conflation?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g6a681220e11",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/6a681220e11c1a2ed3685375d658dadb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0001-72.png",
            "first_name": "",
            "real_name": "birchy",
            "display_name": "birchy",
            "team": "T4G9NBD2M",
            "name": "birchy",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "5dLt",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "When calculating volume matched since last update, is it ok to use something like "
                            },
                            {
                                "type": "text",
                                "text": "vol=current_vol - previous_vol",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " and "
                            },
                            {
                                "type": "text",
                                "text": "price=LPT",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": ", or is it safer to calculate from "
                            },
                            {
                                "type": "text",
                                "text": "EX_TRADED",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " due to possible conflation?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U01C12ZEADQ",
        "type": "message",
        "ts": "1610204090.071500",
        "client_msg_id": "66d4b3da-aebd-4ccc-8406-a425a9dac166",
        "text": "I'd use price = midprice, but..",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "e3b7687b0ef8",
            "image_72": "https:\/\/avatars.slack-edge.com\/2020-10-06\/1432945617648_e3b7687b0ef86e4f28b8_72.png",
            "first_name": "Alessio",
            "real_name": "Alessio",
            "display_name": "Alessio",
            "team": "T4G9NBD2M",
            "name": "alessio",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "1iT",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I'd use price = midprice, but.."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U016TGY3676",
        "type": "message",
        "ts": "1610204906.075300",
        "client_msg_id": "91b3faa4-6b9d-40a9-9175-b07c8f3851d2",
        "text": "<@U01C12ZEADQ> I was referring to finding how much money was matched and at what price since the last update, i.e there was £59 matched at 2.5.\nI also use middle as a guide and sometimes a weighted middle price.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g6a681220e11",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/6a681220e11c1a2ed3685375d658dadb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0001-72.png",
            "first_name": "",
            "real_name": "birchy",
            "display_name": "birchy",
            "team": "T4G9NBD2M",
            "name": "birchy",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "60jp",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "user",
                                "user_id": "U01C12ZEADQ"
                            },
                            {
                                "type": "text",
                                "text": " I was referring to finding how much money was matched and at what price since the last update, i.e there was £59 matched at 2.5.\nI also use middle as a guide and sometimes a weighted middle price."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1610204992.076100",
        "client_msg_id": "9BE43729-0B2D-4E63-867E-83D1603CD8B3",
        "text": "Use the simulated middleware ",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "IMJ1v",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Use the simulated middleware "
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U016TGY3676",
        "type": "message",
        "ts": "1610205062.077300",
        "client_msg_id": "07ca0f50-4cd0-43cb-92d1-cb4695bd9270",
        "text": "<@U4H19D1D2> not looked at middleware yet. Examples?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g6a681220e11",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/6a681220e11c1a2ed3685375d658dadb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0001-72.png",
            "first_name": "",
            "real_name": "birchy",
            "display_name": "birchy",
            "team": "T4G9NBD2M",
            "name": "birchy",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "L0NqA",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "user",
                                "user_id": "U4H19D1D2"
                            },
                            {
                                "type": "text",
                                "text": " not looked at middleware yet. Examples?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U016TGY3676",
        "type": "message",
        "ts": "1610205144.078800",
        "edited": {
            "user": "U016TGY3676",
            "ts": "1610205156.000000"
        },
        "client_msg_id": "d091c904-6866-4c0e-a3b6-e8139a15fba8",
        "text": "Currently calculate in my own utils add-on in strategy, so maybe not efficient?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g6a681220e11",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/6a681220e11c1a2ed3685375d658dadb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0001-72.png",
            "first_name": "",
            "real_name": "birchy",
            "display_name": "birchy",
            "team": "T4G9NBD2M",
            "name": "birchy",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "8k1Y",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Currently calculate in my own utils add-on in strategy, so maybe not efficient?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1610205347.079700",
        "client_msg_id": "680D2086-CA60-442F-BEFD-4E2F4153C1C9",
        "text": "If used middleware then all your strategies can use it, simulated already has what you want <https:\/\/liampauling.github.io\/flumine\/markets\/#middleware|https:\/\/liampauling.github.io\/flumine\/markets\/#middleware>",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "attachments": [
            {
                "title": "Markets - flumine",
                "title_link": "https:\/\/liampauling.github.io\/flumine\/markets\/#middleware",
                "text": "Trading framework for Betfair API-NG.",
                "fallback": "Markets - flumine",
                "from_url": "https:\/\/liampauling.github.io\/flumine\/markets\/#middleware",
                "service_icon": "https:\/\/liampauling.github.io\/flumine\/assets\/images\/favicon.png",
                "service_name": "liampauling.github.io",
                "id": 1,
                "original_url": "https:\/\/liampauling.github.io\/flumine\/markets\/#middleware"
            }
        ],
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "n1EZ2",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "If used middleware then all your strategies can use it, simulated already has what you want "
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/liampauling.github.io\/flumine\/markets\/#middleware",
                                "text": "https:\/\/liampauling.github.io\/flumine\/markets\/#middleware"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1610205566.081600",
        "client_msg_id": "81B749B2-D6DA-47C1-AEAA-65A798727084",
        "text": "<https:\/\/github.com\/liampauling\/flumine\/blob\/707a81990d1c51d64e964c781c5e700fe58646de\/flumine\/baseflumine.py#L48|Here> you can see how it’s added, if you then debug on a market update and have a look at `market.context` you will see the simulated data which under runners? has what you are after and more ",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "attachments": [
            {
                "fallback": "[liampauling\/flumine] flumine\/baseflumine.py:48",
                "text": "```\n        # middleware\n```",
                "title": "flumine\/baseflumine.py:48",
                "footer": "<https:\/\/github.com\/liampauling\/flumine|liampauling\/flumine>",
                "id": 1,
                "title_link": "https:\/\/github.com\/liampauling\/flumine\/blob\/707a81990d1c51d64e964c781c5e700fe58646de\/flumine\/baseflumine.py#L48",
                "footer_icon": "https:\/\/github.githubassets.com\/favicon.ico",
                "color": "24292f",
                "mrkdwn_in": [
                    "text"
                ],
                "bot_id": "B01144Z0734",
                "app_unfurl_url": "https:\/\/github.com\/liampauling\/flumine\/blob\/707a81990d1c51d64e964c781c5e700fe58646de\/flumine\/baseflumine.py#L48",
                "is_app_unfurl": true
            }
        ],
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "nwVW",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "link",
                                "url": "https:\/\/github.com\/liampauling\/flumine\/blob\/707a81990d1c51d64e964c781c5e700fe58646de\/flumine\/baseflumine.py#L48",
                                "text": "Here"
                            },
                            {
                                "type": "text",
                                "text": " you can see how it’s added, if you then debug on a market update and have a look at "
                            },
                            {
                                "type": "text",
                                "text": "market.co",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "ntext",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " you will see the simulated data which under runners? has what you are after and more "
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U016TGY3676",
        "type": "message",
        "ts": "1610205785.083400",
        "client_msg_id": "8901a6d9-3c1e-45a5-a98b-74e1b09edb66",
        "text": "Thanks for the info. What's the advantage of middleware vs my own `from strategies import utils`?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g6a681220e11",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/6a681220e11c1a2ed3685375d658dadb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0001-72.png",
            "first_name": "",
            "real_name": "birchy",
            "display_name": "birchy",
            "team": "T4G9NBD2M",
            "name": "birchy",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "GUp",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Thanks for the info. What's the advantage of middleware vs my own "
                            },
                            {
                                "type": "text",
                                "text": "from strategies import utils",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U016TGY3676",
        "type": "message",
        "ts": "1610205931.086100",
        "client_msg_id": "b3cfbd75-1bad-4331-909a-80b435bb9f49",
        "text": "Reason I ask is because I presume middleware runs on every marketbook update, whereas my own utils only gets called when needed.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g6a681220e11",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/6a681220e11c1a2ed3685375d658dadb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0001-72.png",
            "first_name": "",
            "real_name": "birchy",
            "display_name": "birchy",
            "team": "T4G9NBD2M",
            "name": "birchy",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "md5u",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Reason I ask is because I presume middleware runs on every marketbook update, whereas my own utils only gets called when needed."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1610208597.088000",
        "client_msg_id": "2DC01060-CB1F-4402-8479-A87FACAE69D1",
        "text": "Yeah very dependant on your use case, if you have 50 strategies all working off the same analysis (like matched amount) use middleware if it’s the opposite use utils when required  ",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "L83Xh",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Yeah very dependant on your use case, if you have 50 strategies all working off the same analysis (like matched amount) use middleware if it’s the opposite use utils when required  "
                            }
                        ]
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "+1",
                "users": [
                    "U016TGY3676"
                ],
                "count": 1
            }
        ]
    }
]