[
    {
        "text": "I have a model and starting to use it in anger, out of interest is this the best way to be calling it in a production env, seems mega hacky..",
        "files": [
            {
                "id": "F067PHA7YKX",
                "mode": "hidden_by_limit"
            }
        ],
        "upload": false,
        "user": "U4H19D1D2",
        "display_as_bot": false,
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "muq18",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I have a model and starting to use it in anger, out of interest is this the best way to be calling it in a production env, seems mega hacky.."
                            }
                        ]
                    }
                ]
            }
        ],
        "type": "message",
        "ts": "1701247863.469699",
        "edited": {
            "user": "U4H19D1D2",
            "ts": "1701247928.000000"
        },
        "client_msg_id": "cc16f728-7c64-4931-ba11-d1ba1b680e2a",
        "thread_ts": "1701247863.469699",
        "reply_count": 15,
        "reply_users_count": 4,
        "latest_reply": "1701339945.914079",
        "reply_users": [
            "U02GGCCLTKM",
            "U4H19D1D2",
            "U030GKBMCBF",
            "UQL0QDEKA"
        ],
        "replies": [
            {
                "user": "U02GGCCLTKM",
                "ts": "1701248702.370529"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1701248906.586529"
            },
            {
                "user": "U02GGCCLTKM",
                "ts": "1701249172.208609"
            },
            {
                "user": "U02GGCCLTKM",
                "ts": "1701249220.682969"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1701249521.832299"
            },
            {
                "user": "U030GKBMCBF",
                "ts": "1701250045.450009"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1701250190.958499"
            },
            {
                "user": "U030GKBMCBF",
                "ts": "1701251139.627099"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1701251524.186129"
            },
            {
                "user": "UQL0QDEKA",
                "ts": "1701274280.028369"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1701275130.254999"
            },
            {
                "user": "UQL0QDEKA",
                "ts": "1701338698.296749"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1701338727.279649"
            },
            {
                "user": "UQL0QDEKA",
                "ts": "1701338801.717869"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1701339945.914079"
            }
        ],
        "is_locked": false,
        "subscribed": true,
        "last_read": "1701339945.914079"
    },
    {
        "user": "U02GGCCLTKM",
        "type": "message",
        "ts": "1701248702.370529",
        "client_msg_id": "D30DE1E7-D271-4F31-9779-9E72382F4C54",
        "text": "it does seem like there’s a lot happening there… normally would just look like self.rfc.predict(new_data). Is rfc something other than an sklearn-type object? ",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "ge8c986b4886",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/e8c986b48866eae41e70e68deddde864.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png",
            "first_name": "John",
            "real_name": "John Foley",
            "display_name": "John Foley",
            "team": "T4G9NBD2M",
            "name": "johnf1004",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1701247863.469699",
        "parent_user_id": "U4H19D1D2",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "0aahz",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "it does seem like there’s a lot happening there… normally would just look like self.rfc.predict(new_data). Is rfc something other than an sklearn-type object? "
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1701248906.586529",
        "client_msg_id": "41754117-4a26-4775-8165-3e78a23d5132",
        "text": "Its an xgb model, I have used the xgboost library rather than sklearn as I found it to be considerably faster, hence the matrix conversion",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1701247863.469699",
        "parent_user_id": "U4H19D1D2",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Q85cY",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Its an xgb model, I have used the xgboost library rather than sklearn as I found it to be considerably faster, hence the matrix conversion"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U02GGCCLTKM",
        "type": "message",
        "ts": "1701249172.208609",
        "client_msg_id": "DEB3D9C8-5A5F-4416-BE5A-8E2E29963446",
        "text": "newer versions of that should definitely accept pandas and other objects without needing to convert. You using an older version maybe? ",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "ge8c986b4886",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/e8c986b48866eae41e70e68deddde864.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png",
            "first_name": "John",
            "real_name": "John Foley",
            "display_name": "John Foley",
            "team": "T4G9NBD2M",
            "name": "johnf1004",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1701247863.469699",
        "parent_user_id": "U4H19D1D2",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "KQI+y",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "newer versions of that should definitely accept pandas and other objects without needing to convert. You using an older version maybe? "
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U02GGCCLTKM",
        "type": "message",
        "ts": "1701249220.682969",
        "client_msg_id": "C85E8C46-4411-410A-B4D1-E6C8D0758D44",
        "text": "in more recent versions of xgboost they made the api very sklearny ",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "ge8c986b4886",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/e8c986b48866eae41e70e68deddde864.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png",
            "first_name": "John",
            "real_name": "John Foley",
            "display_name": "John Foley",
            "team": "T4G9NBD2M",
            "name": "johnf1004",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1701247863.469699",
        "parent_user_id": "U4H19D1D2",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "rWiQy",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "in more recent versions of xgboost they made the api very sklearny "
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1701249521.832299",
        "client_msg_id": "c09b770f-34c9-4310-9675-18dc5d70be7e",
        "text": "I am using 1.7.6 which might be why, this world moves too quick for me",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1701247863.469699",
        "parent_user_id": "U4H19D1D2",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "po7hB",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I am using 1.7.6 which might be why, this world moves too quick for me"
                            }
                        ]
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "joy",
                "users": [
                    "U02GGCCLTKM"
                ],
                "count": 1
            }
        ]
    },
    {
        "user": "U030GKBMCBF",
        "type": "message",
        "ts": "1701250045.450009",
        "client_msg_id": "95B2FFBC-570E-428E-98C5-16F26D4D9F3B",
        "text": "I'm surprised you need to convert to Dmatrix for inference, but haven't used xgboost in a while. Doesn't look hugely otherwise though   ",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "c8efe9a619a7",
            "image_72": "https:\/\/avatars.slack-edge.com\/2022-01-27\/3012906420054_c8efe9a619a784f8fc22_72.png",
            "first_name": "Leo",
            "real_name": "Leo",
            "display_name": "Leo",
            "team": "T4G9NBD2M",
            "name": "leomccarthy709",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1701247863.469699",
        "parent_user_id": "U4H19D1D2",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "49SeW",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I'm surprised you need to convert to Dmatrix for inference, but haven't used xgboost in a while. Doesn't look hugely otherwise though   "
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1701250190.958499",
        "edited": {
            "user": "U4H19D1D2",
            "ts": "1701250205.000000"
        },
        "client_msg_id": "750655c1-bfae-41bc-ba4b-150a78af17d4",
        "text": "It seems that what you put in to train it wants when you predict (which makes sense), as far as I could work out when training it wanted something like this:\n\n```dtrain = xgb.DMatrix(X_train.values, label=y_train.values)\ndtest  = xgb.DMatrix(X_test.values, label=y_test.values)\n\n# xgboost\nparam = {\n    'objective': 'reg:squarederror'\n}\nn_estimators = 100\nreg = xgb.train(param, dtrain, n_estimators, evals=[(dtest, 'eval'), (dtrain, 'train')], verbose_eval=False)\n\ny_pred = reg.predict(dtest)```",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1701247863.469699",
        "parent_user_id": "U4H19D1D2",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "t7o\/e",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "It seems that what you put in to train it wants when you predict (which makes sense), as far as I could work out when training it wanted something like this:\n\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "dtrain = xgb.DMatrix(X_train.values, label=y_train.values)\ndtest  = xgb.DMatrix(X_test.values, label=y_test.values)\n\n# xgboost\nparam = {\n    'objective': 'reg:squarederror'\n}\nn_estimators = 100\nreg = xgb.train(param, dtrain, n_estimators, evals=[(dtest, 'eval'), (dtrain, 'train')], verbose_eval=False)\n\ny_pred = reg.predict(dtest)"
                            }
                        ],
                        "border": 0
                    }
                ]
            }
        ]
    },
    {
        "user": "U030GKBMCBF",
        "type": "message",
        "ts": "1701251139.627099",
        "client_msg_id": "8F83B051-54DC-4C52-BDD6-69B363D22AEB",
        "text": "No it make sense, I'm just used to lightgbm which takes care of that for you. Also what is it returning if not a float? ",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "c8efe9a619a7",
            "image_72": "https:\/\/avatars.slack-edge.com\/2022-01-27\/3012906420054_c8efe9a619a784f8fc22_72.png",
            "first_name": "Leo",
            "real_name": "Leo",
            "display_name": "Leo",
            "team": "T4G9NBD2M",
            "name": "leomccarthy709",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1701247863.469699",
        "parent_user_id": "U4H19D1D2",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "E78nU",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "No it make sense, I'm just used to lightgbm which takes care of that for you. Also what is it returning if not a float? "
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1701251524.186129",
        "client_msg_id": "ce6eaee8-bb97-4523-9738-e7b307f14df0",
        "text": "`numpy.float64` converting to keep things simple",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1701247863.469699",
        "parent_user_id": "U4H19D1D2",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "9FeSF",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "numpy.float64",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " converting to keep things simple"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UQL0QDEKA",
        "type": "message",
        "ts": "1701274280.028369",
        "client_msg_id": "6727B2CC-E28C-405C-AF6A-373FB2B70AB1",
        "text": "Looks like today would have been a good day to use something in anger Liam :smile: hope it pays dividends for you :+1: ",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g444d10128c0",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/444d10128c0aaf094041a52a76796602.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png",
            "first_name": "Peter",
            "real_name": "Peter Lenagh",
            "display_name": "PeterLe",
            "team": "T4G9NBD2M",
            "name": "lenagh",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1701247863.469699",
        "parent_user_id": "U4H19D1D2",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "foOL9",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Looks like today would have been a good day to use something in anger Liam "
                            },
                            {
                                "type": "emoji",
                                "name": "smile",
                                "unicode": "1f604"
                            },
                            {
                                "type": "text",
                                "text": " hope it pays dividends for you "
                            },
                            {
                                "type": "emoji",
                                "name": "+1",
                                "unicode": "1f44d"
                            },
                            {
                                "type": "text",
                                "text": " "
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1701275130.254999",
        "client_msg_id": "14d24d35-9c79-4ecf-81be-fceed4bbaa17",
        "text": "Time will tell, simply getting stuck in has been the value so far",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1701247863.469699",
        "parent_user_id": "U4H19D1D2",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "9rQVE",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Time will tell, simply getting stuck in has been the value so far"
                            }
                        ]
                    }
                ]
            }
        ]
    }
]