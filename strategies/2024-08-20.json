[
    {
        "user": "U07CNT9382G",
        "type": "message",
        "ts": "1724137573.913429",
        "client_msg_id": "0C158C6A-3F9D-4D52-AC39-6AD6FDB61062",
        "text": "Idk like for example in that start function I want to read in the current market_id in a similar way to calling market_book.market_id if that makes sense",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "22f746d239db",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-07-16\/7428447356242_22f746d239dbca4959b2_72.png",
            "first_name": "Aryan",
            "real_name": "Aryan Kapoor",
            "display_name": "Aryan Kapoor",
            "team": "T4G9NBD2M",
            "name": "aryanvkapoor",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1724109522.630219",
        "parent_user_id": "U07CNT9382G",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Grj8s",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Idk like for example in that start function I want to read in the current market_id in a similar way to calling market_book.market_id if that makes sense"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1724138369.967469",
        "client_msg_id": "1cafc998-1ec6-4686-813f-4527aac95b60",
        "text": "Sorry I don't understand, you can see all the strategy functions <https:\/\/github.com\/betcode-org\/flumine\/blob\/0241aca36f751bf1e35c5f8d7242735d2f1a5687\/flumine\/strategy\/strategy.py#L91|here>",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1724109522.630219",
        "parent_user_id": "U07CNT9382G",
        "attachments": [
            {
                "id": 1,
                "footer_icon": "https:\/\/slack.github.com\/static\/img\/favicon-neutral.png",
                "color": "24292f",
                "bot_id": "B021ZJYSBMW",
                "app_unfurl_url": "https:\/\/github.com\/betcode-org\/flumine\/blob\/0241aca36f751bf1e35c5f8d7242735d2f1a5687\/flumine\/strategy\/strategy.py#L91",
                "is_app_unfurl": true,
                "app_id": "A01BP7R4KNY",
                "fallback": "<https:\/\/github.com\/betcode-org\/flumine\/blob\/0241aca36f751bf1e35c5f8d7242735d2f1a5687\/flumine\/strategy\/strategy.py | strategy.py>",
                "text": "```\n    def add(self, flumine) -> None:\n```",
                "title": "<https:\/\/github.com\/betcode-org\/flumine\/blob\/0241aca36f751bf1e35c5f8d7242735d2f1a5687\/flumine\/strategy\/strategy.py | strategy.py>",
                "footer": "<https:\/\/github.com\/betcode-org\/flumine|betcode-org\/flumine>",
                "mrkdwn_in": [
                    "text"
                ]
            }
        ],
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "NA2+r",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Sorry I don't understand, you can see all the strategy functions "
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/github.com\/betcode-org\/flumine\/blob\/0241aca36f751bf1e35c5f8d7242735d2f1a5687\/flumine\/strategy\/strategy.py#L91",
                                "text": "here"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U07CNT9382G",
        "type": "message",
        "ts": "1724140437.904799",
        "client_msg_id": "0f9e528b-4b11-41bf-9589-a6f90050586a",
        "text": "Sorry will just try and frame it in one more way cause I'm trying to do something a bit different",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "22f746d239db",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-07-16\/7428447356242_22f746d239dbca4959b2_72.png",
            "first_name": "Aryan",
            "real_name": "Aryan Kapoor",
            "display_name": "Aryan Kapoor",
            "team": "T4G9NBD2M",
            "name": "aryanvkapoor",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1724109522.630219",
        "parent_user_id": "U07CNT9382G",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Eh4f2",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Sorry will just try and frame it in one more way cause I'm trying to do something a bit different"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U07CNT9382G",
        "type": "message",
        "ts": "1724140451.350839",
        "client_msg_id": "106f70df-b514-4317-b7d4-3fe803d156b3",
        "text": "Is there a way for me to do something like print(market_id) within the start function",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "22f746d239db",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-07-16\/7428447356242_22f746d239dbca4959b2_72.png",
            "first_name": "Aryan",
            "real_name": "Aryan Kapoor",
            "display_name": "Aryan Kapoor",
            "team": "T4G9NBD2M",
            "name": "aryanvkapoor",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1724109522.630219",
        "parent_user_id": "U07CNT9382G",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "eZWnZ",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Is there a way for me to do something like print(market_id) within the start function"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1724140571.110329",
        "client_msg_id": "3da20a0a-7ce3-40f7-af9a-fed953de9cdd",
        "text": "the start function is when the strategy starts at runtime, `process_new_market` is when a market gets added to the stream, is that what you want?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1724109522.630219",
        "parent_user_id": "U07CNT9382G",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "\/9sid",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "the start function is when the strategy starts at runtime, "
                            },
                            {
                                "type": "text",
                                "text": "process_new_market",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " is when a market gets added to the stream, is that what you want?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U03QLPZQBLM",
        "type": "message",
        "ts": "1724165447.209759",
        "client_msg_id": "2c295162-d6d3-4079-8ab8-9f0f41e43d95",
        "text": "Anyone know why I would get an error like `\"error_code\": \"INVALID_MIN_FILL_SIZE\"` with this order?\n\n:thread:",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gee4caf4e81f",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/ee4caf4e81ff96058a7d4a3efdf1a260.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png",
            "first_name": "Johnny",
            "real_name": "Johnny Boston",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "mike.breen.bbb",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1724165447.209759",
        "reply_count": 3,
        "reply_users_count": 2,
        "latest_reply": "1724165821.621999",
        "reply_users": [
            "U03QLPZQBLM",
            "U01DCR5PXDY"
        ],
        "replies": [
            {
                "user": "U03QLPZQBLM",
                "ts": "1724165490.795459"
            },
            {
                "user": "U01DCR5PXDY",
                "ts": "1724165758.175509"
            },
            {
                "user": "U03QLPZQBLM",
                "ts": "1724165821.621999"
            }
        ],
        "is_locked": false,
        "subscribed": false,
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "EV1am",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Anyone know why I would get an error like "
                            },
                            {
                                "type": "text",
                                "text": "\"error_code\": \"INVALID_MIN_FILL_SIZE\"",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " with this order?\n\n"
                            },
                            {
                                "type": "emoji",
                                "name": "thread",
                                "unicode": "1f9f5"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U03QLPZQBLM",
        "type": "message",
        "ts": "1724165490.795459",
        "client_msg_id": "7a673467-ebdb-486c-b73a-7da7f5e832c7",
        "text": "``` \"status\": \"FAILURE\", \"errorCode\": \"BET_ACTION_ERROR\", \"marketId\": \"1.231956835\", \"instructionReports\": [{\"status\": \"FAILURE\", \"errorCode\": \"INVALID_MIN_FILL_SIZE\", \"instruction\": {\"selectionId\": 71661945, \"handicap\": 0.0, \"limitOrder\": {\"size\": 0.55, \"price\": 8.4, \"minFillSize\": 1.35, \"timeInForce\": \"FILL_OR_KILL\"}, \"customerOrderRef\": \"43da61bd07abd-139434572457729620\", \"orderType\": \"LIMIT\", \"side\": \"LAY\"}}]}, \"order_package\": {\"id\": \"37bb203a-0748-4c5d-9931-442a5c2880fd\", \"client\": \"&lt;flumine.clients.betfairclient.BetfairClient object at 0x7f64af923b90&gt;\", \"market_id\": \"1.231956835\", \"orders\": [\"139434572457729620\"], \"order_count\": 1, \"package_type\": \"Place\", \"customer_strategy_ref\": \"<http:\/\/ip-10-2-8-71.eu|ip-10-2-8-71.eu>\", \"bet_delay\": 0, \"market_version\": null, \"retry\": true, \"retry_count\": 0, \"async\": true}}```",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gee4caf4e81f",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/ee4caf4e81ff96058a7d4a3efdf1a260.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png",
            "first_name": "Johnny",
            "real_name": "Johnny Boston",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "mike.breen.bbb",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1724165447.209759",
        "parent_user_id": "U03QLPZQBLM",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "sd42Q",
                "elements": [
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": " \"status\": \"FAILURE\", \"errorCode\": \"BET_ACTION_ERROR\", \"marketId\": \"1.231956835\", \"instructionReports\": [{\"status\": \"FAILURE\", \"errorCode\": \"INVALID_MIN_FILL_SIZE\", \"instruction\": {\"selectionId\": 71661945, \"handicap\": 0.0, \"limitOrder\": {\"size\": 0.55, \"price\": 8.4, \"minFillSize\": 1.35, \"timeInForce\": \"FILL_OR_KILL\"}, \"customerOrderRef\": \"43da61bd07abd-139434572457729620\", \"orderType\": \"LIMIT\", \"side\": \"LAY\"}}]}, \"order_package\": {\"id\": \"37bb203a-0748-4c5d-9931-442a5c2880fd\", \"client\": \"<flumine.clients.betfairclient.BetfairClient object at 0x7f64af923b90>\", \"market_id\": \"1.231956835\", \"orders\": [\"139434572457729620\"], \"order_count\": 1, \"package_type\": \"Place\", \"customer_strategy_ref\": \"ip-10-2-8-71.eu\", \"bet_delay\": 0, \"market_version\": null, \"retry\": true, \"retry_count\": 0, \"async\": true}}"
                            }
                        ],
                        "border": 0
                    }
                ]
            }
        ]
    },
    {
        "user": "U01DCR5PXDY",
        "type": "message",
        "ts": "1724165758.175509",
        "client_msg_id": "eb7cff92-a57e-4b8e-b880-7687ca2095fb",
        "text": "Per the documentation, INVALID_MIN_FILL_SIZE: \"The minFillSize must be greater than zero and less than or equal to the order's size. The minFillSize cannot be less than the minimum bet size for your currency\"",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "903bc20cd9db",
            "image_72": "https:\/\/avatars.slack-edge.com\/2020-10-26\/1448127317798_903bc20cd9dba9a758e0_72.png",
            "first_name": "thambie1",
            "real_name": "thambie1",
            "display_name": "thambie1",
            "team": "T4G9NBD2M",
            "name": "thambie1",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1724165447.209759",
        "parent_user_id": "U03QLPZQBLM",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "T0D8B",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Per the documentation, INVALID_MIN_FILL_SIZE: \"The minFillSize must be greater than zero and less than or equal to the order's size. The minFillSize cannot be less than the minimum bet size for your currency\""
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U03QLPZQBLM",
        "type": "message",
        "ts": "1724165821.621999",
        "client_msg_id": "b30b9305-f69e-4852-a1d9-d64815660d39",
        "text": "ahh thank you, I didnt realise i needed to handle this logic on my end!",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gee4caf4e81f",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/ee4caf4e81ff96058a7d4a3efdf1a260.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png",
            "first_name": "Johnny",
            "real_name": "Johnny Boston",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "mike.breen.bbb",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1724165447.209759",
        "parent_user_id": "U03QLPZQBLM",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "LCbtJ",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "ahh thank you, I didnt realise i needed to handle this logic on my end!"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U07CNT9382G",
        "type": "message",
        "ts": "1724206568.414409",
        "client_msg_id": "9b205930-43bb-4d46-ab38-3c13bf91b913",
        "text": "Understand that. For clarity, i'm trying to now create csvs based on the market_id but don't want to do it in something like process_new_market as this is called several times",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "22f746d239db",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-07-16\/7428447356242_22f746d239dbca4959b2_72.png",
            "first_name": "Aryan",
            "real_name": "Aryan Kapoor",
            "display_name": "Aryan Kapoor",
            "team": "T4G9NBD2M",
            "name": "aryanvkapoor",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1724109522.630219",
        "parent_user_id": "U07CNT9382G",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "vq3ZB",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Understand that. For clarity, i'm trying to now create csvs based on the market_id but don't want to do it in something like process_new_market as this is called several times"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U07CNT9382G",
        "type": "message",
        "ts": "1724206582.712599",
        "client_msg_id": "35c3271a-f547-4185-86d5-56d408215e39",
        "text": "I guess i could do it in check_market_book ?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "22f746d239db",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-07-16\/7428447356242_22f746d239dbca4959b2_72.png",
            "first_name": "Aryan",
            "real_name": "Aryan Kapoor",
            "display_name": "Aryan Kapoor",
            "team": "T4G9NBD2M",
            "name": "aryanvkapoor",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1724109522.630219",
        "parent_user_id": "U07CNT9382G",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "aBA5b",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I guess i could do it in check_market_book ?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U07CNT9382G",
        "type": "message",
        "ts": "1724207098.463309",
        "client_msg_id": "f1f0c5a8-538a-40e5-beaa-6a8ff4e1012f",
        "text": "But even check_market_book gets called multiple times",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "22f746d239db",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-07-16\/7428447356242_22f746d239dbca4959b2_72.png",
            "first_name": "Aryan",
            "real_name": "Aryan Kapoor",
            "display_name": "Aryan Kapoor",
            "team": "T4G9NBD2M",
            "name": "aryanvkapoor",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1724109522.630219",
        "parent_user_id": "U07CNT9382G",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "BVe8y",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "But even check_market_book gets called multiple times"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U04NWADNCFR",
        "type": "message",
        "ts": "1724222827.031139",
        "client_msg_id": "8326b249-670f-43c8-8ae6-2dfc35ff34ff",
        "text": "process_new_market gets called once per market, check_market_book gets called once per update within a market. Lots of us here create CSVs from the data so it might be worth you exploring the Flumine examples rather than 'doing something a bit different'. With streaming data it might be more appropriate to write everything to the same csv with market_id as a field, and then later on split the file into one per market, if that is a key requirement for you.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g3c4e33a28db",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/3c4e33a28dbfc1fe70799f8e243bf305.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png",
            "first_name": "Derek",
            "real_name": "Derek C",
            "display_name": "Derek C",
            "team": "T4G9NBD2M",
            "name": "dataexmachinazzzzz",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1724109522.630219",
        "parent_user_id": "U07CNT9382G",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "WfRY6",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "process_new_market gets called once per market, check_market_book gets called once per update within a market. Lots of us here create CSVs from the data so it might be worth you exploring the Flumine examples rather than 'doing something a bit different'. With streaming data it might be more appropriate to write everything to the same csv with market_id as a field, and then later on split the file into one per market, if that is a key requirement for you."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U07CNT9382G",
        "type": "message",
        "ts": "1724222976.627349",
        "client_msg_id": "2acdaba0-39c5-4ed3-84c0-56e9a66986b4",
        "text": "my bad read that wrong process_new_market may be what im after. and agree with your other point i was just running into issues specifically with backtesting because it seems that multi threading messes up how csvs are written and not all the data is getting read in properly",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "22f746d239db",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-07-16\/7428447356242_22f746d239dbca4959b2_72.png",
            "first_name": "Aryan",
            "real_name": "Aryan Kapoor",
            "display_name": "Aryan Kapoor",
            "team": "T4G9NBD2M",
            "name": "aryanvkapoor",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1724109522.630219",
        "parent_user_id": "U07CNT9382G",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "QijNc",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "my bad read that wrong process_new_market may be what im after. and agree with your other point i was just running into issues specifically with backtesting because it seems that multi threading messes up how csvs are written and not all the data is getting read in properly"
                            }
                        ]
                    }
                ]
            }
        ]
    }
]