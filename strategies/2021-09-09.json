[
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1631170945.114600",
        "edited": {
            "user": "U4H19D1D2",
            "ts": "1631171036.000000"
        },
        "client_msg_id": "2dc48144-7f57-4878-b02d-844ae678f0e4",
        "text": "Just looking at this again the market object doesn't contain the definition (it would be `market.market_book.market_definition` or `market_book.market_definition`) however this should also be in the `check_market_book` as best practice:\n\n```    def check_market_book(self, market, market_book):\n        if market_book.market_definition.race_type == \"Hurdle\":\n            return False\n        else:\n            return True```\nor there is even a property available (which I use a lot):\n\n```    def check_market_book(self, market, market_book):\n        if market.race_type == \"Hurdle\":\n            return False\n        else:\n            return True```\n",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1631132942.113300",
        "parent_user_id": "U01SCPDTV5J",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Gc2Q",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Just looking at this again the market object doesn't contain the definition (it would be "
                            },
                            {
                                "type": "text",
                                "text": "market.market_book.market_definition",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " or "
                            },
                            {
                                "type": "text",
                                "text": "market_book.market_definition",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": ") however this should also be in the "
                            },
                            {
                                "type": "text",
                                "text": "check_market_book",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " as best practice:\n\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "    def check_market_book(self, market, market_book):\n        if market_book.market_definition.race_type == \"Hurdle\":\n            return False\n        else:\n            return True"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "\nor there is even a property available (which I use a lot):\n\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "    def check_market_book(self, market, market_book):\n        if market.race_type == \"Hurdle\":\n            return False\n        else:\n            return True"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_section",
                        "elements": []
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "raised_hands",
                "users": [
                    "U01SCPDTV5J"
                ],
                "count": 1
            }
        ]
    },
    {
        "user": "U01SCPDTV5J",
        "type": "message",
        "ts": "1631215308.115200",
        "client_msg_id": "3da0a15f-4436-459d-a670-a3d6044a723d",
        "text": "Thanks <@U4H19D1D2> - error was `'Market' object has no attribute 'market_definition'` which of course makes sense given your reply.\nThe reason I went with `market.market_definition.race_type == \"Hurdle\"` is because it works in my logging controller I use that under `_process_closed_market()`  so I thought it was part of the market object during the race.\nCertainly also makes sense for this to be in `check_market_book` !",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "4db627cf9e3e",
            "image_72": "https:\/\/avatars.slack-edge.com\/2021-09-07\/2464604515811_4db627cf9e3ea5713217_72.jpg",
            "first_name": "Jack",
            "real_name": "Jack Rickards",
            "display_name": "Jack",
            "team": "T4G9NBD2M",
            "name": "jack.rickards",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1631132942.113300",
        "parent_user_id": "U01SCPDTV5J",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "fHw",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Thanks "
                            },
                            {
                                "type": "user",
                                "user_id": "U4H19D1D2"
                            },
                            {
                                "type": "text",
                                "text": " - error was "
                            },
                            {
                                "type": "text",
                                "text": "'Market' object has no attribute 'market_definition'",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " which of course makes sense given your reply.\nThe reason I went with "
                            },
                            {
                                "type": "text",
                                "text": "market.market_definition.race_type == \"Hurdle\"",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " is because it works in my logging controller I use that under "
                            },
                            {
                                "type": "text",
                                "text": "_process_closed_market()",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "  so I thought it was part of the market object during the race.\nCertainly also makes sense for this to be in "
                            },
                            {
                                "type": "text",
                                "text": "check_market_book",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " !"
                            }
                        ]
                    }
                ]
            }
        ]
    }
]