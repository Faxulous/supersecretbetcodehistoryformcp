[
    {
        "user": "U04AD6RAGGH",
        "type": "message",
        "ts": "1688473398.729959",
        "edited": {
            "user": "U04AD6RAGGH",
            "ts": "1688473427.000000"
        },
        "client_msg_id": "3472c8f5-5b5e-4637-844a-d23110fc085c",
        "text": "general question on using flumine with multiple strategies: is there a convenient way to plot the returns for each strategy separately rather than just using something like (pseudo code)\n\n`for market in framework.markets:`\n`... aggregate returns`\n`plot`",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "2f5fccb5d023",
            "image_72": "https:\/\/avatars.slack-edge.com\/2022-11-08\/4353229497089_2f5fccb5d0233ef1b00d_72.jpg",
            "first_name": "Rory",
            "real_name": "Rory",
            "display_name": "R",
            "team": "T4G9NBD2M",
            "name": "rorytyrrell2",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1688473398.729959",
        "reply_count": 13,
        "reply_users_count": 6,
        "latest_reply": "1688640026.868279",
        "reply_users": [
            "U04AD6RAGGH",
            "U4H19D1D2",
            "U9JHLMZB4",
            "U02RN7YDRQ9",
            "UCQB6S222",
            "U02GGCCLTKM"
        ],
        "replies": [
            {
                "user": "U04AD6RAGGH",
                "ts": "1688473627.340739"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1688473779.756919"
            },
            {
                "user": "U04AD6RAGGH",
                "ts": "1688474383.680259"
            },
            {
                "user": "U9JHLMZB4",
                "ts": "1688476008.921139"
            },
            {
                "user": "U04AD6RAGGH",
                "ts": "1688476171.664209"
            },
            {
                "user": "U02RN7YDRQ9",
                "ts": "1688484088.888589"
            },
            {
                "user": "UCQB6S222",
                "ts": "1688569552.390569"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1688582080.915309"
            },
            {
                "user": "U02GGCCLTKM",
                "ts": "1688634684.646209"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1688639075.884809"
            },
            {
                "user": "U02GGCCLTKM",
                "ts": "1688639435.296549"
            },
            {
                "user": "U02GGCCLTKM",
                "ts": "1688639505.096139"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1688640026.868279"
            }
        ],
        "is_locked": false,
        "subscribed": true,
        "last_read": "1688640026.868279",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "pCuA7",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "general question on using flumine with multiple strategies: is there a convenient way to plot the returns for each strategy separately rather than just using something like (pseudo code)\n\n"
                            },
                            {
                                "type": "text",
                                "text": "for market in framework.markets:",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n"
                            },
                            {
                                "type": "text",
                                "text": "... aggregate returns",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n"
                            },
                            {
                                "type": "text",
                                "text": "plot",
                                "style": {
                                    "code": true
                                }
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U04AD6RAGGH",
        "type": "message",
        "ts": "1688473627.340739",
        "client_msg_id": "0b53e979-4a53-4c5e-aa22-40bca6e17596",
        "text": "reason i'm asking is I want to use flumine to simulate inside of a monte carlo tester I have built.\n\nSo I was hoping to effectively add a strategy for each MC run, and then access the returns of each strategy separately so I can compute statistics",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "2f5fccb5d023",
            "image_72": "https:\/\/avatars.slack-edge.com\/2022-11-08\/4353229497089_2f5fccb5d0233ef1b00d_72.jpg",
            "first_name": "Rory",
            "real_name": "Rory",
            "display_name": "R",
            "team": "T4G9NBD2M",
            "name": "rorytyrrell2",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1688473398.729959",
        "parent_user_id": "U04AD6RAGGH",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "5C=K",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "reason i'm asking is I want to use flumine to simulate inside of a monte carlo tester I have built.\n\nSo I was hoping to effectively add a strategy for each MC run, and then access the returns of each strategy separately so I can compute statistics"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1688473779.756919",
        "client_msg_id": "28572686-9F32-44D7-AB61-1601671D1286",
        "text": "Logging control ",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1688473398.729959",
        "parent_user_id": "U04AD6RAGGH",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "9o4z",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Logging control "
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U04AD6RAGGH",
        "type": "message",
        "ts": "1688474383.680259",
        "client_msg_id": "47df5e1f-67b2-4118-a811-ce774c49cb24",
        "text": "gotcha, so I need to add a control and log out the strategies as they run.  Then compile the results afterwards?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "2f5fccb5d023",
            "image_72": "https:\/\/avatars.slack-edge.com\/2022-11-08\/4353229497089_2f5fccb5d0233ef1b00d_72.jpg",
            "first_name": "Rory",
            "real_name": "Rory",
            "display_name": "R",
            "team": "T4G9NBD2M",
            "name": "rorytyrrell2",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1688473398.729959",
        "parent_user_id": "U04AD6RAGGH",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "DeLAn",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "gotcha, so I need to add a control and log out the strategies as they run.  Then compile the results afterwards?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U9JHLMZB4",
        "type": "message",
        "ts": "1688476008.921139",
        "client_msg_id": "fdcfb773-0ee7-4a18-a93a-bad4a6219a1c",
        "text": "Logging control gives you hooks to access the data as it becomes available. What you do with it, e.g. write to a file, persist it to a database, stream to another app, etc. is up to you. So it's perfectly feasible to consume and plot it in real-time, or to store it for analysis later.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g951ddcb43e7",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/3951ddcb43e788a387d6daf330dad5ca.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png",
            "first_name": "",
            "real_name": "Peter Coles",
            "display_name": "Peter",
            "team": "T4G9NBD2M",
            "name": "peter",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1688473398.729959",
        "parent_user_id": "U04AD6RAGGH",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "ET4UV",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Logging control gives you hooks to access the data as it becomes available. What you do with it, e.g. write to a file, persist it to a database, stream to another app, etc. is up to you. So it's perfectly feasible to consume and plot it in real-time, or to store it for analysis later."
                            }
                        ]
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "+1",
                "users": [
                    "U042NB80A1X"
                ],
                "count": 1
            }
        ]
    },
    {
        "user": "U04AD6RAGGH",
        "type": "message",
        "ts": "1688476171.664209",
        "client_msg_id": "6f4e60e9-d61a-4290-a120-b5ca438d3526",
        "text": "nice, thanks guys.  I'll dig into understanding the control classes now.  Slowly internalizing the philosophy of flumine.\n\nmuch appreciated to you both!",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "2f5fccb5d023",
            "image_72": "https:\/\/avatars.slack-edge.com\/2022-11-08\/4353229497089_2f5fccb5d0233ef1b00d_72.jpg",
            "first_name": "Rory",
            "real_name": "Rory",
            "display_name": "R",
            "team": "T4G9NBD2M",
            "name": "rorytyrrell2",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1688473398.729959",
        "parent_user_id": "U04AD6RAGGH",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "QBBM",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "nice, thanks guys.  I'll dig into understanding the control classes now.  Slowly internalizing the philosophy of flumine.\n\nmuch appreciated to you both!"
                            }
                        ]
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "+1",
                "users": [
                    "U4H19D1D2"
                ],
                "count": 1
            }
        ]
    },
    {
        "user": "UCQB6S222",
        "type": "message",
        "ts": "1688483449.326299",
        "client_msg_id": "2ae73116-c70d-4dce-90d2-0db72735401b",
        "text": "if `process_market_book` can take up to 20ms, is that slow enough to cause 'problems'?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g953ffd5e3b7",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/5813be539113b05ece8212c2a06d006a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png",
            "first_name": "George",
            "real_name": "George",
            "display_name": "George",
            "team": "T4G9NBD2M",
            "name": "gd",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1688483449.326299",
        "reply_count": 5,
        "reply_users_count": 4,
        "latest_reply": "1688916603.505139",
        "reply_users": [
            "U4H19D1D2",
            "UBS7QANF3",
            "UCQB6S222",
            "U02K1MG7YCA"
        ],
        "replies": [
            {
                "user": "U4H19D1D2",
                "ts": "1688486405.828119"
            },
            {
                "user": "UBS7QANF3",
                "ts": "1688486995.625289"
            },
            {
                "user": "UCQB6S222",
                "ts": "1688489043.989039"
            },
            {
                "user": "U02K1MG7YCA",
                "ts": "1688914364.563129"
            },
            {
                "user": "UBS7QANF3",
                "ts": "1688916603.505139"
            }
        ],
        "is_locked": false,
        "subscribed": true,
        "last_read": "1688916603.505139",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "5wsQ",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "if "
                            },
                            {
                                "type": "text",
                                "text": "process_market_book",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " can take up to 20ms, is that slow enough to cause 'problems'?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U02RN7YDRQ9",
        "type": "message",
        "ts": "1688484088.888589",
        "client_msg_id": "a081930e-9501-4ce7-b6d8-3fe93837320a",
        "text": "I tend to deal with outcomes in `process_closed_market` since there is no particular time issue once the market is over. To make it easy to identify things I also patch over the flumine hash which is used for `order.customer_order_ref` so that it is easy to pick out multiple orders by specific strategy eg the order ref for bets placed by this strategy would always start \"strat999\" (max 12 characters)  ...\n\n`class strat999(BaseStrategy) :`\n\n\t`def add(self) -&gt; None:`\n\t\t`...`\n\t    `self.name_hash = self.__class__.__name__\\`\n\t\t\t`+ \"x\"*(STRATEGY_NAME_HASH_LENGTH-len(self.__class__.__name__))`\n\n\t`def somefunc(self,market,market_book)`\n\t\t`for order in market.blotter:`\n\t            `# check order belongs to this strat`\n        \t    `if order.customer_order_ref[:len(self.name_hash)] != self.name_hash :`\n                \t`continue`\n\t\t",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "ge46f1f8b708",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/e46f1f8b708a630e3191de7b2c42b1d1.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png",
            "first_name": "edblock",
            "real_name": "edblock",
            "display_name": "foxwood",
            "team": "T4G9NBD2M",
            "name": "eanb",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1688473398.729959",
        "parent_user_id": "U04AD6RAGGH",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "AK0bk",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I tend to deal with outcomes in "
                            },
                            {
                                "type": "text",
                                "text": "process_closed_market",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " since there is no particular time issue once the market is over. To make it easy to identify things I also patch over the flumine hash which is used for "
                            },
                            {
                                "type": "text",
                                "text": "order.customer_order_ref",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " so that it is easy to pick out multiple orders by specific strategy eg the order ref for bets placed by this strategy would always start \"strat999\" (max 12 characters)  ...\n\n"
                            },
                            {
                                "type": "text",
                                "text": "class strat999(BaseStrategy) :",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n\n"
                            },
                            {
                                "type": "text",
                                "text": "\tdef add(self) -> None:",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n"
                            },
                            {
                                "type": "text",
                                "text": "\t\t...",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n"
                            },
                            {
                                "type": "text",
                                "text": "\t    self.name_hash = self.__class__.__name__\\",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n"
                            },
                            {
                                "type": "text",
                                "text": "\t\t\t+ \"x\"*(STRATEGY_NAME_HASH_LENGTH-len(self.__class__.__name__))",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n\n"
                            },
                            {
                                "type": "text",
                                "text": "\tdef somefunc(self,market,market_book)",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n"
                            },
                            {
                                "type": "text",
                                "text": "\t\tfor order in market.blotter:",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n"
                            },
                            {
                                "type": "text",
                                "text": "\t            # check order belongs to this strat",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n"
                            },
                            {
                                "type": "text",
                                "text": "        \t    if order.customer_order_ref[:len(self.name_hash)] != self.name_hash :",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n"
                            },
                            {
                                "type": "text",
                                "text": "                \tcontinue",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n"
                            },
                            {
                                "type": "text",
                                "text": "\t\t",
                                "style": {
                                    "code": true
                                }
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1688486405.828119",
        "client_msg_id": "D5FD7251-73F2-4EAC-BE71-A46AEBC19988",
        "text": "Mo will correct me if I am wrong but I believe the matching cycle is 50ms so 20ms is fine, assuming you have one strategy etc ",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1688483449.326299",
        "parent_user_id": "UCQB6S222",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Z1z",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Mo will correct me if I am wrong but I believe the matching cycle is 50ms so 20ms is fine, assuming you have one strategy etc "
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UBS7QANF3",
        "type": "message",
        "ts": "1688486995.625289",
        "client_msg_id": "ccf18622-a620-4d95-8995-58243f66e516",
        "text": "Two comments, neither of which is a correction:\n\n1. Indeed, according to the documentation the matching cycle is 50 milliseconds. However, anecdotally the frequency of stream updates can vary significantly from this. Take a look at some data to get a feel for this\n2. You might need to consider the distribution of times your `process_market_book` takes. For example, average of 20 milliseconds but 99th percentile of 1 second might give you problems",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gaaf844a4a90",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/eaaf844a4a905431d83430e563b077aa.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png",
            "first_name": "",
            "real_name": "Maurice Berk",
            "display_name": "Mo",
            "team": "T4G9NBD2M",
            "name": "maurice",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1688483449.326299",
        "parent_user_id": "UCQB6S222",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "2djzA",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Two comments, neither of which is a correction:\n\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_list",
                        "elements": [
                            {
                                "type": "rich_text_section",
                                "elements": [
                                    {
                                        "type": "text",
                                        "text": "Indeed, according to the documentation the matching cycle is 50 milliseconds. However, anecdotally the frequency of stream updates can vary significantly from this. Take a look at some data to get a feel for this"
                                    }
                                ]
                            },
                            {
                                "type": "rich_text_section",
                                "elements": [
                                    {
                                        "type": "text",
                                        "text": "You might need to consider the distribution of times your "
                                    },
                                    {
                                        "type": "text",
                                        "text": "process_market_book",
                                        "style": {
                                            "code": true
                                        }
                                    },
                                    {
                                        "type": "text",
                                        "text": " takes. For example, average of 20 milliseconds but 99th percentile of 1 second might give you problems"
                                    }
                                ]
                            }
                        ],
                        "style": "ordered",
                        "indent": 0,
                        "border": 0
                    }
                ]
            }
        ]
    },
    {
        "user": "UCQB6S222",
        "type": "message",
        "ts": "1688489043.989039",
        "client_msg_id": "8500fdaa-3ffb-4f79-a6cf-6974192f5555",
        "text": "thank you both!",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g953ffd5e3b7",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/5813be539113b05ece8212c2a06d006a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png",
            "first_name": "George",
            "real_name": "George",
            "display_name": "George",
            "team": "T4G9NBD2M",
            "name": "gd",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1688483449.326299",
        "parent_user_id": "UCQB6S222",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "erkJr",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "thank you both!"
                            }
                        ]
                    }
                ]
            }
        ]
    }
]