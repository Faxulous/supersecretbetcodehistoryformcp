[
    {
        "user": "U04AD6RAGGH",
        "type": "message",
        "ts": "1689251919.282499",
        "client_msg_id": "c0484de5-4fb2-4ad1-9fc1-ac290aca6ef4",
        "text": "For those that like good ole fashioned monte carlo statistics on their strategies, do you find flumine is fast enough to run simulations?  I'm finding that my strategies are just taking too long to run let's say 10,000 samples (simulated markets), but perhaps I am just quite terrible at coding them up \/ using flumine.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "2f5fccb5d023",
            "image_72": "https:\/\/avatars.slack-edge.com\/2022-11-08\/4353229497089_2f5fccb5d0233ef1b00d_72.jpg",
            "first_name": "Rory",
            "real_name": "Rory",
            "display_name": "R",
            "team": "T4G9NBD2M",
            "name": "rorytyrrell2",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1689251919.282499",
        "reply_count": 5,
        "reply_users_count": 2,
        "latest_reply": "1689344901.960749",
        "reply_users": [
            "U9JHLMZB4",
            "U04AD6RAGGH"
        ],
        "replies": [
            {
                "user": "U9JHLMZB4",
                "ts": "1689265676.706609"
            },
            {
                "user": "U04AD6RAGGH",
                "ts": "1689280965.325539"
            },
            {
                "user": "U9JHLMZB4",
                "ts": "1689315772.519869"
            },
            {
                "user": "U04AD6RAGGH",
                "ts": "1689334797.070929"
            },
            {
                "user": "U04AD6RAGGH",
                "ts": "1689344901.960749"
            }
        ],
        "is_locked": false,
        "subscribed": false,
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "ZJX",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "For those that like good ole fashioned monte carlo statistics on their strategies, do you find flumine is fast enough to run simulations?  I'm finding that my strategies are just taking too long to run let's say 10,000 samples (simulated markets), but perhaps I am just quite terrible at coding them up \/ using flumine."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U9JHLMZB4",
        "type": "message",
        "ts": "1689265676.706609",
        "edited": {
            "user": "U9JHLMZB4",
            "ts": "1689314255.000000"
        },
        "client_msg_id": "4b6cc297-bbf1-4ba3-b75b-a22d68aa9412",
        "text": "That's really not a surprise. It's not that Flumine is slow, it's that it's receiving and processing updates for every market to which you're subscribed as frequently as every 50 milliseconds, so there's really not enough space in there to run 10k sample monte carlo simulations as well.\n\nIf the simulations are important to you, you have three things you could do:\n1. in your subscription request, ask for conflated data e.g. only receive the data every second, opening a bigger window into which to run your simulations\n2. offload the simulations to a worker (to stop them blocking your main process) and write the results back to the relevant market.context for ingestion into market update processing\n3. 1 and 2 above.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g951ddcb43e7",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/3951ddcb43e788a387d6daf330dad5ca.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png",
            "first_name": "",
            "real_name": "Peter Coles",
            "display_name": "Peter",
            "team": "T4G9NBD2M",
            "name": "peter",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1689251919.282499",
        "parent_user_id": "U04AD6RAGGH",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "0KCke",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "That's really not a surprise. It's not that Flumine is slow, it's that it's receiving and processing updates for every market to which you're subscribed as frequently as every 50 milliseconds, so there's really not enough space in there to run 10k sample monte carlo simulations as well.\n\nIf the simulations are important to you, you have three things you could do:\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_list",
                        "elements": [
                            {
                                "type": "rich_text_section",
                                "elements": [
                                    {
                                        "type": "text",
                                        "text": "in your subscription request, ask for conflated data e.g. only receive the data every second, opening a bigger window into which to run your simulations"
                                    }
                                ]
                            },
                            {
                                "type": "rich_text_section",
                                "elements": [
                                    {
                                        "type": "text",
                                        "text": "offload the simulations to a worker (to stop them blocking your main process) and write the results back to the relevant market.context for ingestion into market update processing"
                                    }
                                ]
                            },
                            {
                                "type": "rich_text_section",
                                "elements": [
                                    {
                                        "type": "text",
                                        "text": "1 and 2 above."
                                    }
                                ]
                            }
                        ],
                        "style": "ordered",
                        "indent": 0,
                        "border": 0
                    }
                ]
            }
        ]
    },
    {
        "user": "U04AD6RAGGH",
        "type": "message",
        "ts": "1689280965.325539",
        "client_msg_id": "85bc8b02-05c5-4446-8cab-c7c835edc2b6",
        "text": "understood, I thought this was the main issue alright; the frequency of market updates.\n\nI don't fully understand point 2 though, could you elaborate?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "2f5fccb5d023",
            "image_72": "https:\/\/avatars.slack-edge.com\/2022-11-08\/4353229497089_2f5fccb5d0233ef1b00d_72.jpg",
            "first_name": "Rory",
            "real_name": "Rory",
            "display_name": "R",
            "team": "T4G9NBD2M",
            "name": "rorytyrrell2",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1689251919.282499",
        "parent_user_id": "U04AD6RAGGH",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "2QAqD",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "understood, I thought this was the main issue alright; the frequency of market updates.\n\nI don't fully understand point 2 though, could you elaborate?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U9JHLMZB4",
        "type": "message",
        "ts": "1689315772.519869",
        "client_msg_id": "eaa52529-6dc5-4ddf-afee-d6dfac04bf66",
        "text": "Stepping back, I use Monte Carlo simulation too, but (almost) always offline as part of my analysis to develop and evaluate strategies. I only have one strategy currently where it's integrated into the strategy itself. For that strategy, what's changing and warrants re-running the simulation is the state of the event itself, i.e. fundamental rather than market data. Updates to that are way slower than every 50 milliseconds. So I have a process that runs in parallel to my Flumine strategy to ingest external data about the state of the event, run the simulation and store the latest result, which can be read by my Flumine strategy as and when it needs it.\n\nIn my case it's an older home grown process (it's been around for a while). But Flumine provides <https:\/\/betcode-org.github.io\/flumine\/workers\/|workers> that are how I could do this job if I were writing this today. A worker runs in parallel to your Flumine strategy so (normally) won't slow it down (though if you have a single processor available to your Flumine instance it might). Thus you could run your simulations continuously in a worker function and, using the flumine object available to each worker, write the results back to your strategy or individual markets objects each time a simulation completes, from which your strategy can pick them up when processing market updates.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g951ddcb43e7",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/3951ddcb43e788a387d6daf330dad5ca.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png",
            "first_name": "",
            "real_name": "Peter Coles",
            "display_name": "Peter",
            "team": "T4G9NBD2M",
            "name": "peter",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1689251919.282499",
        "parent_user_id": "U04AD6RAGGH",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "D\/b0",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Stepping back, I use Monte Carlo simulation too, but (almost) always offline as part of my analysis to develop and evaluate strategies. I only have one strategy currently where it's integrated into the strategy itself. For that strategy, what's changing and warrants re-running the simulation is the state of the event itself, i.e. fundamental rather than market data. Updates to that are way slower than every 50 milliseconds. So I have a process that runs in parallel to my Flumine strategy to ingest external data about the state of the event, run the simulation and store the latest result, which can be read by my Flumine strategy as and when it needs it.\n\nIn my case it's an older home grown process (it's been around for a while). But Flumine provides "
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/betcode-org.github.io\/flumine\/workers\/",
                                "text": "workers"
                            },
                            {
                                "type": "text",
                                "text": " that are how I could do this job if I were writing this today. A worker runs in parallel to your Flumine strategy so (normally) won't slow it down (though if you have a single processor available to your Flumine instance it might). Thus you could run your simulations continuously in a worker function and, using the flumine object available to each worker, write the results back to your strategy or individual markets objects each time a simulation completes, from which your strategy can pick them up when processing market updates."
                            }
                        ]
                    }
                ]
            }
        ]
    }
]