[
    {
        "user": "U016TGY3676",
        "type": "message",
        "ts": "1606732051.484000",
        "client_msg_id": "7e08c6da-2f62-40cd-b12c-17acc62b65bc",
        "text": "So I have a preplay strategy that I'm currently live testing on UK horse racing WIN markets. Long term, I want to extend this strategy to cover _every_ horse racing market, followed by implementation on other sports and ultimately coverage for ALL betfair markets.\nLast week, during initial testing, I attempted to start Flumine with:\n```market_filter=bflw.filters.streaming_market_filter(\n    event_type_ids=['7'],\n),```\n...and managed to crash an AWS Lightsail instance when CPU &amp; RAM (2GB) hit 100% during startup. This is only a small % of where I actually want to be. I know Flumine creates a lot of objects, but is it actually THAT resource hungry?\nRegarding implementing ALL markets, what's the recommended way to achieve this? Currently thinking that I may have to redesign as a polling bot instead. The strategy is not speed sensitive.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g6a681220e11",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/6a681220e11c1a2ed3685375d658dadb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0001-72.png",
            "first_name": "",
            "real_name": "birchy",
            "display_name": "birchy",
            "team": "T4G9NBD2M",
            "name": "birchy",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "V7qh",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "So I have a preplay strategy that I'm currently live testing on UK horse racing WIN markets. Long term, I want to extend this strategy to cover "
                            },
                            {
                                "type": "text",
                                "text": "every",
                                "style": {
                                    "italic": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " horse racing market, followed by implementation on other sports and ultimately coverage for ALL betfair markets.\nLast week, during initial testing, I attempted to start Flumine with:\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "market_filter=bflw.filters.streaming_market_filter(\n    event_type_ids=['7'],\n),"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "...and managed to crash an AWS Lightsail instance when CPU & RAM (2GB) hit 100% during startup. This is only a small % of where I actually want to be. I know Flumine creates a lot of objects, but is it actually THAT resource hungry?\nRegarding implementing ALL markets, what's the recommended way to achieve this? Currently thinking that I may have to redesign as a polling bot instead. The strategy is not speed sensitive."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1606732327.484400",
        "client_msg_id": "1C997377-5B09-4F3F-A016-7FB745118A41",
        "text": "100% of what?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "8oN",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "100% of what?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "ULDAVFDRP",
        "type": "message",
        "ts": "1606732328.484500",
        "client_msg_id": "38ca19e2-a63d-4239-ab13-691c0a1f7f00",
        "text": "why is win type not in it",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g46fe1c1bf03",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/b46fe1c1bf03e18d951e7032fb494283.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png",
            "first_name": "",
            "real_name": "Oliver Varney",
            "display_name": "Oliver Varney",
            "team": "T4G9NBD2M",
            "name": "oliverashleyvarney",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "oPD",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "why is win type not in it"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "ULDAVFDRP",
        "type": "message",
        "ts": "1606732364.484800",
        "client_msg_id": "37a7e099-4aae-4f93-a7e1-57fd920ed192",
        "text": "```'market_type_codes':['WIN']```\n?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g46fe1c1bf03",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/b46fe1c1bf03e18d951e7032fb494283.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png",
            "first_name": "",
            "real_name": "Oliver Varney",
            "display_name": "Oliver Varney",
            "team": "T4G9NBD2M",
            "name": "oliverashleyvarney",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "fQpOm",
                "elements": [
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "'market_type_codes':['WIN']"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "ULDAVFDRP",
        "type": "message",
        "ts": "1606732390.485800",
        "edited": {
            "user": "ULDAVFDRP",
            "ts": "1606732503.000000"
        },
        "client_msg_id": "9e47891a-b25e-474a-8b6e-1ce32bc57a5b",
        "text": "```return {\n    'event_type_ids':[7],\n    'country_codes':['GB','IE'],\n    'market_types':['WIN']\n\n}```\nthis might be more suitable",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g46fe1c1bf03",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/b46fe1c1bf03e18d951e7032fb494283.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png",
            "first_name": "",
            "real_name": "Oliver Varney",
            "display_name": "Oliver Varney",
            "team": "T4G9NBD2M",
            "name": "oliverashleyvarney",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "\/t9N",
                "elements": [
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "return {\n    'event_type_ids':[7],\n    'country_codes':['GB','IE'],\n    'market_types':['WIN']\n\n}"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "this might be more suitable"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1606732393.486000",
        "edited": {
            "user": "U4H19D1D2",
            "ts": "1606732403.000000"
        },
        "client_msg_id": "21EF01D4-4801-490C-AD3D-DE744062EB97",
        "text": "That. Create a dummy strategy with the same filter and see how that performs to confirm if it is flumine or your strategy code ",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "qBF9",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "That. Create a dummy strategy with the same filter and see how that performs to confirm if it is flumine or your strategy code "
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UUCD6P13J",
        "type": "message",
        "ts": "1606732469.487000",
        "client_msg_id": "6a575b45-a838-4f17-95b7-166cb65af27c",
        "text": "should `market_type_codes` not be `market_types`?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g6898272ab81",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/6898272ab810e419c2c9ca9af1e53da8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png",
            "first_name": "Lee",
            "real_name": "Lee U",
            "display_name": "Lee",
            "team": "T4G9NBD2M",
            "name": "lunswor",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "AER",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "should "
                            },
                            {
                                "type": "text",
                                "text": "market_type_codes",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " not be "
                            },
                            {
                                "type": "text",
                                "text": "market_types",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "ULDAVFDRP",
        "type": "message",
        "ts": "1606732483.487400",
        "edited": {
            "user": "ULDAVFDRP",
            "ts": "1606732541.000000"
        },
        "client_msg_id": "ad4920a1-dfbd-4724-a7a1-a8c109e56f2a",
        "text": "sorry yes, was a seperate dict, correct :+1:",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g46fe1c1bf03",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/b46fe1c1bf03e18d951e7032fb494283.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png",
            "first_name": "",
            "real_name": "Oliver Varney",
            "display_name": "Oliver Varney",
            "team": "T4G9NBD2M",
            "name": "oliverashleyvarney",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "IqB",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "sorry yes, was a seperate dict, correct "
                            },
                            {
                                "type": "emoji",
                                "name": "+1",
                                "unicode": "1f44d"
                            }
                        ]
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "+1",
                "users": [
                    "UUCD6P13J"
                ],
                "count": 1
            }
        ]
    },
    {
        "user": "U010GM77S4W",
        "type": "message",
        "ts": "1606732561.488400",
        "client_msg_id": "1891b31a-edec-44da-98c1-65170c56e600",
        "text": "Can someone point out what im doing wrong here? I'm trying to place an additional lay bet if the former has not been matched but I think there's an issue with my list comprehension\n\n```layStake = sum([1 for o in market.blotter if\n                (o.selection_id == runner.selection_id and o.status == OrderStatus.EXECUTABLE)])\n\nif layStake &gt; 0:\n    trade = Trade(\n                    market_book.market_id,\n                    runner.selection_id,\n                    runner.handicap,\n                    self,\n                )\n    order = trade.create_order(\n        side=\"LAY\",\n        order_type=LimitOrder(get_price(runner.ex.available_to_lay, 0), 10)\n    )\n    self.place_order(market, order)```\n",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "66cae8f5399c",
            "image_72": "https:\/\/avatars.slack-edge.com\/2020-03-20\/1004508356769_66cae8f5399cf91a07ae_72.jpg",
            "first_name": "",
            "real_name": "mandelbot",
            "display_name": "mandelbot",
            "team": "T4G9NBD2M",
            "name": "demhadbale",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1606732561.488400",
        "reply_count": 6,
        "reply_users_count": 2,
        "latest_reply": "1606734963.494700",
        "reply_users": [
            "UUCD6P13J",
            "U010GM77S4W"
        ],
        "replies": [
            {
                "user": "UUCD6P13J",
                "ts": "1606733730.491900"
            },
            {
                "user": "U010GM77S4W",
                "ts": "1606734282.493800"
            },
            {
                "user": "UUCD6P13J",
                "ts": "1606734413.494000"
            },
            {
                "user": "U010GM77S4W",
                "ts": "1606734485.494200"
            },
            {
                "user": "UUCD6P13J",
                "ts": "1606734911.494500"
            },
            {
                "user": "U010GM77S4W",
                "ts": "1606734963.494700"
            }
        ],
        "is_locked": false,
        "subscribed": false,
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "H2Jh",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Can someone point out what im doing wrong here? I'm trying to place an additional lay bet if the former has not been matched but I think there's an issue with my list comprehension\n\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "layStake = sum([1 for o in market.blotter if\n                (o.selection_id == runner.selection_id and o.status == OrderStatus.EXECUTABLE)])\n\nif layStake > 0:\n    trade = Trade(\n                    market_book.market_id,\n                    runner.selection_id,\n                    runner.handicap,\n                    self,\n                )\n    order = trade.create_order(\n        side=\"LAY\",\n        order_type=LimitOrder(get_price(runner.ex.available_to_lay, 0), 10)\n    )\n    self.place_order(market, order)"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_section",
                        "elements": []
                    }
                ]
            }
        ]
    },
    {
        "text": "<@U4H19D1D2> 100% CPU for 5+ minutes. RAM usage was > 80% before the machine started lagging badly until the point where I had to force a restart from AWS admin.\nCurrent live bot is running OK with:\n``` market_filter=bflw.filters.streaming_market_filter(\n    event_type_ids=['7'],\n    country_codes=['GB', 'IE'],\n    market_types=['WIN'],\n),```\n",
        "files": [
            {
                "id": "F01FSDPA63U",
                "mode": "hidden_by_limit"
            }
        ],
        "upload": false,
        "user": "U016TGY3676",
        "display_as_bot": false,
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "96SV",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "user",
                                "user_id": "U4H19D1D2"
                            },
                            {
                                "type": "text",
                                "text": " 100% CPU for 5+ minutes. RAM usage was > 80% before the machine started lagging badly until the point where I had to force a restart from AWS admin.\nCurrent live bot is running OK with:\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": " market_filter=bflw.filters.streaming_market_filter(\n    event_type_ids=['7'],\n    country_codes=['GB', 'IE'],\n    market_types=['WIN'],\n),"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_section",
                        "elements": []
                    }
                ]
            }
        ],
        "type": "message",
        "ts": "1606732952.491600",
        "thread_ts": "1606732952.491600",
        "reply_count": 18,
        "reply_users_count": 2,
        "latest_reply": "1607020958.025200",
        "reply_users": [
            "U4H19D1D2",
            "U016TGY3676"
        ],
        "replies": [
            {
                "user": "U4H19D1D2",
                "ts": "1606733952.493600"
            },
            {
                "user": "U016TGY3676",
                "ts": "1606735949.494900"
            },
            {
                "user": "U016TGY3676",
                "ts": "1606735967.495100"
            },
            {
                "user": "U016TGY3676",
                "ts": "1606742926.495300"
            },
            {
                "user": "U016TGY3676",
                "ts": "1606743000.495700"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1606754155.497200"
            },
            {
                "user": "U016TGY3676",
                "ts": "1606754724.497400"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1606825062.499400"
            },
            {
                "user": "U016TGY3676",
                "ts": "1606825246.499700"
            },
            {
                "user": "U016TGY3676",
                "ts": "1606825396.499900"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1606825439.000800"
            },
            {
                "user": "U016TGY3676",
                "ts": "1606997930.001200"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1606998757.001900"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1607000272.002100"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1607000346.002300"
            },
            {
                "user": "U016TGY3676",
                "ts": "1607000959.002700"
            },
            {
                "user": "U016TGY3676",
                "ts": "1607019814.023100"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1607020958.025200"
            }
        ],
        "is_locked": false,
        "subscribed": true,
        "last_read": "1607020958.025200"
    },
    {
        "user": "UUCD6P13J",
        "type": "message",
        "ts": "1606733730.491900",
        "client_msg_id": "6ba4ebe9-aee5-4d49-9331-d29d24e675d0",
        "text": "`EXECUTABLE` could exclude canceled and (i think) include partially matched bets, you might want to check `size_matched`. You might want to consider cancelling the unmatched bet before placing another or increasing `max_live_trade_count`  if you want more than one open bet on that selection",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g6898272ab81",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/6898272ab810e419c2c9ca9af1e53da8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png",
            "first_name": "Lee",
            "real_name": "Lee U",
            "display_name": "Lee",
            "team": "T4G9NBD2M",
            "name": "lunswor",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1606732561.488400",
        "parent_user_id": "U010GM77S4W",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "dssA",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "EXECUTABLE",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " could exclude canceled and (i think) include partially matched bets, you might want to check "
                            },
                            {
                                "type": "text",
                                "text": "size_matched",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": ". You might want to consider cancelling the unmatched bet before placing another or increasing "
                            },
                            {
                                "type": "text",
                                "text": "max_live_trade_count",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "  if you want more than one open bet on that selection"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1606733952.493600",
        "client_msg_id": "20BB472A-11BB-4DBB-8F76-D4CAFFEC1A15",
        "text": "Interesting, how many markets did that subscribe to?  I would create a dummy empty strategy to isolate the issue and profile if necessary. I have similar subscriptions on even smaller instances ",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1606732952.491600",
        "parent_user_id": "U016TGY3676",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "9=4C",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Interesting, how many markets did that subscribe to?  I would create a dummy empty strategy to isolate the issue and profile if necessary. I have similar subscriptions on even smaller instances "
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U010GM77S4W",
        "type": "message",
        "ts": "1606734282.493800",
        "client_msg_id": "8a3443a2-f3f9-4ca7-9435-bb3a178f1b49",
        "text": "How do i check `size_matched` for lay bets?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "66cae8f5399c",
            "image_72": "https:\/\/avatars.slack-edge.com\/2020-03-20\/1004508356769_66cae8f5399cf91a07ae_72.jpg",
            "first_name": "",
            "real_name": "mandelbot",
            "display_name": "mandelbot",
            "team": "T4G9NBD2M",
            "name": "demhadbale",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1606732561.488400",
        "parent_user_id": "U010GM77S4W",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "JhV",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "How do i check "
                            },
                            {
                                "type": "text",
                                "text": "size_matched",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " for lay bets?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UUCD6P13J",
        "type": "message",
        "ts": "1606734413.494000",
        "client_msg_id": "335670a8-dbcc-4e6a-a3e3-aa8cd3bffc65",
        "text": "`o.size_matched`",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g6898272ab81",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/6898272ab810e419c2c9ca9af1e53da8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png",
            "first_name": "Lee",
            "real_name": "Lee U",
            "display_name": "Lee",
            "team": "T4G9NBD2M",
            "name": "lunswor",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1606732561.488400",
        "parent_user_id": "U010GM77S4W",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Nd93b",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "o.size_matched",
                                "style": {
                                    "code": true
                                }
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U010GM77S4W",
        "type": "message",
        "ts": "1606734485.494200",
        "edited": {
            "user": "U010GM77S4W",
            "ts": "1606734560.000000"
        },
        "client_msg_id": "cc58b04d-606d-4d4e-983f-2ef49fff1ac5",
        "text": "like this?\n```[o.size_matched for o in market.blotter if \\\n                  (o.selection_id == runner.selection_id and o.side == 'LAY')]```",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "66cae8f5399c",
            "image_72": "https:\/\/avatars.slack-edge.com\/2020-03-20\/1004508356769_66cae8f5399cf91a07ae_72.jpg",
            "first_name": "",
            "real_name": "mandelbot",
            "display_name": "mandelbot",
            "team": "T4G9NBD2M",
            "name": "demhadbale",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1606732561.488400",
        "parent_user_id": "U010GM77S4W",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "TYkf",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "like this?\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "[o.size_matched for o in market.blotter if \\\n                  (o.selection_id == runner.selection_id and o.side == 'LAY')]"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UUCD6P13J",
        "type": "message",
        "ts": "1606734911.494500",
        "client_msg_id": "7e7f609d-6bba-4608-9d4f-ff51991ed8bf",
        "text": "yes",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g6898272ab81",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/6898272ab810e419c2c9ca9af1e53da8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png",
            "first_name": "Lee",
            "real_name": "Lee U",
            "display_name": "Lee",
            "team": "T4G9NBD2M",
            "name": "lunswor",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1606732561.488400",
        "parent_user_id": "U010GM77S4W",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "da8E6",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "yes"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U010GM77S4W",
        "type": "message",
        "ts": "1606734963.494700",
        "client_msg_id": "bc7c6abe-87dc-4fc1-8612-852013cb2c82",
        "text": "k ill try that instead, thanks!",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "66cae8f5399c",
            "image_72": "https:\/\/avatars.slack-edge.com\/2020-03-20\/1004508356769_66cae8f5399cf91a07ae_72.jpg",
            "first_name": "",
            "real_name": "mandelbot",
            "display_name": "mandelbot",
            "team": "T4G9NBD2M",
            "name": "demhadbale",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1606732561.488400",
        "parent_user_id": "U010GM77S4W",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "plbZ",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "k ill try that instead, thanks!"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U016TGY3676",
        "type": "message",
        "ts": "1606735949.494900",
        "client_msg_id": "32b4a6bf-f4fe-4aae-9c90-a6f0ac7a06ec",
        "text": "Testing now. Working from home and trying to do this in the background. On a Windows 10 machine. :man-facepalming::face_vomiting:",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g6a681220e11",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/6a681220e11c1a2ed3685375d658dadb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0001-72.png",
            "first_name": "",
            "real_name": "birchy",
            "display_name": "birchy",
            "team": "T4G9NBD2M",
            "name": "birchy",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1606732952.491600",
        "parent_user_id": "U016TGY3676",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "O5yxF",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Testing now. Working from home and trying to do this in the background. On a Windows 10 machine. "
                            },
                            {
                                "type": "emoji",
                                "name": "man-facepalming",
                                "unicode": "1f926-200d-2642-fe0f"
                            },
                            {
                                "type": "emoji",
                                "name": "face_vomiting",
                                "unicode": "1f92e"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U016TGY3676",
        "type": "message",
        "ts": "1606735967.495100",
        "client_msg_id": "d1e9f479-244b-492c-bbc1-4db79a5e431b",
        "text": "Will keep you posted",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g6a681220e11",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/6a681220e11c1a2ed3685375d658dadb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0001-72.png",
            "first_name": "",
            "real_name": "birchy",
            "display_name": "birchy",
            "team": "T4G9NBD2M",
            "name": "birchy",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1606732952.491600",
        "parent_user_id": "U016TGY3676",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "dEAX",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Will keep you posted"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "text": "Tested with dummy strategy and then re-implemented my strategy one step at a time. Now running full strategy on 453 markets with:\n```market_filter=bflw.filters.streaming_market_filter(\n    event_type_ids=['7'],\n),```",
        "files": [
            {
                "id": "F01FT0YHUPM",
                "mode": "hidden_by_limit"
            }
        ],
        "upload": false,
        "user": "U016TGY3676",
        "display_as_bot": false,
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "7hrf",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Tested with dummy strategy and then re-implemented my strategy one step at a time. Now running full strategy on 453 markets with:\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "market_filter=bflw.filters.streaming_market_filter(\n    event_type_ids=['7'],\n),"
                            }
                        ]
                    }
                ]
            }
        ],
        "type": "message",
        "ts": "1606742926.495300",
        "edited": {
            "user": "U016TGY3676",
            "ts": "1606743049.000000"
        },
        "thread_ts": "1606732952.491600",
        "parent_user_id": "U016TGY3676"
    },
    {
        "user": "U016TGY3676",
        "type": "message",
        "ts": "1606743000.495700",
        "edited": {
            "user": "U016TGY3676",
            "ts": "1606743287.000000"
        },
        "client_msg_id": "4cd0261b-37a7-4b7f-ba02-aa9c319a1128",
        "text": "I think the crash I had was when I removed `event_type_ids` and attempted to get all available markets with no filters.\nLonger term, I would like to be able to run on all events\/markets...what's the recommended way to achieve that? One bot per event type?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g6a681220e11",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/6a681220e11c1a2ed3685375d658dadb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0001-72.png",
            "first_name": "",
            "real_name": "birchy",
            "display_name": "birchy",
            "team": "T4G9NBD2M",
            "name": "birchy",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1606732952.491600",
        "parent_user_id": "U016TGY3676",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "nCr",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I think the crash I had was when I removed "
                            },
                            {
                                "type": "text",
                                "text": "event_type_ids",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " and attempted to get all available markets with no filters.\nLonger term, I would like to be able to run on all events\/markets...what's the recommended way to achieve that? One bot per event type?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1606754155.497200",
        "client_msg_id": "1A776320-F1A0-437F-A522-38F8C5496169",
        "text": "Do you need every update? If you set conflate to a larger number (default None) it will dramatically reduce CPU",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1606732952.491600",
        "parent_user_id": "U016TGY3676",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "XHCu",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Do you need every update? If you set conflate to a larger number (default None) it will dramatically reduce CPU"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U016TGY3676",
        "type": "message",
        "ts": "1606754724.497400",
        "client_msg_id": "e8b0d586-e911-481c-beb0-2ba1157d51d7",
        "text": "Did test with conflate = 1000 last week but it seemed to be taking forever to startup, i.e. I pulled the plug after ~20 minutes. That was with no filters specified. Does the conflate also affect the polling workers, or just the stream?\nFrom a personal design point, is it OK to run one strategy on a few thousand markets using one framework instance, or is it preferential to use smaller chunks?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g6a681220e11",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/6a681220e11c1a2ed3685375d658dadb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0001-72.png",
            "first_name": "",
            "real_name": "birchy",
            "display_name": "birchy",
            "team": "T4G9NBD2M",
            "name": "birchy",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1606732952.491600",
        "parent_user_id": "U016TGY3676",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "S1D",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Did test with conflate = 1000 last week but it seemed to be taking forever to startup, i.e. I pulled the plug after ~20 minutes. That was with no filters specified. Does the conflate also affect the polling workers, or just the stream?\nFrom a personal design point, is it OK to run one strategy on a few thousand markets using one framework instance, or is it preferential to use smaller chunks?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "subtype": "channel_join",
        "user": "U01FQH5FA8M",
        "text": "<@U01FQH5FA8M> has joined the channel",
        "type": "message",
        "ts": "1606758332.497700"
    }
]