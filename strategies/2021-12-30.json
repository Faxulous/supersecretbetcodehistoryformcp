[
    {
        "subtype": "channel_join",
        "user": "U02SA5FSRBL",
        "text": "<@U02SA5FSRBL> has joined the channel",
        "type": "message",
        "ts": "1640867476.431500"
    },
    {
        "user": "U024A7ACBA7",
        "type": "message",
        "ts": "1640867763.432300",
        "client_msg_id": "88a2c759-0b35-41b2-8884-ea5f1554fcbc",
        "text": "Hi all, my particular interest is in tennis markets - predicting outcomes for different levels of the scoring system (I.e. match, sets, games and points) and then opening positions (based on confidence of prediction) and closing them after the predicted event has occurred (E.g. player A wins\/loses a point\/game\/set). I figured as there is rarely liquidity in the dedicated markets for predicting these events, it makes more sense to bet on the match_odds market and then 'green\/red out' based on whether the prediction was correct - In this way you could place multiple trades on a single market. From your experience do you think this type of approach could work with Flumine or am I being naïve trying to build something of this sort?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g90de49aa3a7",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/90de49aa3a72ea72b3ab29d96e8b16af.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0010-72.png",
            "first_name": "Shashi",
            "real_name": "Shashi Khaya",
            "display_name": "Shashi Khaya",
            "team": "T4G9NBD2M",
            "name": "shashi.k.parekh",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1640867763.432300",
        "reply_count": 2,
        "reply_users_count": 2,
        "latest_reply": "1640893253.436300",
        "reply_users": [
            "U011VL3CA2Y",
            "U4H19D1D2"
        ],
        "replies": [
            {
                "user": "U011VL3CA2Y",
                "ts": "1640868368.432400"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1640893253.436300"
            }
        ],
        "is_locked": false,
        "subscribed": true,
        "last_read": "1640893253.436300",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "2d=+H",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Hi all, my particular interest is in tennis markets - predicting outcomes for different levels of the scoring system (I.e. match, sets, games and points) and then opening positions (based on confidence of prediction) and closing them after the predicted event has occurred (E.g. player A wins\/loses a point\/game\/set). I figured as there is rarely liquidity in the dedicated markets for predicting these events, it makes more sense to bet on the match_odds market and then 'green\/red out' based on whether the prediction was correct - In this way you could place multiple trades on a single market. From your experience do you think this type of approach could work with Flumine or am I being naïve trying to build something of this sort?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U011VL3CA2Y",
        "type": "message",
        "ts": "1640868368.432400",
        "client_msg_id": "48d9dd74-fe61-4400-9624-6178d3330c79",
        "text": "From a capacity\/workload perspective I think flumine is perfectly suited for that. On the other hand, I know some members of this group will want to have a word about \"greening out\" a bet",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g1ec6e88d1e4",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/1ec6e88d1e4dd0bff349d83e9edba6bd.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png",
            "first_name": "Ruben",
            "real_name": "Ruben",
            "display_name": "Ruben",
            "team": "T4G9NBD2M",
            "name": "tduqruqtgtpiioibww",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1640867763.432300",
        "parent_user_id": "U024A7ACBA7",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "+vy",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "From a capacity\/workload perspective I think flumine is perfectly suited for that. On the other hand, I know some members of this group will want to have a word about \"greening out\" a bet"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U02JMC39NLW",
        "type": "message",
        "ts": "1640873890.433900",
        "client_msg_id": "4d7b872c-9373-45e3-a49a-48370a0406e8",
        "text": "hello! how do I get the total matched for the market inside `process_market_book`? `market_book.total_matched` returns 0 in my backtests",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "b2f3f9f6d654",
            "image_72": "https:\/\/avatars.slack-edge.com\/2021-10-23\/2640145310274_b2f3f9f6d65432d7247c_72.png",
            "first_name": "Amit",
            "real_name": "Amit Patel",
            "display_name": "Amit Patel",
            "team": "T4G9NBD2M",
            "name": "amitio.k.p",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1640873890.433900",
        "reply_count": 8,
        "reply_users_count": 3,
        "latest_reply": "1640883118.436100",
        "reply_users": [
            "UBS7QANF3",
            "U02JMC39NLW",
            "U4H19D1D2"
        ],
        "replies": [
            {
                "user": "UBS7QANF3",
                "ts": "1640873990.434000"
            },
            {
                "user": "U02JMC39NLW",
                "ts": "1640874009.434200"
            },
            {
                "user": "UBS7QANF3",
                "ts": "1640874043.434400"
            },
            {
                "user": "U02JMC39NLW",
                "ts": "1640874093.434700"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1640881353.435400"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1640881403.435600"
            },
            {
                "user": "U02JMC39NLW",
                "ts": "1640881540.435900"
            },
            {
                "user": "UBS7QANF3",
                "ts": "1640883118.436100"
            }
        ],
        "is_locked": false,
        "subscribed": true,
        "last_read": "1640883118.436100",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "8O3",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "hello! how do I get the total matched for the market inside "
                            },
                            {
                                "type": "text",
                                "text": "process_market_book",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "? "
                            },
                            {
                                "type": "text",
                                "text": "market_book.total_matched",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " returns 0 in my backtests"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UBS7QANF3",
        "type": "message",
        "ts": "1640873990.434000",
        "client_msg_id": "0b44ba86-6a12-4125-a101-beddb878faee",
        "text": "Is this historic data?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gaaf844a4a90",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/eaaf844a4a905431d83430e563b077aa.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png",
            "first_name": "",
            "real_name": "Maurice Berk",
            "display_name": "Mo",
            "team": "T4G9NBD2M",
            "name": "maurice",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1640873890.433900",
        "parent_user_id": "U02JMC39NLW",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "98PZ",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Is this historic data?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U02JMC39NLW",
        "type": "message",
        "ts": "1640874009.434200",
        "client_msg_id": "e10a7c46-9b3d-4650-9afa-d2c6487a11ec",
        "text": "yep",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "b2f3f9f6d654",
            "image_72": "https:\/\/avatars.slack-edge.com\/2021-10-23\/2640145310274_b2f3f9f6d65432d7247c_72.png",
            "first_name": "Amit",
            "real_name": "Amit Patel",
            "display_name": "Amit Patel",
            "team": "T4G9NBD2M",
            "name": "amitio.k.p",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1640873890.433900",
        "parent_user_id": "U02JMC39NLW",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Rmhp",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "yep"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UBS7QANF3",
        "type": "message",
        "ts": "1640874043.434400",
        "client_msg_id": "990277f0-4e08-49b1-be91-07ce66146736",
        "text": "That field is not populated in the historic data. See, for example, `calculate_total_matched` function in `betfairutil`: <https:\/\/github.com\/mberk\/betfairutil\/blob\/d8d8e7414f67d6ea32bf288f1eebfbe50b62847d\/betfairutil\/__init__.py#L481-L497>",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gaaf844a4a90",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/eaaf844a4a905431d83430e563b077aa.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png",
            "first_name": "",
            "real_name": "Maurice Berk",
            "display_name": "Mo",
            "team": "T4G9NBD2M",
            "name": "maurice",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1640873890.433900",
        "parent_user_id": "U02JMC39NLW",
        "attachments": [
            {
                "id": 1,
                "footer_icon": "https:\/\/slack.github.com\/static\/img\/favicon-neutral.png",
                "color": "24292f",
                "bot_id": "B021ZJYSBMW",
                "app_unfurl_url": "https:\/\/github.com\/mberk\/betfairutil\/blob\/d8d8e7414f67d6ea32bf288f1eebfbe50b62847d\/betfairutil\/__init__.py#L481-L497",
                "is_app_unfurl": true,
                "app_id": "A01BP7R4KNY",
                "fallback": "<https:\/\/github.com\/mberk\/betfairutil\/blob\/d8d8e7414f67d6ea32bf288f1eebfbe50b62847d\/betfairutil\/__init__.py | __init__.py>",
                "text": "```\ndef calculate_total_matched(\n    market_book: Union[Dict[str, Any], MarketBook]\n) -&gt; Union[int, float]:\n    \"\"\"\n    Calculate the total matched on this market from the amounts matched on each runner at each price point. Useful for historic data where this field is not populated\n\n    :param market_book: A market book either as a dictionary or betfairlightweight MarketBook object\n    :return: The total matched on this market\n    \"\"\"\n    if type(market_book) is MarketBook:\n        market_book = market_book._data\n\n    return sum(\n        ps[\"size\"]\n        for r in market_book.get(\"runners\", [])\n        for ps in r.get(\"ex\", {}).get(\"tradedVolume\", [])\n    )\n```",
                "title": "<https:\/\/github.com\/mberk\/betfairutil\/blob\/d8d8e7414f67d6ea32bf288f1eebfbe50b62847d\/betfairutil\/__init__.py | __init__.py>",
                "footer": "<https:\/\/github.com\/mberk\/betfairutil|mberk\/betfairutil>",
                "mrkdwn_in": [
                    "text"
                ]
            }
        ],
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "RKYg",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "That field is not populated in the historic data. See, for example, "
                            },
                            {
                                "type": "text",
                                "text": "calculate_total_matched",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " function in "
                            },
                            {
                                "type": "text",
                                "text": "betfairutil",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": ": "
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/github.com\/mberk\/betfairutil\/blob\/d8d8e7414f67d6ea32bf288f1eebfbe50b62847d\/betfairutil\/__init__.py#L481-L497"
                            }
                        ]
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "star",
                "users": [
                    "U011VL3CA2Y",
                    "U025C059DA9"
                ],
                "count": 2
            }
        ]
    },
    {
        "user": "U02JMC39NLW",
        "type": "message",
        "ts": "1640874093.434700",
        "client_msg_id": "8cd74bff-1e25-498e-8a68-569e88d4e6c1",
        "text": "ah i see, this is perfect! thanks :slightly_smiling_face:",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "b2f3f9f6d654",
            "image_72": "https:\/\/avatars.slack-edge.com\/2021-10-23\/2640145310274_b2f3f9f6d65432d7247c_72.png",
            "first_name": "Amit",
            "real_name": "Amit Patel",
            "display_name": "Amit Patel",
            "team": "T4G9NBD2M",
            "name": "amitio.k.p",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1640873890.433900",
        "parent_user_id": "U02JMC39NLW",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "tdH",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "ah i see, this is perfect! thanks "
                            },
                            {
                                "type": "emoji",
                                "name": "slightly_smiling_face",
                                "unicode": "1f642"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1640881353.435400",
        "client_msg_id": "696BA432-9B8E-4D10-B32F-6ACF48798AB8",
        "text": "Bflw\/flumine will do this for you ",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1640873890.433900",
        "parent_user_id": "U02JMC39NLW",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "EifH",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Bflw\/flumine will do this for you "
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1640881403.435600",
        "client_msg_id": "10CDFE33-7B97-41CE-A7B8-B5B754C9BADE",
        "text": "<https:\/\/liampauling.github.io\/flumine\/quickstart\/#listener-kwargs|https:\/\/liampauling.github.io\/flumine\/quickstart\/#listener-kwargs>",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1640873890.433900",
        "parent_user_id": "U02JMC39NLW",
        "attachments": [
            {
                "from_url": "https:\/\/liampauling.github.io\/flumine\/quickstart\/#listener-kwargs",
                "service_icon": "https:\/\/liampauling.github.io\/flumine\/assets\/images\/favicon.png",
                "id": 1,
                "original_url": "https:\/\/liampauling.github.io\/flumine\/quickstart\/#listener-kwargs",
                "fallback": "QuickStart - flumine",
                "text": "Trading framework for Betfair API-NG.",
                "title": "QuickStart - flumine",
                "title_link": "https:\/\/liampauling.github.io\/flumine\/quickstart\/#listener-kwargs",
                "service_name": "liampauling.github.io"
            }
        ],
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Jg9k",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "link",
                                "url": "https:\/\/liampauling.github.io\/flumine\/quickstart\/#listener-kwargs",
                                "text": "https:\/\/liampauling.github.io\/flumine\/quickstart\/#listener-kwargs"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U02JMC39NLW",
        "type": "message",
        "ts": "1640881540.435900",
        "client_msg_id": "b1c9e080-abe5-4d73-abb0-00bd8fdd84c6",
        "text": "nice, will use that! :thumbsup:",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "b2f3f9f6d654",
            "image_72": "https:\/\/avatars.slack-edge.com\/2021-10-23\/2640145310274_b2f3f9f6d65432d7247c_72.png",
            "first_name": "Amit",
            "real_name": "Amit Patel",
            "display_name": "Amit Patel",
            "team": "T4G9NBD2M",
            "name": "amitio.k.p",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1640873890.433900",
        "parent_user_id": "U02JMC39NLW",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "zn3u",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "nice, will use that! "
                            },
                            {
                                "type": "emoji",
                                "name": "thumbsup",
                                "unicode": "1f44d"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UBS7QANF3",
        "type": "message",
        "ts": "1640883118.436100",
        "client_msg_id": "5562ab5b-6304-47c4-80db-6366390667d5",
        "text": "Good to know",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gaaf844a4a90",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/eaaf844a4a905431d83430e563b077aa.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png",
            "first_name": "",
            "real_name": "Maurice Berk",
            "display_name": "Mo",
            "team": "T4G9NBD2M",
            "name": "maurice",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1640873890.433900",
        "parent_user_id": "U02JMC39NLW",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "errJ",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Good to know"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1640893253.436300",
        "client_msg_id": "702fa23e-7176-4da4-ba1d-ee40558bbcea",
        "text": "As above, you should treat each bet independently and only place if you have value, closing it simply because its the end of the point\/game will be -ev",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1640867763.432300",
        "parent_user_id": "U024A7ACBA7",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "i7qx",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "As above, you should treat each bet independently and only place if you have value, closing it simply because its the end of the point\/game will be -ev"
                            }
                        ]
                    }
                ]
            }
        ]
    }
]