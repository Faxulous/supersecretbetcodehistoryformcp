[
    {
        "user": "U02RN7YDRQ9",
        "type": "message",
        "ts": "1645564945.972459",
        "client_msg_id": "3d544a07-7e81-467c-a0a5-72bdccf57854",
        "text": "I've finally worked out a combination of market filters and strategy parameters and as I read it flumine provides one common order stream and a discreet market stream for each strategy ie if the framework is running 2 strategies it uses up 3 connections.\n\nQuestion: I'm running some instances of the sample marketrecorder and each one has an open order stream. How can I close that order stream and release a connection - or must it stay open ? I've looked in the debugger, docs etc but can't see an obvious way to reach the stream object and call stop() - I thought I had it with client.order_stream but that was a bool flag ! (I know I should wrap the recorders in one instance but that's a job for another day)",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "ge46f1f8b708",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/e46f1f8b708a630e3191de7b2c42b1d1.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png",
            "first_name": "edblock",
            "real_name": "edblock",
            "display_name": "foxwood",
            "team": "T4G9NBD2M",
            "name": "eanb",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "VX8",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I've finally worked out a combination of market filters and strategy parameters and as I read it flumine provides one common order stream and a discreet market stream for each strategy ie if the framework is running 2 strategies it uses up 3 connections.\n\nQuestion: I'm running some instances of the sample marketrecorder and each one has an open order stream. How can I close that order stream and release a connection - or must it stay open ? I've looked in the debugger, docs etc but can't see an obvious way to reach the stream object and call stop() - I thought I had it with client.order_stream but that was a bool flag ! (I know I should wrap the recorders in one instance but that's a job for another day)"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1645566322.892649",
        "client_msg_id": "E1221F42-CDF2-4CB7-8523-1E0AC0A151EC",
        "text": "client.recorder_mode (I think that is what it is called) ",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "GOQ",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "client.recorder_mode (I think that is what it is called) "
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U02RN7YDRQ9",
        "type": "message",
        "ts": "1645567879.050409",
        "client_msg_id": "b183bd05-e623-47ae-9d2c-58051c1297ba",
        "text": "There's a flumine.client.market_recording_mode bool. Nothing in the recorders sets it to True - if it was set it stops the workers poll_account_balance and poll_market_closure being created. I'll try setting it to True and see what happens :slightly_smiling_face: Thanks.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "ge46f1f8b708",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/e46f1f8b708a630e3191de7b2c42b1d1.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png",
            "first_name": "edblock",
            "real_name": "edblock",
            "display_name": "foxwood",
            "team": "T4G9NBD2M",
            "name": "eanb",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "J5y",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "There's a flumine.client.market_recording_mode bool. Nothing in the recorders sets it to True - if it was set it stops the workers poll_account_balance and poll_market_closure being created. I'll try setting it to True and see what happens "
                            },
                            {
                                "type": "emoji",
                                "name": "slightly_smiling_face",
                                "unicode": "1f642"
                            },
                            {
                                "type": "text",
                                "text": " Thanks."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U01MPC0GUK1",
        "type": "message",
        "ts": "1645568336.732109",
        "client_msg_id": "29795bd6-cba5-4ea7-9a1a-e7da6b48b5e8",
        "text": "Set `order_stream` to False when you set up the client:\n\n`client = clients.BetfairClient(trading, order_stream=False, market_recording_mode=True)`",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "3be8fa875ec4",
            "image_72": "https:\/\/avatars.slack-edge.com\/2021-02-15\/1752388211523_3be8fa875ec4866620ff_72.png",
            "first_name": "Beeblebrox",
            "real_name": "Beeblebrox",
            "display_name": "Beeblebrox",
            "team": "T4G9NBD2M",
            "name": "arch4672",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "ewc",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Set "
                            },
                            {
                                "type": "text",
                                "text": "order_stream",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " to False when you set up the client:\n\n"
                            },
                            {
                                "type": "text",
                                "text": "client = clients.BetfairClient(trading, order_stream=False, market_recording_mode=True)",
                                "style": {
                                    "code": true
                                }
                            }
                        ]
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "+1",
                "users": [
                    "U4H19D1D2"
                ],
                "count": 1
            }
        ]
    },
    {
        "user": "U02RN7YDRQ9",
        "type": "message",
        "ts": "1645568931.863689",
        "client_msg_id": "74db6314-c5d9-4ab4-8b3b-ee9c121e2cee",
        "text": "Oh dear - how simple ! Should have explored the flag a bit more. Many thanks :slightly_smiling_face:",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "ge46f1f8b708",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/e46f1f8b708a630e3191de7b2c42b1d1.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png",
            "first_name": "edblock",
            "real_name": "edblock",
            "display_name": "foxwood",
            "team": "T4G9NBD2M",
            "name": "eanb",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "3Jq",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Oh dear - how simple ! Should have explored the flag a bit more. Many thanks "
                            },
                            {
                                "type": "emoji",
                                "name": "slightly_smiling_face",
                                "unicode": "1f642"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "subtype": "channel_join",
        "user": "U033TGD4GB1",
        "text": "<@U033TGD4GB1> has joined the channel",
        "type": "message",
        "ts": "1645578588.216679"
    }
]