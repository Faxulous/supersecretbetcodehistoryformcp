[
    {
        "user": "UFTBRB3F1",
        "type": "message",
        "ts": "1614335379.066000",
        "client_msg_id": "8b3234f3-e2a0-4901-b77a-d6f5cbfcec8b",
        "text": "<@U4H19D1D2> in flumine 1.17.2 I saw there's a mention of a bug fix around potential exposure, I'm seeing a lot of these:\n\n```INFO:flumine.order.order:Order status update: Violation\n{\"asctime\": \"2021-02-26 10:17:21,505\", \"levelname\": \"INFO\", \"message\": \"Order status update: Violation\", \"market_id\": \"1.179742967\", \"selection_id\": 28253114, \"handicap\": 0, \"id\": \"138336274415049218\", \"customer_order_ref\": \"6012fe3b915f7-138336274415049218\", \"bet_id\": null, \"date_time_created\": \"2021-02-26 10:17:21.504921\", \"publish_time\": null, \"trade\": {\"id\": \"d00f5a01-781b-11eb-8ae9-2016d8944b85\", \"strategy\": \"simple_lay_mm\", \"place_reset_seconds\": 0.0, \"reset_seconds\": 0.0, \"orders\": [\"138336274415049218\"], \"notes\": \"\", \"market_notes\": null, \"status\": \"Live\", \"status_log\": \"\"}, \"order_type\": {\"order_type\": \"Limit\", \"price\": 16.0, \"size\": 1.0, \"persistence_type\": \"PERSIST\", \"time_in_force\": null, \"min_fill_size\": null, \"bet_target_type\": null, \"bet_target_size\": null}, \"info\": {\"side\": \"LAY\", \"size_matched\": 0.0, \"size_remaining\": 1.0, \"size_cancelled\": 0.0, \"size_lapsed\": 0.0, \"size_voided\": 0.0, \"average_price_matched\": 0.0}, \"responses\": {\"date_time_placed\": null, \"elapsed_seconds_executable\": null}, \"runner_status\": null, \"status\": \"Violation\", \"status_log\": \"Violation\", \"violation_msg\": null, \"simulated\": {\"profit\": 0.0, \"piq\": 0.0, \"matched\": []}}\nWARNING:flumine.controls:Order has violated: STRATEGY_EXPOSURE Error: strategy.validate_order failure```\nWhen by my calcs I shouldn't be anywhere near a violation. I'm placing orders using market.place(order) as opposed to strategy.place and this is paper trading if it makes a difference.\n\nIs it possible a bug remains, or perhaps more likely is there another change I need to make (I read through the change logs but I appear to have missed something)?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g771e110be94",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/a771e110be945b86bede9d5c1bb551e3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png",
            "first_name": "",
            "real_name": "Newbie99",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "vjmehra",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "vKWP",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "user",
                                "user_id": "U4H19D1D2"
                            },
                            {
                                "type": "text",
                                "text": " in flumine 1.17.2 I saw there's a mention of a bug fix around potential exposure, I'm seeing a lot of these:\n\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "INFO:flumine.order.order:Order status update: Violation\n{\"asctime\": \"2021-02-26 10:17:21,505\", \"levelname\": \"INFO\", \"message\": \"Order status update: Violation\", \"market_id\": \"1.179742967\", \"selection_id\": 28253114, \"handicap\": 0, \"id\": \"138336274415049218\", \"customer_order_ref\": \"6012fe3b915f7-138336274415049218\", \"bet_id\": null, \"date_time_created\": \"2021-02-26 10:17:21.504921\", \"publish_time\": null, \"trade\": {\"id\": \"d00f5a01-781b-11eb-8ae9-2016d8944b85\", \"strategy\": \"simple_lay_mm\", \"place_reset_seconds\": 0.0, \"reset_seconds\": 0.0, \"orders\": [\"138336274415049218\"], \"notes\": \"\", \"market_notes\": null, \"status\": \"Live\", \"status_log\": \"\"}, \"order_type\": {\"order_type\": \"Limit\", \"price\": 16.0, \"size\": 1.0, \"persistence_type\": \"PERSIST\", \"time_in_force\": null, \"min_fill_size\": null, \"bet_target_type\": null, \"bet_target_size\": null}, \"info\": {\"side\": \"LAY\", \"size_matched\": 0.0, \"size_remaining\": 1.0, \"size_cancelled\": 0.0, \"size_lapsed\": 0.0, \"size_voided\": 0.0, \"average_price_matched\": 0.0}, \"responses\": {\"date_time_placed\": null, \"elapsed_seconds_executable\": null}, \"runner_status\": null, \"status\": \"Violation\", \"status_log\": \"Violation\", \"violation_msg\": null, \"simulated\": {\"profit\": 0.0, \"piq\": 0.0, \"matched\": []}}\nWARNING:flumine.controls:Order has violated: STRATEGY_EXPOSURE Error: strategy.validate_order failure"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "\nWhen by my calcs I shouldn't be anywhere near a violation. I'm placing orders using market.place(order) as opposed to strategy.place and this is paper trading if it makes a difference.\n\nIs it possible a bug remains, or perhaps more likely is there another change I need to make (I read through the change logs but I appear to have missed something)?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1614335523.067200",
        "client_msg_id": "f29bf64f-ab96-404a-ad84-fd85e28efb54",
        "text": "its because of the change in 1.17.0, you see the logs states `strategy.validate_order failure` this means this <https:\/\/github.com\/liampauling\/flumine\/blob\/806b5e1bd3f76886818da08dfa1d8db1a78e62fd\/flumine\/strategy\/strategy.py#L179|function> is returning false which is likely because you already have a live trade. I am basically trying to force the user to check the `RunnerContext` first, see <https:\/\/github.com\/liampauling\/flumine\/blob\/806b5e1bd3f76886818da08dfa1d8db1a78e62fd\/examples\/strategies\/lowestlayer.py#L37|here> for example",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "attachments": [
            {
                "fallback": "[liampauling\/flumine] examples\/strategies\/lowestlayer.py:37",
                "title": "examples\/strategies\/lowestlayer.py:37",
                "footer": "<https:\/\/github.com\/liampauling\/flumine|liampauling\/flumine>",
                "id": 1,
                "title_link": "https:\/\/github.com\/liampauling\/flumine\/blob\/806b5e1bd3f76886818da08dfa1d8db1a78e62fd\/examples\/strategies\/lowestlayer.py#L37",
                "footer_icon": "https:\/\/github.githubassets.com\/favicon.ico",
                "color": "24292f",
                "mrkdwn_in": [
                    "text"
                ],
                "bot_id": "B01144Z0734",
                "app_unfurl_url": "https:\/\/github.com\/liampauling\/flumine\/blob\/806b5e1bd3f76886818da08dfa1d8db1a78e62fd\/examples\/strategies\/lowestlayer.py#L37",
                "is_app_unfurl": true
            }
        ],
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "bztko",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "its because of the change in 1.17.0, you see the logs states "
                            },
                            {
                                "type": "text",
                                "text": "strategy.validate_order failure",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " this means this "
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/github.com\/liampauling\/flumine\/blob\/806b5e1bd3f76886818da08dfa1d8db1a78e62fd\/flumine\/strategy\/strategy.py#L179",
                                "text": "function"
                            },
                            {
                                "type": "text",
                                "text": " is returning false which is likely because you already have a live trade. I am basically trying to force the user to check the "
                            },
                            {
                                "type": "text",
                                "text": "RunnerContext",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " first, see "
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/github.com\/liampauling\/flumine\/blob\/806b5e1bd3f76886818da08dfa1d8db1a78e62fd\/examples\/strategies\/lowestlayer.py#L37",
                                "text": "here"
                            },
                            {
                                "type": "text",
                                "text": " for example"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1614335599.068400",
        "client_msg_id": "e778c0ca-2924-434b-86d5-d6a341ad7441",
        "text": "tbh we could look to remove the warning but I want to tell the user when they make a `place_order` that has failed to actually execute",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "pvx9T",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "tbh we could look to remove the warning but I want to tell the user when they make a "
                            },
                            {
                                "type": "text",
                                "text": "place_order",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " that has failed to actually execute"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UFTBRB3F1",
        "type": "message",
        "ts": "1614336143.069100",
        "client_msg_id": "72892883-5c8f-413a-9abd-85594a81d692",
        "text": "Ah got you, okay yes that makes sense, thanks, I think you're right with the approach, best for the user to handle. Much appreciated",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g771e110be94",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/a771e110be945b86bede9d5c1bb551e3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png",
            "first_name": "",
            "real_name": "Newbie99",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "vjmehra",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "E+o57",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Ah got you, okay yes that makes sense, thanks, I think you're right with the approach, best for the user to handle. Much appreciated"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "ULDAVFDRP",
        "type": "message",
        "ts": "1614339053.069400",
        "client_msg_id": "57bbbbd2-bb8d-430b-a18f-7235cabaaa82",
        "text": "anyone getting api issues ?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g46fe1c1bf03",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/b46fe1c1bf03e18d951e7032fb494283.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png",
            "first_name": "",
            "real_name": "Oliver Varney",
            "display_name": "Oliver Varney",
            "team": "T4G9NBD2M",
            "name": "oliverashleyvarney",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "jrNM",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "anyone getting api issues ?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1614339535.069600",
        "client_msg_id": "1b83a47d-7afd-40ec-97f8-53a698dd9545",
        "text": "seems slow",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "2Uy",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "seems slow"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "ULDAVFDRP",
        "type": "message",
        "ts": "1614339575.070000",
        "client_msg_id": "be6bd09b-13b1-4bcf-82cf-a15f7933b703",
        "text": "sentry sending me alerts :slightly_smiling_face:",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g46fe1c1bf03",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/b46fe1c1bf03e18d951e7032fb494283.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png",
            "first_name": "",
            "real_name": "Oliver Varney",
            "display_name": "Oliver Varney",
            "team": "T4G9NBD2M",
            "name": "oliverashleyvarney",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "7JS",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "sentry sending me alerts "
                            },
                            {
                                "type": "emoji",
                                "name": "slightly_smiling_face",
                                "unicode": "1f642"
                            }
                        ]
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "sunglasses",
                "users": [
                    "U4H19D1D2"
                ],
                "count": 1
            }
        ]
    },
    {
        "subtype": "channel_join",
        "user": "U01PEJH7U7P",
        "text": "<@U01PEJH7U7P> has joined the channel",
        "type": "message",
        "ts": "1614354570.070300"
    },
    {
        "user": "UFTBRB3F1",
        "type": "message",
        "ts": "1614359705.072200",
        "client_msg_id": "b99354a3-9127-43a2-af39-f5a9fb7268a1",
        "text": "<@U4H19D1D2>, going back to what you said earlier, this behaviour seems odd for replace orders, for new orders I've put in the checks as you suggested and that all works, but these logs for a replace, seem to suggest that it is incorrectly calling the replacement order a violation when it shouldn't be (apologies if I'm missing something obvious and am I reading this wrong)?\n\n",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g771e110be94",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/a771e110be945b86bede9d5c1bb551e3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png",
            "first_name": "",
            "real_name": "Newbie99",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "vjmehra",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "kYj0U",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "user",
                                "user_id": "U4H19D1D2"
                            },
                            {
                                "type": "text",
                                "text": ", going back to what you said earlier, this behaviour seems odd for replace orders, for new orders I've put in the checks as you suggested and that all works, but these logs for a replace, seem to suggest that it is incorrectly calling the replacement order a violation when it shouldn't be (apologies if I'm missing something obvious and am I reading this wrong)?\n\n"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UFTBRB3F1",
        "type": "message",
        "ts": "1614359705.072300",
        "client_msg_id": "b99354a3-9127-43a2-af39-f5a9fb7268a1",
        "text": "```{\"asctime\": \"2021-02-26 15:42:09,137\", \"levelname\": \"INFO\", \"message\": \"Order status update: Execution complete\", \"market_id\": \"1.179756075\", \"selection_id\": 28040651, \"handicap\": 0, \"id\": \"138336469255121051\", \"customer_order_ref\": \"6012fe3b915f7-138336469255121051\", \"bet_id\": \"100000000018\", \"date_time_created\": \"2021-02-26 15:42:05.512104\", \"publish_time\": \"2021-02-26 15:42:05.763000\", \"trade\": {\"id\": \"2d6ee89a-7849-11eb-841c-2016d8944b85\", \"strategy\": \"simple_lay_mm\", \"place_reset_seconds\": 0.0, \"reset_seconds\": 0.0, \"orders\": [\"138336469255121051\"], \"notes\": \"\", \"market_notes\": \"11,11.5,11.5\", \"status\": \"Pending\", \"status_log\": \"Pending, Live, Pending\"}, \"order_type\": {\"order_type\": \"Limit\", \"price\": 10.5, \"size\": 1.57, \"persistence_type\": \"PERSIST\", \"time_in_force\": null, \"min_fill_size\": null, \"bet_target_type\": null, \"bet_target_size\": null}, \"info\": {\"side\": \"LAY\", \"size_matched\": 0.0, \"size_remaining\": 0.0, \"size_cancelled\": 1.57, \"size_lapsed\": 0.0, \"size_voided\": 0.0, \"average_price_matched\": 0.0}, \"responses\": {\"date_time_placed\": \"2021-02-26 15:42:05.716102\", \"elapsed_seconds_executable\": null}, \"runner_status\": null, \"status\": \"Execution complete\", \"status_log\": \"Pending, Executable, Replacing, Execution complete\", \"violation_msg\": null, \"simulated\": {\"profit\": 0.0, \"piq\": 139.7, \"matched\": []}}\nINFO:flumine.execution.baseexecution:Order Cancel: SUCCESS\n{\"asctime\": \"2021-02-26 15:42:09,138\", \"levelname\": \"INFO\", \"message\": \"Order Cancel: SUCCESS\", \"bet_id\": \"100000000018\", \"order_id\": \"138336469255121051\", \"status\": \"SUCCESS\", \"error_code\": null}\nINFO:flumine.execution.baseexecution:Order Replace: SUCCESS\n{\"asctime\": \"2021-02-26 15:42:09,139\", \"levelname\": \"INFO\", \"message\": \"Order Replace: SUCCESS\", \"bet_id\": null, \"order_id\": \"138336469291386029\", \"status\": \"SUCCESS\", \"error_code\": null}\nINFO:flumine.order.order:Order status update: Violation\n{\"asctime\": \"2021-02-26 15:42:09,140\", \"levelname\": \"INFO\", \"message\": \"Order status update: Violation\", \"market_id\": \"1.179756075\", \"selection_id\": 28040651, \"handicap\": 0, \"id\": \"138336469291386029\", \"customer_order_ref\": \"6012fe3b915f7-138336469291386029\", \"bet_id\": \"100000000057\", \"date_time_created\": \"2021-02-26 15:42:09.138602\", \"publish_time\": null, \"trade\": {\"id\": \"2d6ee89a-7849-11eb-841c-2016d8944b85\", \"strategy\": \"simple_lay_mm\", \"place_reset_seconds\": 0.0, \"reset_seconds\": 0.0, \"orders\": [\"138336469255121051\", \"138336469291386029\"], \"notes\": \"\", \"market_notes\": \"11,11.5,11.5\", \"status\": \"Pending\", \"status_log\": \"Pending, Live, Pending\"}, \"order_type\": {\"order_type\": \"Limit\", \"price\": 11.0, \"size\": 1.57, \"persistence_type\": \"PERSIST\", \"time_in_force\": null, \"min_fill_size\": null, \"bet_target_type\": null, \"bet_target_size\": null}, \"info\": {\"side\": \"LAY\", \"size_matched\": 0.0, \"size_remaining\": 1.57, \"size_cancelled\": 0.0, \"size_lapsed\": 0.0, \"size_voided\": 0.0, \"average_price_matched\": 0.0}, \"responses\": {\"date_time_placed\": \"2021-02-26 15:42:09.139609\", \"elapsed_seconds_executable\": null}, \"runner_status\": null, \"status\": \"Violation\", \"status_log\": \"Violation\", \"violation_msg\": null, \"simulated\": {\"profit\": 0.0, \"piq\": 254.41, \"matched\": []}}\nWARNING:flumine.controls:Order has violated: STRATEGY_EXPOSURE Error: strategy.validate_order failure\n{\"asctime\": \"2021-02-26 15:42:09,141\", \"levelname\": \"WARNING\", \"message\": \"Order has violated: STRATEGY_EXPOSURE Error: strategy.validate_order failure\", \"control\": \"STRATEGY_EXPOSURE\", \"error\": \"strategy.validate_order failure\", \"order\": {\"market_id\": \"1.179756075\", \"selection_id\": 28040651, \"handicap\": 0, \"id\": \"138336469291386029\", \"customer_order_ref\": \"6012fe3b915f7-138336469291386029\", \"bet_id\": \"100000000057\", \"date_time_created\": \"2021-02-26 15:42:09.138602\", \"publish_time\": null, \"trade\": {\"id\": \"2d6ee89a-7849-11eb-841c-2016d8944b85\", \"strategy\": \"simple_lay_mm\", \"place_reset_seconds\": 0.0, \"reset_seconds\": 0.0, \"orders\": [\"138336469255121051\", \"138336469291386029\"], \"notes\": \"\", \"market_notes\": \"11,11.5,11.5\", \"status\": \"Pending\", \"status_log\": \"Pending, Live, Pending\"}, \"order_type\": {\"order_type\": \"Limit\", \"price\": 11.0, \"size\": 1.57, \"persistence_type\": \"PERSIST\", \"time_in_force\": null, \"min_fill_size\": null, \"bet_target_type\": null, \"bet_target_size\": null}, \"info\": {\"side\": \"LAY\", \"size_matched\": 0.0, \"size_remaining\": 1.57, \"size_cancelled\": 0.0, \"size_lapsed\": 0.0, \"size_voided\": 0.0, \"average_price_matched\": 0.0}, \"responses\": {\"date_time_placed\": \"2021-02-26 15:42:09.139609\", \"elapsed_seconds_executable\": null}, \"runner_status\": null, \"status\": \"Violation\", \"status_log\": \"Violation\", \"violation_msg\": \"Order has violated: STRATEGY_EXPOSURE Error: strategy.validate_order failure\", \"simulated\": {\"profit\": 0.0, \"piq\": 254.41, \"matched\": []}}} ```",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g771e110be94",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/a771e110be945b86bede9d5c1bb551e3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png",
            "first_name": "",
            "real_name": "Newbie99",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "vjmehra",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "kYj0U-RmD",
                "elements": [
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "{\"asctime\": \"2021-02-26 15:42:09,137\", \"levelname\": \"INFO\", \"message\": \"Order status update: Execution complete\", \"market_id\": \"1.179756075\", \"selection_id\": 28040651, \"handicap\": 0, \"id\": \"138336469255121051\", \"customer_order_ref\": \"6012fe3b915f7-138336469255121051\", \"bet_id\": \"100000000018\", \"date_time_created\": \"2021-02-26 15:42:05.512104\", \"publish_time\": \"2021-02-26 15:42:05.763000\", \"trade\": {\"id\": \"2d6ee89a-7849-11eb-841c-2016d8944b85\", \"strategy\": \"simple_lay_mm\", \"place_reset_seconds\": 0.0, \"reset_seconds\": 0.0, \"orders\": [\"138336469255121051\"], \"notes\": \"\", \"market_notes\": \"11,11.5,11.5\", \"status\": \"Pending\", \"status_log\": \"Pending, Live, Pending\"}, \"order_type\": {\"order_type\": \"Limit\", \"price\": 10.5, \"size\": 1.57, \"persistence_type\": \"PERSIST\", \"time_in_force\": null, \"min_fill_size\": null, \"bet_target_type\": null, \"bet_target_size\": null}, \"info\": {\"side\": \"LAY\", \"size_matched\": 0.0, \"size_remaining\": 0.0, \"size_cancelled\": 1.57, \"size_lapsed\": 0.0, \"size_voided\": 0.0, \"average_price_matched\": 0.0}, \"responses\": {\"date_time_placed\": \"2021-02-26 15:42:05.716102\", \"elapsed_seconds_executable\": null}, \"runner_status\": null, \"status\": \"Execution complete\", \"status_log\": \"Pending, Executable, Replacing, Execution complete\", \"violation_msg\": null, \"simulated\": {\"profit\": 0.0, \"piq\": 139.7, \"matched\": []}}\nINFO:flumine.execution.baseexecution:Order Cancel: SUCCESS\n{\"asctime\": \"2021-02-26 15:42:09,138\", \"levelname\": \"INFO\", \"message\": \"Order Cancel: SUCCESS\", \"bet_id\": \"100000000018\", \"order_id\": \"138336469255121051\", \"status\": \"SUCCESS\", \"error_code\": null}\nINFO:flumine.execution.baseexecution:Order Replace: SUCCESS\n{\"asctime\": \"2021-02-26 15:42:09,139\", \"levelname\": \"INFO\", \"message\": \"Order Replace: SUCCESS\", \"bet_id\": null, \"order_id\": \"138336469291386029\", \"status\": \"SUCCESS\", \"error_code\": null}\nINFO:flumine.order.order:Order status update: Violation\n{\"asctime\": \"2021-02-26 15:42:09,140\", \"levelname\": \"INFO\", \"message\": \"Order status update: Violation\", \"market_id\": \"1.179756075\", \"selection_id\": 28040651, \"handicap\": 0, \"id\": \"138336469291386029\", \"customer_order_ref\": \"6012fe3b915f7-138336469291386029\", \"bet_id\": \"100000000057\", \"date_time_created\": \"2021-02-26 15:42:09.138602\", \"publish_time\": null, \"trade\": {\"id\": \"2d6ee89a-7849-11eb-841c-2016d8944b85\", \"strategy\": \"simple_lay_mm\", \"place_reset_seconds\": 0.0, \"reset_seconds\": 0.0, \"orders\": [\"138336469255121051\", \"138336469291386029\"], \"notes\": \"\", \"market_notes\": \"11,11.5,11.5\", \"status\": \"Pending\", \"status_log\": \"Pending, Live, Pending\"}, \"order_type\": {\"order_type\": \"Limit\", \"price\": 11.0, \"size\": 1.57, \"persistence_type\": \"PERSIST\", \"time_in_force\": null, \"min_fill_size\": null, \"bet_target_type\": null, \"bet_target_size\": null}, \"info\": {\"side\": \"LAY\", \"size_matched\": 0.0, \"size_remaining\": 1.57, \"size_cancelled\": 0.0, \"size_lapsed\": 0.0, \"size_voided\": 0.0, \"average_price_matched\": 0.0}, \"responses\": {\"date_time_placed\": \"2021-02-26 15:42:09.139609\", \"elapsed_seconds_executable\": null}, \"runner_status\": null, \"status\": \"Violation\", \"status_log\": \"Violation\", \"violation_msg\": null, \"simulated\": {\"profit\": 0.0, \"piq\": 254.41, \"matched\": []}}\nWARNING:flumine.controls:Order has violated: STRATEGY_EXPOSURE Error: strategy.validate_order failure\n{\"asctime\": \"2021-02-26 15:42:09,141\", \"levelname\": \"WARNING\", \"message\": \"Order has violated: STRATEGY_EXPOSURE Error: strategy.validate_order failure\", \"control\": \"STRATEGY_EXPOSURE\", \"error\": \"strategy.validate_order failure\", \"order\": {\"market_id\": \"1.179756075\", \"selection_id\": 28040651, \"handicap\": 0, \"id\": \"138336469291386029\", \"customer_order_ref\": \"6012fe3b915f7-138336469291386029\", \"bet_id\": \"100000000057\", \"date_time_created\": \"2021-02-26 15:42:09.138602\", \"publish_time\": null, \"trade\": {\"id\": \"2d6ee89a-7849-11eb-841c-2016d8944b85\", \"strategy\": \"simple_lay_mm\", \"place_reset_seconds\": 0.0, \"reset_seconds\": 0.0, \"orders\": [\"138336469255121051\", \"138336469291386029\"], \"notes\": \"\", \"market_notes\": \"11,11.5,11.5\", \"status\": \"Pending\", \"status_log\": \"Pending, Live, Pending\"}, \"order_type\": {\"order_type\": \"Limit\", \"price\": 11.0, \"size\": 1.57, \"persistence_type\": \"PERSIST\", \"time_in_force\": null, \"min_fill_size\": null, \"bet_target_type\": null, \"bet_target_size\": null}, \"info\": {\"side\": \"LAY\", \"size_matched\": 0.0, \"size_remaining\": 1.57, \"size_cancelled\": 0.0, \"size_lapsed\": 0.0, \"size_voided\": 0.0, \"average_price_matched\": 0.0}, \"responses\": {\"date_time_placed\": \"2021-02-26 15:42:09.139609\", \"elapsed_seconds_executable\": null}, \"runner_status\": null, \"status\": \"Violation\", \"status_log\": \"Violation\", \"violation_msg\": \"Order has violated: STRATEGY_EXPOSURE Error: strategy.validate_order failure\", \"simulated\": {\"profit\": 0.0, \"piq\": 254.41, \"matched\": []}}} "
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "subtype": "channel_join",
        "user": "U01PQ9SR9MJ",
        "text": "<@U01PQ9SR9MJ> has joined the channel",
        "type": "message",
        "ts": "1614359729.072400"
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1614363491.073300",
        "client_msg_id": "4EE66EA3-2130-47FE-B1D0-CABE5FEF3C92",
        "text": "Ah shit, this is a bug, can you create an issue? I missed this as I don’t use replace ",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "sD7m",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Ah shit, this is a bug, can you create an issue? I missed this as I don’t use replace "
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UFTBRB3F1",
        "type": "message",
        "ts": "1614363692.073500",
        "client_msg_id": "67ecfda2-46ea-455d-933a-447381c1917f",
        "text": "sure np, will add now",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g771e110be94",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/a771e110be945b86bede9d5c1bb551e3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png",
            "first_name": "",
            "real_name": "Newbie99",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "vjmehra",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "RiwW",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "sure np, will add now"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UFTBRB3F1",
        "type": "message",
        "ts": "1614363769.074400",
        "client_msg_id": "e36c0591-e833-4873-a638-189f663abab7",
        "text": "I only use replace on one new strategy I'm testing...just so happened that was the one I used to test today, ha!",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g771e110be94",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/a771e110be945b86bede9d5c1bb551e3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png",
            "first_name": "",
            "real_name": "Newbie99",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "vjmehra",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Neco1",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I only use replace on one new strategy I'm testing...just so happened that was the one I used to test today, ha!"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UFTBRB3F1",
        "type": "message",
        "ts": "1614363996.074600",
        "client_msg_id": "51335927-0f05-485c-ac03-841c84e46cb8",
        "text": "<https:\/\/github.com\/liampauling\/flumine\/issues\/382#issue-817570814>",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g771e110be94",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/a771e110be945b86bede9d5c1bb551e3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png",
            "first_name": "",
            "real_name": "Newbie99",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "vjmehra",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "eBt=x",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "link",
                                "url": "https:\/\/github.com\/liampauling\/flumine\/issues\/382#issue-817570814"
                            }
                        ]
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "+1",
                "users": [
                    "U4H19D1D2"
                ],
                "count": 1
            }
        ]
    },
    {
        "user": "U016TGY3676",
        "type": "message",
        "ts": "1614367345.077900",
        "client_msg_id": "88c835a2-0fab-4309-ba1a-0c45a8f0d41d",
        "text": "In a Flumine strategy, what are the (dis)advantages of `process_orders()` vs `market.blotter.live_orders` ? I presume the actual orders are updated at the same time and both of these contain the _same_ orders?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g6a681220e11",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/6a681220e11c1a2ed3685375d658dadb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0001-72.png",
            "first_name": "",
            "real_name": "birchy",
            "display_name": "birchy",
            "team": "T4G9NBD2M",
            "name": "birchy",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Op9Jy",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "In a Flumine strategy, what are the (dis)advantages of "
                            },
                            {
                                "type": "text",
                                "text": "process_orders()",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " vs "
                            },
                            {
                                "type": "text",
                                "text": "market.blotter.live_orders",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " ? I presume the actual orders are updated at the same time and both of these contain the "
                            },
                            {
                                "type": "text",
                                "text": "same",
                                "style": {
                                    "italic": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " orders?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1614367533.079000",
        "client_msg_id": "A8AAF105-1B68-459A-ABCD-4CE3EB122FEE",
        "text": "Yeah they are the same but process_orders gets called on any update or every 0.25s if there are live orders in the market ",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Ms0SF",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Yeah they are the same but process_orders gets called on any update or every 0.25s if there are live orders in the market "
                            }
                        ]
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "+1",
                "users": [
                    "U016TGY3676"
                ],
                "count": 1
            }
        ]
    },
    {
        "user": "U016TGY3676",
        "type": "message",
        "ts": "1614391468.088500",
        "client_msg_id": "206d2bad-37b4-497c-bce8-a52960bb66d1",
        "text": "Did a `pip` Flumine upgrade earlier am now getting lots of errors in my backtest code:\n```File \"...snip...\/tradingcontrols.py\", line 22, in _validate\nif order.EXCHANGE == ExchangeType.BETFAIR:\nAttributeError: 'Market' object has no attribute 'EXCHANGE'```\nNot sure if this is a bug or whether I need to make any further changes to my strategy code? Have added the `RunnerContext` check as discussed between <@U4H19D1D2> and <@UFTBRB3F1> above. Note that I'm not using `market.replace_order()` ...these errors are from plain old `market.place_order(order)`",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g6a681220e11",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/6a681220e11c1a2ed3685375d658dadb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0001-72.png",
            "first_name": "",
            "real_name": "birchy",
            "display_name": "birchy",
            "team": "T4G9NBD2M",
            "name": "birchy",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "xCGdN",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Did a "
                            },
                            {
                                "type": "text",
                                "text": "pip",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " Flumine upgrade earlier am now getting lots of errors in my backtest code:\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "File \"...snip...\/tradingcontrols.py\", line 22, in _validate\nif order.EXCHANGE == ExchangeType.BETFAIR:\nAttributeError: 'Market' object has no attribute 'EXCHANGE'"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Not sure if this is a bug or whether I need to make any further changes to my strategy code? Have added the "
                            },
                            {
                                "type": "text",
                                "text": "RunnerContext",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " check as discussed between "
                            },
                            {
                                "type": "user",
                                "user_id": "U4H19D1D2"
                            },
                            {
                                "type": "text",
                                "text": " and "
                            },
                            {
                                "type": "user",
                                "user_id": "UFTBRB3F1"
                            },
                            {
                                "type": "text",
                                "text": " above. Note that I'm not using "
                            },
                            {
                                "type": "text",
                                "text": "market.replace_order()",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " ...these errors are from plain old "
                            },
                            {
                                "type": "text",
                                "text": "market.place_order(order)",
                                "style": {
                                    "code": true
                                }
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "subtype": "channel_join",
        "user": "U01QA0B6540",
        "text": "<@U01QA0B6540> has joined the channel",
        "type": "message",
        "ts": "1614411060.088700"
    }
]