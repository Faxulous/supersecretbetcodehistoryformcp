[
    {
        "subtype": "channel_join",
        "user": "U02JT3X9WUF",
        "text": "<@U02JT3X9WUF> has joined the channel",
        "type": "message",
        "ts": "1635336409.011900"
    },
    {
        "subtype": "channel_join",
        "user": "U02K7UR6U66",
        "text": "<@U02K7UR6U66> has joined the channel",
        "type": "message",
        "ts": "1635338899.012100"
    },
    {
        "user": "U0160E9HS2G",
        "type": "message",
        "ts": "1635346984.012300",
        "client_msg_id": "2b770759-a216-47fb-b1d9-1aa978e3704f",
        "text": "Just been trying to run a backtest by patching open with smart_open and passing a list of s3 market file paths into the market filter. On every file after the first I get RequestTimeTooSkewed error again. Think this is because of _readloop() in FlumineHistoricalGeneratorStream using the SimulatedDateTime object when it tries to open the file?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g824e1cc27e2",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/824e1cc27e2d6ad6290dfb21ea43f1df.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0013-72.png",
            "first_name": "",
            "real_name": "JC",
            "display_name": "JC",
            "team": "T4G9NBD2M",
            "name": "joecussen96",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1633459976.240500",
        "parent_user_id": "U4H19D1D2",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "dGGmW",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Just been trying to run a backtest by patching open with smart_open and passing a list of s3 market file paths into the market filter. On every file after the first I get RequestTimeTooSkewed error again. Think this is because of _readloop() in FlumineHistoricalGeneratorStream using the SimulatedDateTime object when it tries to open the file?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "subtype": "channel_join",
        "user": "U02K5EBKNBF",
        "text": "<@U02K5EBKNBF> has joined the channel",
        "type": "message",
        "ts": "1635347001.012500"
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1635348396.013300",
        "client_msg_id": "B6124FA4-9A9B-4AB3-A647-C08D8C84DB40",
        "text": "You can use a context manager for this, have a look in the latest closed issues and there is an example ",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1633459976.240500",
        "parent_user_id": "U4H19D1D2",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "eLXlA",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "You can use a context manager for this, have a look in the latest closed issues and there is an example "
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1635348400.013600",
        "client_msg_id": "10FD6324-20EF-42E0-A65F-3B02AAB2D2A8",
        "text": "Away from laptop atm ",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1633459976.240500",
        "parent_user_id": "U4H19D1D2",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Mrl",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Away from laptop atm "
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U0160E9HS2G",
        "type": "message",
        "ts": "1635350311.013800",
        "edited": {
            "user": "U0160E9HS2G",
            "ts": "1635354327.000000"
        },
        "client_msg_id": "0c0b9017-c211-486e-af68-011c9204bdfa",
        "text": "managed to get it to work by adding the context manager in source code before line `for event in stream_gen():` in backtest.py. Using more standard context manager, e.g.\n```with framework.simulated_datetime.real_time():\n    with mock.patch(\"builtins.open\", smart_open.open):\n        framework.add_strategy(strategy)\n        framework.run()```\n, results in errors.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g824e1cc27e2",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/824e1cc27e2d6ad6290dfb21ea43f1df.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0013-72.png",
            "first_name": "",
            "real_name": "JC",
            "display_name": "JC",
            "team": "T4G9NBD2M",
            "name": "joecussen96",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1633459976.240500",
        "parent_user_id": "U4H19D1D2",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "NCnXc",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "managed to get it to work by adding the context manager in source code before line "
                            },
                            {
                                "type": "text",
                                "text": "for event in stream_gen(): ",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "in backtest.py. Using more standard context manager, e.g.\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "with framework.simulated_datetime.real_time():\n    with mock.patch(\"builtins.open\", smart_open.open):\n        framework.add_strategy(strategy)\n        framework.run()"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": ", results in errors."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U010GM77S4W",
        "type": "message",
        "ts": "1635367552.016100",
        "edited": {
            "user": "U010GM77S4W",
            "ts": "1635368261.000000"
        },
        "client_msg_id": "b082c0a5-3358-44b0-8b24-dfeaf87cb220",
        "text": "So I'm placing market on close lay orders in a backtest on horse racing markets but sometimes the odds are different from the SP I'm recording to a market context. Not sure why this would happen? V 1.20.1\n\nEDIT: Could it be because of withdrawn runners after start of the race?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "66cae8f5399c",
            "image_72": "https:\/\/avatars.slack-edge.com\/2020-03-20\/1004508356769_66cae8f5399cf91a07ae_72.jpg",
            "first_name": "",
            "real_name": "mandelbot",
            "display_name": "mandelbot",
            "team": "T4G9NBD2M",
            "name": "demhadbale",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1635367552.016100",
        "reply_count": 12,
        "reply_users_count": 2,
        "latest_reply": "1635501645.022000",
        "reply_users": [
            "U4H19D1D2",
            "U010GM77S4W"
        ],
        "replies": [
            {
                "user": "U4H19D1D2",
                "ts": "1635399418.017200"
            },
            {
                "user": "U010GM77S4W",
                "ts": "1635401072.017400"
            },
            {
                "user": "U010GM77S4W",
                "ts": "1635401106.017600"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1635410509.018300"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1635410534.018500"
            },
            {
                "user": "U010GM77S4W",
                "ts": "1635411678.019100"
            },
            {
                "user": "U010GM77S4W",
                "ts": "1635411984.019300"
            },
            {
                "user": "U010GM77S4W",
                "ts": "1635411992.019500"
            },
            {
                "user": "U010GM77S4W",
                "ts": "1635415010.019900"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1635499990.021600"
            },
            {
                "user": "U010GM77S4W",
                "ts": "1635500324.021800"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1635501645.022000"
            }
        ],
        "is_locked": false,
        "subscribed": true,
        "last_read": "1635501645.022000",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "=8t5",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "So I'm placing market on close lay orders in a backtest on horse racing markets but sometimes the odds are different from the SP I'm recording to a market context. Not sure why this would happen? V 1.20.1\n\nEDIT: Could it be because of withdrawn runners after start of the race?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "subtype": "channel_join",
        "user": "U02KAQ3076W",
        "text": "<@U02KAQ3076W> has joined the channel",
        "type": "message",
        "ts": "1635373673.016600"
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1635399418.017200",
        "client_msg_id": "6D9A30B1-EFAF-4DBF-96C3-15B0FBC77629",
        "text": "Potentially, if you can share an example \/ create an issue I can have a look ",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1635367552.016100",
        "parent_user_id": "U010GM77S4W",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "F4zQ0",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Potentially, if you can share an example \/ create an issue I can have a look "
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "text": "So in the following market when I place a lay `MarketOnCloseOrder` on `runner.selection_id == 150434` I get odds at 5.8 but BSP is 5.585168",
        "files": [
            {
                "id": "F02K8Q423LM",
                "mode": "hidden_by_limit"
            }
        ],
        "upload": false,
        "user": "U010GM77S4W",
        "display_as_bot": false,
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "R5Mp",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "So in the following market when I place a lay "
                            },
                            {
                                "type": "text",
                                "text": "MarketOnCloseOrder",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " on "
                            },
                            {
                                "type": "text",
                                "text": "runner.selection_id == 150434",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " I get odds at 5.8 but BSP is 5.585168"
                            }
                        ]
                    }
                ]
            }
        ],
        "type": "message",
        "ts": "1635401072.017400",
        "client_msg_id": "e9b267a5-da02-47fe-8a38-75803d3f116e",
        "thread_ts": "1635367552.016100",
        "parent_user_id": "U010GM77S4W"
    },
    {
        "user": "U010GM77S4W",
        "type": "message",
        "ts": "1635401106.017600",
        "client_msg_id": "d21534ec-acd8-42a4-b624-27275ad3d35d",
        "text": "ill go ahead and create an issue but i've never done it before so don't shoot me if i mess it up :smile:",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "66cae8f5399c",
            "image_72": "https:\/\/avatars.slack-edge.com\/2020-03-20\/1004508356769_66cae8f5399cf91a07ae_72.jpg",
            "first_name": "",
            "real_name": "mandelbot",
            "display_name": "mandelbot",
            "team": "T4G9NBD2M",
            "name": "demhadbale",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1635367552.016100",
        "parent_user_id": "U010GM77S4W",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Ol95Q",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "ill go ahead and create an issue but i've never done it before so don't shoot me if i mess it up "
                            },
                            {
                                "type": "emoji",
                                "name": "smile",
                                "unicode": "1f604"
                            }
                        ]
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "+1",
                "users": [
                    "U4H19D1D2"
                ],
                "count": 1
            }
        ]
    },
    {
        "subtype": "channel_join",
        "user": "U02KE3RBW2Y",
        "text": "<@U02KE3RBW2Y> has joined the channel",
        "type": "message",
        "ts": "1635403546.017900"
    }
]