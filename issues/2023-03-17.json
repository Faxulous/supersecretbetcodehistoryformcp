[
    {
        "user": "U04SM5RK2TT",
        "type": "message",
        "ts": "1679047784.236729",
        "client_msg_id": "93770fcf-fc23-40eb-9aba-c2a0db36cbc5",
        "text": "Morning friends - has anyone tried to set up heartbeats on order streaming, using the betfair lightweight \"subscribe_to_orders\" method (with heartbeat_ms=500)?  I've set up a queue for receiving updates using the \"get\" method with a timeout of 2 seconds, and I receive order updates just fine, but never any heartbeats when there are no orders - instead I always timeout. Thanking in advance for any help!",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g3a3d5aa7c8d",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/bf92f2e08198683ddccab38724b145f7.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0000-72.png",
            "first_name": "Kosta",
            "real_name": "Kosta Pana",
            "display_name": "Kosta Pana",
            "team": "T4G9NBD2M",
            "name": "mahannamin590",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1679047784.236729",
        "reply_count": 13,
        "reply_users_count": 2,
        "latest_reply": "1679301549.806059",
        "reply_users": [
            "U4H19D1D2",
            "U04SM5RK2TT"
        ],
        "replies": [
            {
                "user": "U4H19D1D2",
                "ts": "1679049542.852279"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1679049571.830539"
            },
            {
                "user": "U04SM5RK2TT",
                "ts": "1679050347.359769"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1679050381.394309"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1679054184.862109"
            },
            {
                "user": "U04SM5RK2TT",
                "ts": "1679062127.262629"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1679062193.260119"
            },
            {
                "user": "U04SM5RK2TT",
                "ts": "1679062585.875349"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1679062603.344649"
            },
            {
                "user": "U04SM5RK2TT",
                "ts": "1679067138.174399"
            },
            {
                "user": "U04SM5RK2TT",
                "ts": "1679076642.822749"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1679300709.438279"
            },
            {
                "user": "U04SM5RK2TT",
                "ts": "1679301549.806059"
            }
        ],
        "is_locked": false,
        "subscribed": true,
        "last_read": "1679301549.806059",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Kon",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Morning friends - has anyone tried to set up heartbeats on order streaming, using the betfair lightweight \"subscribe_to_orders\" method (with heartbeat_ms=500)?  I've set up a queue for receiving updates using the \"get\" method with a timeout of 2 seconds, and I receive order updates just fine, but never any heartbeats when there are no orders - instead I always timeout. Thanking in advance for any help!"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U04EF7B7J68",
        "type": "message",
        "ts": "1679049518.594289",
        "client_msg_id": "a0ef6b6c-937f-43f9-b7f4-db45a6d5ce73",
        "text": "Hi, I'm just trying to get started and I've been trying to get the ExampleStrategy on the flumine documentation to work\n\nIt seems to be getting to the start bit, but then gets stuck creating the streams (gets stuck on line 427 of baseflumine.py)\n\nself.streams.start()\n\nI thought it was because I had a delayed API key which didn't have streaming permissions, but betfair get me permissions, but it still isn't working\n\nDoes anyone know what might be the issue?\n\nThanks",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g6f1596ae9f1",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/6f1596ae9f1ae5e24c0f1e1f07cc82dd.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png",
            "first_name": "Andrew",
            "real_name": "Andrew",
            "display_name": "Andrew",
            "team": "T4G9NBD2M",
            "name": "as16",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1679049518.594289",
        "reply_count": 15,
        "reply_users_count": 2,
        "latest_reply": "1679051960.070999",
        "reply_users": [
            "U4H19D1D2",
            "U04EF7B7J68"
        ],
        "replies": [
            {
                "user": "U4H19D1D2",
                "ts": "1679049587.903729"
            },
            {
                "user": "U04EF7B7J68",
                "ts": "1679049939.139389"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1679049959.746009"
            },
            {
                "user": "U04EF7B7J68",
                "ts": "1679051210.057789"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1679051262.578829"
            },
            {
                "user": "U04EF7B7J68",
                "ts": "1679051392.298109"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1679051404.815839"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1679051433.741889"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1679051522.237859"
            },
            {
                "user": "U04EF7B7J68",
                "ts": "1679051611.977269"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1679051636.252339"
            },
            {
                "user": "U04EF7B7J68",
                "ts": "1679051662.737779"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1679051671.787719"
            },
            {
                "user": "U04EF7B7J68",
                "ts": "1679051679.277909"
            },
            {
                "user": "U04EF7B7J68",
                "ts": "1679051960.070999"
            }
        ],
        "is_locked": false,
        "subscribed": true,
        "last_read": "1679051960.070999",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "jgX",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Hi, I'm just trying to get started and I've been trying to get the ExampleStrategy on the flumine documentation to work\n\nIt seems to be getting to the start bit, but then gets stuck creating the streams (gets stuck on line 427 of baseflumine.py)\n\nself.streams.start()\n\nI thought it was because I had a delayed API key which didn't have streaming permissions, but betfair get me permissions, but it still isn't working\n\nDoes anyone know what might be the issue?\n\nThanks"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1679049542.852279",
        "client_msg_id": "54c2eb61-4d4c-4f53-8500-cd7ea7424891",
        "text": "Logs?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1679047784.236729",
        "parent_user_id": "U04SM5RK2TT",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "ZrLw+",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Logs?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1679049571.830539",
        "client_msg_id": "90eba63e-fda4-4af7-b79e-96c0b5a5efa9",
        "text": "Heartbeats aren't sent through the queue but if you set your logging to debug you should see them",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1679047784.236729",
        "parent_user_id": "U04SM5RK2TT",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "BWKzf",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Heartbeats aren't sent through the queue but if you set your logging to debug you should see them"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1679049587.903729",
        "client_msg_id": "9647be5e-7f2c-428b-907e-31a258d99b7c",
        "text": "logs&gt;?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1679049518.594289",
        "parent_user_id": "U04EF7B7J68",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "LF6hp",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "logs>?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U04EF7B7J68",
        "type": "message",
        "ts": "1679049939.139389",
        "client_msg_id": "c4f80b8a-c68b-4429-af48-51a740bceac9",
        "text": "2023-03-16 20:59:02,419:INFO:Starting streams..\n2023-03-16 20:59:02,419:INFO:Starting SimulatedOrderStream 1000\n2023-03-16 20:59:02,419:INFO:Starting MarketStream 2000\n2023-03-16 20:59:02,419:INFO:Starting output_thread (MarketStream 2000)\n2023-03-16 20:59:02,419:INFO:[Register: 2001]: marketSubscription\n2023-03-16 20:59:02,419:INFO:[MarketStream: 2001]: \"MarketStream\" created\n2023-03-16 20:59:02,497:INFO:[MarketStream: 2001]: connection_id: 105-160323205902-5809353\n2023-03-16 20:59:02,513:ERROR:MarketStream 2001 run error",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g6f1596ae9f1",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/6f1596ae9f1ae5e24c0f1e1f07cc82dd.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png",
            "first_name": "Andrew",
            "real_name": "Andrew",
            "display_name": "Andrew",
            "team": "T4G9NBD2M",
            "name": "as16",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1679049518.594289",
        "parent_user_id": "U04EF7B7J68",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "bks5I",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "2023-03-16 20:59:02,419:INFO:Starting streams..\n2023-03-16 20:59:02,419:INFO:Starting SimulatedOrderStream 1000\n2023-03-16 20:59:02,419:INFO:Starting MarketStream 2000\n2023-03-16 20:59:02,419:INFO:Starting output_thread (MarketStream 2000)\n2023-03-16 20:59:02,419:INFO:[Register: 2001]: marketSubscription\n2023-03-16 20:59:02,419:INFO:[MarketStream: 2001]: \"MarketStream\" created\n2023-03-16 20:59:02,497:INFO:[MarketStream: 2001]: connection_id: 105-160323205902-5809353\n2023-03-16 20:59:02,513:ERROR:MarketStream 2001 run error"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1679049959.746009",
        "client_msg_id": "0a0f5e3d-3ec9-4d46-aac2-6f052153b321",
        "text": "need the full logs, setup as per the examples",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1679049518.594289",
        "parent_user_id": "U04EF7B7J68",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "WYb7J",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "need the full logs, setup as per the examples"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U04SM5RK2TT",
        "type": "message",
        "ts": "1679050347.359769",
        "client_msg_id": "c1b46a3d-53e5-4bbd-a424-1093019560f5",
        "text": "Thanks very much Liam - I will have a try with setting logging to debug.\n\nDo you know if setting logging to debug has any performance cost? Otherwise what is the best way to detect if a stream breaks down?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g3a3d5aa7c8d",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/bf92f2e08198683ddccab38724b145f7.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0000-72.png",
            "first_name": "Kosta",
            "real_name": "Kosta Pana",
            "display_name": "Kosta Pana",
            "team": "T4G9NBD2M",
            "name": "mahannamin590",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1679047784.236729",
        "parent_user_id": "U04SM5RK2TT",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "+btL4",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Thanks very much Liam - I will have a try with setting logging to debug.\n\nDo you know if setting logging to debug has any performance cost? Otherwise what is the best way to detect if a stream breaks down?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1679050381.394309",
        "client_msg_id": "3eae1f28-f4c0-4334-b32c-2b604492bfd4",
        "text": "Yes, but just test it, 5 seconds and you will have some answers",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1679047784.236729",
        "parent_user_id": "U04SM5RK2TT",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "vuf",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Yes, but just test it, 5 seconds and you will have some answers"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U04EF7B7J68",
        "type": "message",
        "ts": "1679051210.057789",
        "client_msg_id": "1c2fb742-66f9-4285-ba76-c2cd1712d6d4",
        "text": "Connected to pydev debugger (build 191.7479.30)\n{\"asctime\": \"2023-03-17 10:56:16,147\", \"levelname\": \"INFO\", \"message\": \"Adding trading control ORDER_VALIDATION\"}\n{\"asctime\": \"2023-03-17 10:56:16,147\", \"levelname\": \"INFO\", \"message\": \"Adding trading control MARKET_VALIDATION\"}\n{\"asctime\": \"2023-03-17 10:56:16,148\", \"levelname\": \"INFO\", \"message\": \"Adding trading control STRATEGY_EXPOSURE\"}\n{\"asctime\": \"2023-03-17 10:56:16,148\", \"levelname\": \"INFO\", \"message\": \"Adding strategy back_strat_42\"}\n{\"asctime\": \"2023-03-17 10:56:16,148\", \"levelname\": \"INFO\", \"message\": \"Creating new &lt;class 'flumine.streams.marketstream.MarketStream'&gt; (2000) for strategy back_strat_42\"}\n{\"asctime\": \"2023-03-17 10:56:16,148\", \"levelname\": \"INFO\", \"message\": \"Starting flumine\", \"clients\": {\"username\": \"\", \"exchange\": \"Betfair\", \"betting_client\": \"APIClient\", \"current_transaction_count_total\": null, \"transaction_count_total\": null, \"trading_controls\": [], \"order_stream\": true, \"best_price_execution\": true, \"paper_trade\": false}, \"markets\": {\"market_count\": 0, \"open_market_count\": 0}, \"streams\": [\"&lt;OrderStream(OrderStream, initial daemon)&gt;\", \"&lt;MarketStream(MarketStream, initial daemon)&gt;\"], \"logging_controls\": [], \"threads\": [\"&lt;_MainThread(MainThread, started 18028)&gt;\", \"&lt;WriterThread(pydevd.Writer, started daemon 11888)&gt;\", \"&lt;ReaderThread(pydevd.Reader, started daemon 14476)&gt;\", \"&lt;PyDBCommandThread(pydevd.CommandThread, started daemon 8612)&gt;\"]}\n{\"asctime\": \"2023-03-17 10:56:16,293\", \"levelname\": \"ERROR\", \"message\": \"BetfairClient `login` error\", \"exc_info\": \"Traceback (most recent call last):\\n  File \\\"C:\\\\Users\\\\andre\\\\AppData\\\\Local\\\\Continuum\\\\anaconda3\\\\lib\\\\site-packages\\\\flumine\\\\clients\\\\betfairclient.py\\\", line 29, in login\\n    return self.betting_client.login()\\n  File \\\"C:\\\\Users\\\\andre\\\\AppData\\\\Local\\\\Continuum\\\\anaconda3\\\\lib\\\\site-packages\\\\betfairlightweight\\\\endpoints\\\\login.py\\\", line 31, in __call__\\n    self.url, session=session\\n  File \\\"C:\\\\Users\\\\andre\\\\AppData\\\\Local\\\\Continuum\\\\anaconda3\\\\lib\\\\site-packages\\\\betfairlightweight\\\\endpoints\\\\login.py\\\", line 57, in request\\n    check_status_code(response)\\n  File \\\"C:\\\\Users\\\\andre\\\\AppData\\\\Local\\\\Continuum\\\\anaconda3\\\\lib\\\\site-packages\\\\betfairlightweight\\\\utils.py\\\", line 34, in check_status_code\\n    raise StatusCodeError(response.status_code)\\nbetfairlightweight.exceptions.StatusCodeError: Status code error: 500\", \"client\": \"APIClient\", \"trading_function\": \"login\", \"response\": \"Status code error: 500\"}\n{\"asctime\": \"2023-03-17 10:56:16,509\", \"levelname\": \"INFO\", \"message\": \"Adding worker keep_alive\"}\n{\"asctime\": \"2023-03-17 10:56:16,509\", \"levelname\": \"INFO\", \"message\": \"Adding worker poll_market_catalogue\"}\n{\"asctime\": \"2023-03-17 10:56:16,510\", \"levelname\": \"INFO\", \"message\": \"Adding worker poll_account_balance\"}\n{\"asctime\": \"2023-03-17 10:56:16,510\", \"levelname\": \"INFO\", \"message\": \"Adding worker poll_market_closure\"}\n{\"asctime\": \"2023-03-17 10:56:16,512\", \"levelname\": \"INFO\", \"message\": \"BackgroundWorker keep_alive starting\", \"worker_name\": \"keep_alive\", \"function\": \"&lt;function keep_alive at 0x000001823546B268&gt;\", \"context\": {}, \"start_delay\": 0, \"interval\": 1200, \"func_args\": [], \"func_kwargs\": {}}\n{\"asctime\": \"2023-03-17 10:56:16,513\", \"levelname\": \"ERROR\", \"message\": \"Error in BackgroundWorker keep_alive: 'Flumine' object has no attribute 'clients'\", \"exc_info\": \"Traceback (most recent call last):\\n  File \\\"C:\\\\Users\\\\andre\\\\AppData\\\\Local\\\\Continuum\\\\anaconda3\\\\lib\\\\site-packages\\\\flumine\\\\worker.py\\\", line 65, in run\\n    self.context, self.flumine, *self.func_args, **self.func_kwargs\\n  File \\\"C:\\\\Users\\\\andre\\\\AppData\\\\Local\\\\Continuum\\\\anaconda3\\\\lib\\\\site-packages\\\\flumine\\\\worker.py\\\", line 97, in keep_alive\\n    for client in flumine.clients:\\nAttributeError: 'Flumine' object has no attribute 'clients'\", \"worker_name\": \"keep_alive\", \"function\": \"&lt;function keep_alive at 0x000001823546B268&gt;\", \"context\": {}}\n{\"asctime\": \"2023-03-17 10:56:16,514\", \"levelname\": \"INFO\", \"message\": \"BackgroundWorker poll_market_catalogue starting\", \"worker_name\": \"poll_market_catalogue\", \"function\": \"&lt;function poll_market_catalogue at 0x000001823546B378&gt;\", \"context\": {}, \"start_delay\": 10, \"interval\": 60, \"func_args\": [], \"func_kwargs\": {}}\n{\"asctime\": \"2023-03-17 10:56:16,516\", \"levelname\": \"INFO\", \"message\": \"BackgroundWorker poll_account_balance starting\", \"worker_name\": \"poll_account_balance\", \"function\": \"&lt;function poll_account_balance at 0x000001823546B400&gt;\", \"context\": {}, \"start_delay\": 10, \"interval\": 120, \"func_args\": [], \"func_kwargs\": {}}\n{\"asctime\": \"2023-03-17 10:56:16,518\", \"levelname\": \"INFO\", \"message\": \"BackgroundWorker poll_market_closure starting\", \"worker_name\": \"poll_market_closure\", \"function\": \"&lt;function poll_market_closure at 0x000001823546B488&gt;\", \"context\": {}, \"start_delay\": 10, \"interval\": 60, \"func_args\": [], \"func_kwargs\": {}}\n{\"asctime\": \"2023-03-17 10:56:16,520\", \"levelname\": \"INFO\", \"message\": \"Starting streams..\"}\n{\"asctime\": \"2023-03-17 10:56:16,521\", \"levelname\": \"INFO\", \"message\": \"Starting OrderStream 1000\", \"stream_id\": 1000, \"customer_strategy_refs\": \"LAPTOP-SDCL040E\", \"conflate_ms\": null, \"streaming_timeout\": 0.25, \"client_username\": \"\"}\n{\"asctime\": \"2023-03-17 10:56:16,522\", \"levelname\": \"INFO\", \"message\": \"Starting output_thread (OrderStream 1000)\"}\n{\"asctime\": \"2023-03-17 10:56:16,523\", \"levelname\": \"INFO\", \"message\": \"[Register: 1001]: orderSubscription\"}\n{\"asctime\": \"2023-03-17 10:56:16,524\", \"levelname\": \"INFO\", \"message\": \"[OrderStream: 1001]: \\\"OrderStream\\\" created\"}\n{\"asctime\": \"2023-03-17 10:56:16,590\", \"levelname\": \"INFO\", \"message\": \"[OrderStream: 1001]: connection_id: 209-170323105616-5848216\"}\n{\"asctime\": \"2023-03-17 10:56:16,622\", \"levelname\": \"INFO\", \"message\": \"[OrderStream: 1002]: SUCCESS (1 connections available)\"}\n{\"asctime\": \"2023-03-17 10:56:16,626\", \"levelname\": \"INFO\", \"message\": \"[OrderStream: 1001]: SUCCESS (1 connections available)\"}\n{\"asctime\": \"2023-03-17 10:56:16,658\", \"levelname\": \"INFO\", \"message\": \"[OrderStream: 1001]: 0 oc added\"}\n{\"asctime\": \"2023-03-17 10:56:16,780\", \"levelname\": \"INFO\", \"message\": \"Starting MarketStream 2000\", \"stream_id\": 2000, \"market_filter\": {\"eventTypeIds\": [\"7\"], \"marketTypes\": [\"WIN\"], \"countryCodes\": [\"GB\", \"IE\"]}, \"market_data_filter\": {\"fields\": [\"EX_BEST_OFFERS\", \"EX_LTP\", \"EX_MARKET_DEF\"], \"ladderLevels\": 1}, \"conflate_ms\": 1000, \"streaming_timeout\": null}\n{\"asctime\": \"2023-03-17 10:56:16,781\", \"levelname\": \"INFO\", \"message\": \"Starting output_thread (MarketStream 2000)\"}\n{\"asctime\": \"2023-03-17 10:56:18,785\", \"levelname\": \"INFO\", \"message\": \"Starting MarketStream 2000\", \"stream_id\": 2000, \"market_filter\": {\"eventTypeIds\": [\"7\"], \"marketTypes\": [\"WIN\"], \"countryCodes\": [\"GB\", \"IE\"]}, \"market_data_filter\": {\"fields\": [\"EX_BEST_OFFERS\", \"EX_LTP\", \"EX_MARKET_DEF\"], \"ladderLevels\": 1}, \"conflate_ms\": 1000, \"streaming_timeout\": null}\n{\"asctime\": \"2023-03-17 10:56:20,794\", \"levelname\": \"INFO\", \"message\": \"Starting MarketStream 2000\", \"stream_id\": 2000, \"market_filter\": {\"eventTypeIds\": [\"7\"], \"marketTypes\": [\"WIN\"], \"countryCodes\": [\"GB\", \"IE\"]}, \"market_data_filter\": {\"fields\": [\"EX_BEST_OFFERS\", \"EX_LTP\", \"EX_MARKET_DEF\"], \"ladderLevels\": 1}, \"conflate_ms\": 1000, \"streaming_timeout\": null}\n{\"asctime\": \"2023-03-17 10:56:24,811\", \"levelname\": \"INFO\", \"message\": \"Starting MarketStream 2000\", \"stream_id\": 2000, \"market_filter\": {\"eventTypeIds\": [\"7\"], \"marketTypes\": [\"WIN\"], \"countryCodes\": [\"GB\", \"IE\"]}, \"market_data_filter\": {\"fields\": [\"EX_BEST_OFFERS\", \"EX_LTP\", \"EX_MARKET_DEF\"], \"ladderLevels\": 1}, \"conflate_ms\": 1000, \"streaming_timeout\": null}\n{\"asctime\": \"2023-03-17 10:56:26,530\", \"levelname\": \"ERROR\", \"message\": \"Error in BackgroundWorker poll_market_catalogue: 'Flumine' object has no attribute 'clients'\", \"exc_info\": \"Traceback (most recent call last):\\n  File \\\"C:\\\\Users\\\\andre\\\\AppData\\\\Local\\\\Continuum\\\\anaconda3\\\\lib\\\\site-packages\\\\flumine\\\\worker.py\\\", line 65, in run\\n    self.context, self.flumine, *self.func_args, **self.func_kwargs\\n  File \\\"C:\\\\Users\\\\andre\\\\AppData\\\\Local\\\\Continuum\\\\anaconda3\\\\lib\\\\site-packages\\\\flumine\\\\worker.py\\\", line 113, in poll_market_catalogue\\n    client = flumine.clients.get_betfair_default()\\nAttributeError: 'Flumine' object has no attribute 'clients'\", \"worker_name\": \"poll_market_catalogue\", \"function\": \"&lt;function poll_market_catalogue at 0x000001823546B378&gt;\", \"context\": {}}\n{\"asctime\": \"2023-03-17 10:56:26,531\", \"levelname\": \"ERROR\", \"message\": \"Error in BackgroundWorker poll_account_balance: 'Flumine' object has no attribute 'clients'\", \"exc_info\": \"Traceback (most recent call last):\\n  File \\\"C:\\\\Users\\\\andre\\\\AppData\\\\Local\\\\Continuum\\\\anaconda3\\\\lib\\\\site-packages\\\\flumine\\\\worker.py\\\", line 65, in run\\n    self.context, self.flumine, *self.func_args, **self.func_kwargs\\n  File \\\"C:\\\\Users\\\\andre\\\\AppData\\\\Local\\\\Continuum\\\\anaconda3\\\\lib\\\\site-packages\\\\flumine\\\\worker.py\\\", line 155, in poll_account_balance\\n    for client in flumine.clients:\\nAttributeError: 'Flumine' object has no attribute 'clients'\", \"worker_name\": \"poll_account_balance\", \"function\": \"&lt;function poll_account_balance at 0x000001823546B400&gt;\", \"context\": {}}\n{\"asctime\": \"2023-03-17 10:56:26,532\", \"levelname\": \"ERROR\", \"message\": \"Error in BackgroundWorker poll_market_closure: 'Flumine' object has no attribute 'clients'\", \"exc_info\": \"Traceback (most recent call last):\\n  File \\\"C:\\\\Users\\\\andre\\\\AppData\\\\Local\\\\Continuum\\\\anaconda3\\\\lib\\\\site-packages\\\\flumine\\\\worker.py\\\", line 65, in run\\n    self.context, self.flumine, *self.func_args, **self.func_kwargs\\n  File \\\"C:\\\\Users\\\\andre\\\\AppData\\\\Local\\\\Continuum\\\\anaconda3\\\\lib\\\\site-packages\\\\flumine\\\\worker.py\\\", line 166, in poll_market_closure\\n    for client in flumine.clients:\\nAttributeError: 'Flumine' object has no attribute 'clients'\", \"worker_name\": \"poll_market_closure\", \"function\": \"&lt;function poll_market_closure at 0x000001823546B488&gt;\", \"context\": {}}\n{\"asctime\": \"2023-03-17 10:56:32,822\", \"levelname\": \"INFO\", \"message\": \"Starting MarketStream 2000\", \"stream_id\": 2000, \"market_filter\": {\"eventTypeIds\": [\"7\"], \"marketTypes\": [\"WIN\"], \"countryCodes\": [\"GB\", \"IE\"]}, \"market_data_filter\": {\"fields\": [\"EX_BEST_OFFERS\", \"EX_LTP\", \"EX_MARKET_DEF\"], \"ladderLevels\": 1}, \"conflate_ms\": 1000, \"streaming_timeout\": null}\n{\"asctime\": \"2023-03-17 10:56:48,827\", \"levelname\": \"INFO\", \"message\": \"Starting MarketStream 2000\", \"stream_id\": 2000, \"market_filter\": {\"eventTypeIds\": [\"7\"], \"marketTypes\": [\"WIN\"], \"countryCodes\": [\"GB\", \"IE\"]}, \"market_data_filter\": {\"fields\": [\"EX_BEST_OFFERS\", \"EX_LTP\", \"EX_MARKET_DEF\"], \"ladderLevels\": 1}, \"conflate_ms\": 1000, \"streaming_timeout\": null}",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g6f1596ae9f1",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/6f1596ae9f1ae5e24c0f1e1f07cc82dd.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png",
            "first_name": "Andrew",
            "real_name": "Andrew",
            "display_name": "Andrew",
            "team": "T4G9NBD2M",
            "name": "as16",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1679049518.594289",
        "parent_user_id": "U04EF7B7J68",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "22xM",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Connected to pydev debugger (build 191.7479.30)\n{\"asctime\": \"2023-03-17 10:56:16,147\", \"levelname\": \"INFO\", \"message\": \"Adding trading control ORDER_VALIDATION\"}\n{\"asctime\": \"2023-03-17 10:56:16,147\", \"levelname\": \"INFO\", \"message\": \"Adding trading control MARKET_VALIDATION\"}\n{\"asctime\": \"2023-03-17 10:56:16,148\", \"levelname\": \"INFO\", \"message\": \"Adding trading control STRATEGY_EXPOSURE\"}\n{\"asctime\": \"2023-03-17 10:56:16,148\", \"levelname\": \"INFO\", \"message\": \"Adding strategy back_strat_42\"}\n{\"asctime\": \"2023-03-17 10:56:16,148\", \"levelname\": \"INFO\", \"message\": \"Creating new <class 'flumine.streams.marketstream.MarketStream'> (2000) for strategy back_strat_42\"}\n{\"asctime\": \"2023-03-17 10:56:16,148\", \"levelname\": \"INFO\", \"message\": \"Starting flumine\", \"clients\": {\"username\": \"\", \"exchange\": \"Betfair\", \"betting_client\": \"APIClient\", \"current_transaction_count_total\": null, \"transaction_count_total\": null, \"trading_controls\": [], \"order_stream\": true, \"best_price_execution\": true, \"paper_trade\": false}, \"markets\": {\"market_count\": 0, \"open_market_count\": 0}, \"streams\": [\"<OrderStream(OrderStream, initial daemon)>\", \"<MarketStream(MarketStream, initial daemon)>\"], \"logging_controls\": [], \"threads\": [\"<_MainThread(MainThread, started 18028)>\", \"<WriterThread(pydevd.Writer, started daemon 11888)>\", \"<ReaderThread(pydevd.Reader, started daemon 14476)>\", \"<PyDBCommandThread(pydevd.CommandThread, started daemon 8612)>\"]}\n{\"asctime\": \"2023-03-17 10:56:16,293\", \"levelname\": \"ERROR\", \"message\": \"BetfairClient `login` error\", \"exc_info\": \"Traceback (most recent call last):\\n  File \\\"C:\\\\Users\\\\andre\\\\AppData\\\\Local\\\\Continuum\\\\anaconda3\\\\lib\\\\site-packages\\\\flumine\\\\clients\\\\betfairclient.py\\\", line 29, in login\\n    return self.betting_client.login()\\n  File \\\"C:\\\\Users\\\\andre\\\\AppData\\\\Local\\\\Continuum\\\\anaconda3\\\\lib\\\\site-packages\\\\betfairlightweight\\\\endpoints\\\\login.py\\\", line 31, in __call__\\n    self.url, session=session\\n  File \\\"C:\\\\Users\\\\andre\\\\AppData\\\\Local\\\\Continuum\\\\anaconda3\\\\lib\\\\site-packages\\\\betfairlightweight\\\\endpoints\\\\login.py\\\", line 57, in request\\n    check_status_code(response)\\n  File \\\"C:\\\\Users\\\\andre\\\\AppData\\\\Local\\\\Continuum\\\\anaconda3\\\\lib\\\\site-packages\\\\betfairlightweight\\\\utils.py\\\", line 34, in check_status_code\\n    raise StatusCodeError(response.status_code)\\nbetfairlightweight.exceptions.StatusCodeError: Status code error: 500\", \"client\": \"APIClient\", \"trading_function\": \"login\", \"response\": \"Status code error: 500\"}\n{\"asctime\": \"2023-03-17 10:56:16,509\", \"levelname\": \"INFO\", \"message\": \"Adding worker keep_alive\"}\n{\"asctime\": \"2023-03-17 10:56:16,509\", \"levelname\": \"INFO\", \"message\": \"Adding worker poll_market_catalogue\"}\n{\"asctime\": \"2023-03-17 10:56:16,510\", \"levelname\": \"INFO\", \"message\": \"Adding worker poll_account_balance\"}\n{\"asctime\": \"2023-03-17 10:56:16,510\", \"levelname\": \"INFO\", \"message\": \"Adding worker poll_market_closure\"}\n{\"asctime\": \"2023-03-17 10:56:16,512\", \"levelname\": \"INFO\", \"message\": \"BackgroundWorker keep_alive starting\", \"worker_name\": \"keep_alive\", \"function\": \"<function keep_alive at 0x000001823546B268>\", \"context\": {}, \"start_delay\": 0, \"interval\": 1200, \"func_args\": [], \"func_kwargs\": {}}\n{\"asctime\": \"2023-03-17 10:56:16,513\", \"levelname\": \"ERROR\", \"message\": \"Error in BackgroundWorker keep_alive: 'Flumine' object has no attribute 'clients'\", \"exc_info\": \"Traceback (most recent call last):\\n  File \\\"C:\\\\Users\\\\andre\\\\AppData\\\\Local\\\\Continuum\\\\anaconda3\\\\lib\\\\site-packages\\\\flumine\\\\worker.py\\\", line 65, in run\\n    self.context, self.flumine, *self.func_args, **self.func_kwargs\\n  File \\\"C:\\\\Users\\\\andre\\\\AppData\\\\Local\\\\Continuum\\\\anaconda3\\\\lib\\\\site-packages\\\\flumine\\\\worker.py\\\", line 97, in keep_alive\\n    for client in flumine.clients:\\nAttributeError: 'Flumine' object has no attribute 'clients'\", \"worker_name\": \"keep_alive\", \"function\": \"<function keep_alive at 0x000001823546B268>\", \"context\": {}}\n{\"asctime\": \"2023-03-17 10:56:16,514\", \"levelname\": \"INFO\", \"message\": \"BackgroundWorker poll_market_catalogue starting\", \"worker_name\": \"poll_market_catalogue\", \"function\": \"<function poll_market_catalogue at 0x000001823546B378>\", \"context\": {}, \"start_delay\": 10, \"interval\": 60, \"func_args\": [], \"func_kwargs\": {}}\n{\"asctime\": \"2023-03-17 10:56:16,516\", \"levelname\": \"INFO\", \"message\": \"BackgroundWorker poll_account_balance starting\", \"worker_name\": \"poll_account_balance\", \"function\": \"<function poll_account_balance at 0x000001823546B400>\", \"context\": {}, \"start_delay\": 10, \"interval\": 120, \"func_args\": [], \"func_kwargs\": {}}\n{\"asctime\": \"2023-03-17 10:56:16,518\", \"levelname\": \"INFO\", \"message\": \"BackgroundWorker poll_market_closure starting\", \"worker_name\": \"poll_market_closure\", \"function\": \"<function poll_market_closure at 0x000001823546B488>\", \"context\": {}, \"start_delay\": 10, \"interval\": 60, \"func_args\": [], \"func_kwargs\": {}}\n{\"asctime\": \"2023-03-17 10:56:16,520\", \"levelname\": \"INFO\", \"message\": \"Starting streams..\"}\n{\"asctime\": \"2023-03-17 10:56:16,521\", \"levelname\": \"INFO\", \"message\": \"Starting OrderStream 1000\", \"stream_id\": 1000, \"customer_strategy_refs\": \"LAPTOP-SDCL040E\", \"conflate_ms\": null, \"streaming_timeout\": 0.25, \"client_username\": \"\"}\n{\"asctime\": \"2023-03-17 10:56:16,522\", \"levelname\": \"INFO\", \"message\": \"Starting output_thread (OrderStream 1000)\"}\n{\"asctime\": \"2023-03-17 10:56:16,523\", \"levelname\": \"INFO\", \"message\": \"[Register: 1001]: orderSubscription\"}\n{\"asctime\": \"2023-03-17 10:56:16,524\", \"levelname\": \"INFO\", \"message\": \"[OrderStream: 1001]: \\\"OrderStream\\\" created\"}\n{\"asctime\": \"2023-03-17 10:56:16,590\", \"levelname\": \"INFO\", \"message\": \"[OrderStream: 1001]: connection_id: 209-170323105616-5848216\"}\n{\"asctime\": \"2023-03-17 10:56:16,622\", \"levelname\": \"INFO\", \"message\": \"[OrderStream: 1002]: SUCCESS (1 connections available)\"}\n{\"asctime\": \"2023-03-17 10:56:16,626\", \"levelname\": \"INFO\", \"message\": \"[OrderStream: 1001]: SUCCESS (1 connections available)\"}\n{\"asctime\": \"2023-03-17 10:56:16,658\", \"levelname\": \"INFO\", \"message\": \"[OrderStream: 1001]: 0 oc added\"}\n{\"asctime\": \"2023-03-17 10:56:16,780\", \"levelname\": \"INFO\", \"message\": \"Starting MarketStream 2000\", \"stream_id\": 2000, \"market_filter\": {\"eventTypeIds\": [\"7\"], \"marketTypes\": [\"WIN\"], \"countryCodes\": [\"GB\", \"IE\"]}, \"market_data_filter\": {\"fields\": [\"EX_BEST_OFFERS\", \"EX_LTP\", \"EX_MARKET_DEF\"], \"ladderLevels\": 1}, \"conflate_ms\": 1000, \"streaming_timeout\": null}\n{\"asctime\": \"2023-03-17 10:56:16,781\", \"levelname\": \"INFO\", \"message\": \"Starting output_thread (MarketStream 2000)\"}\n{\"asctime\": \"2023-03-17 10:56:18,785\", \"levelname\": \"INFO\", \"message\": \"Starting MarketStream 2000\", \"stream_id\": 2000, \"market_filter\": {\"eventTypeIds\": [\"7\"], \"marketTypes\": [\"WIN\"], \"countryCodes\": [\"GB\", \"IE\"]}, \"market_data_filter\": {\"fields\": [\"EX_BEST_OFFERS\", \"EX_LTP\", \"EX_MARKET_DEF\"], \"ladderLevels\": 1}, \"conflate_ms\": 1000, \"streaming_timeout\": null}\n{\"asctime\": \"2023-03-17 10:56:20,794\", \"levelname\": \"INFO\", \"message\": \"Starting MarketStream 2000\", \"stream_id\": 2000, \"market_filter\": {\"eventTypeIds\": [\"7\"], \"marketTypes\": [\"WIN\"], \"countryCodes\": [\"GB\", \"IE\"]}, \"market_data_filter\": {\"fields\": [\"EX_BEST_OFFERS\", \"EX_LTP\", \"EX_MARKET_DEF\"], \"ladderLevels\": 1}, \"conflate_ms\": 1000, \"streaming_timeout\": null}\n{\"asctime\": \"2023-03-17 10:56:24,811\", \"levelname\": \"INFO\", \"message\": \"Starting MarketStream 2000\", \"stream_id\": 2000, \"market_filter\": {\"eventTypeIds\": [\"7\"], \"marketTypes\": [\"WIN\"], \"countryCodes\": [\"GB\", \"IE\"]}, \"market_data_filter\": {\"fields\": [\"EX_BEST_OFFERS\", \"EX_LTP\", \"EX_MARKET_DEF\"], \"ladderLevels\": 1}, \"conflate_ms\": 1000, \"streaming_timeout\": null}\n{\"asctime\": \"2023-03-17 10:56:26,530\", \"levelname\": \"ERROR\", \"message\": \"Error in BackgroundWorker poll_market_catalogue: 'Flumine' object has no attribute 'clients'\", \"exc_info\": \"Traceback (most recent call last):\\n  File \\\"C:\\\\Users\\\\andre\\\\AppData\\\\Local\\\\Continuum\\\\anaconda3\\\\lib\\\\site-packages\\\\flumine\\\\worker.py\\\", line 65, in run\\n    self.context, self.flumine, *self.func_args, **self.func_kwargs\\n  File \\\"C:\\\\Users\\\\andre\\\\AppData\\\\Local\\\\Continuum\\\\anaconda3\\\\lib\\\\site-packages\\\\flumine\\\\worker.py\\\", line 113, in poll_market_catalogue\\n    client = flumine.clients.get_betfair_default()\\nAttributeError: 'Flumine' object has no attribute 'clients'\", \"worker_name\": \"poll_market_catalogue\", \"function\": \"<function poll_market_catalogue at 0x000001823546B378>\", \"context\": {}}\n{\"asctime\": \"2023-03-17 10:56:26,531\", \"levelname\": \"ERROR\", \"message\": \"Error in BackgroundWorker poll_account_balance: 'Flumine' object has no attribute 'clients'\", \"exc_info\": \"Traceback (most recent call last):\\n  File \\\"C:\\\\Users\\\\andre\\\\AppData\\\\Local\\\\Continuum\\\\anaconda3\\\\lib\\\\site-packages\\\\flumine\\\\worker.py\\\", line 65, in run\\n    self.context, self.flumine, *self.func_args, **self.func_kwargs\\n  File \\\"C:\\\\Users\\\\andre\\\\AppData\\\\Local\\\\Continuum\\\\anaconda3\\\\lib\\\\site-packages\\\\flumine\\\\worker.py\\\", line 155, in poll_account_balance\\n    for client in flumine.clients:\\nAttributeError: 'Flumine' object has no attribute 'clients'\", \"worker_name\": \"poll_account_balance\", \"function\": \"<function poll_account_balance at 0x000001823546B400>\", \"context\": {}}\n{\"asctime\": \"2023-03-17 10:56:26,532\", \"levelname\": \"ERROR\", \"message\": \"Error in BackgroundWorker poll_market_closure: 'Flumine' object has no attribute 'clients'\", \"exc_info\": \"Traceback (most recent call last):\\n  File \\\"C:\\\\Users\\\\andre\\\\AppData\\\\Local\\\\Continuum\\\\anaconda3\\\\lib\\\\site-packages\\\\flumine\\\\worker.py\\\", line 65, in run\\n    self.context, self.flumine, *self.func_args, **self.func_kwargs\\n  File \\\"C:\\\\Users\\\\andre\\\\AppData\\\\Local\\\\Continuum\\\\anaconda3\\\\lib\\\\site-packages\\\\flumine\\\\worker.py\\\", line 166, in poll_market_closure\\n    for client in flumine.clients:\\nAttributeError: 'Flumine' object has no attribute 'clients'\", \"worker_name\": \"poll_market_closure\", \"function\": \"<function poll_market_closure at 0x000001823546B488>\", \"context\": {}}\n{\"asctime\": \"2023-03-17 10:56:32,822\", \"levelname\": \"INFO\", \"message\": \"Starting MarketStream 2000\", \"stream_id\": 2000, \"market_filter\": {\"eventTypeIds\": [\"7\"], \"marketTypes\": [\"WIN\"], \"countryCodes\": [\"GB\", \"IE\"]}, \"market_data_filter\": {\"fields\": [\"EX_BEST_OFFERS\", \"EX_LTP\", \"EX_MARKET_DEF\"], \"ladderLevels\": 1}, \"conflate_ms\": 1000, \"streaming_timeout\": null}\n{\"asctime\": \"2023-03-17 10:56:48,827\", \"levelname\": \"INFO\", \"message\": \"Starting MarketStream 2000\", \"stream_id\": 2000, \"market_filter\": {\"eventTypeIds\": [\"7\"], \"marketTypes\": [\"WIN\"], \"countryCodes\": [\"GB\", \"IE\"]}, \"market_data_filter\": {\"fields\": [\"EX_BEST_OFFERS\", \"EX_LTP\", \"EX_MARKET_DEF\"], \"ladderLevels\": 1}, \"conflate_ms\": 1000, \"streaming_timeout\": null}"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1679051262.578829",
        "client_msg_id": "358b7ad3-dfd6-48ed-b69b-bdf3481be0f0",
        "text": "No client, what does your code look like? Are you using an example?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1679049518.594289",
        "parent_user_id": "U04EF7B7J68",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "3Va2",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "No client, what does your code look like? Are you using an example?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U04EF7B7J68",
        "type": "message",
        "ts": "1679051392.298109",
        "client_msg_id": "420344e2-0fba-4260-ad13-bf946d25f618",
        "text": "Yea I'm using the examples-single.py\n\nIs it this line:\n\ntrading = betfairlightweight.APIClient(\"username\")\n\n?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g6f1596ae9f1",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/6f1596ae9f1ae5e24c0f1e1f07cc82dd.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png",
            "first_name": "Andrew",
            "real_name": "Andrew",
            "display_name": "Andrew",
            "team": "T4G9NBD2M",
            "name": "as16",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1679049518.594289",
        "parent_user_id": "U04EF7B7J68",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "LZVs",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Yea I'm using the examples-single.py\n\nIs it this line:\n\ntrading = betfairlightweight.APIClient(\"username\")\n\n?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1679051404.815839",
        "client_msg_id": "1481f675-5ba5-425c-bd54-af5173812bc1",
        "text": "no",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1679049518.594289",
        "parent_user_id": "U04EF7B7J68",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "asj",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "no"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1679051433.741889",
        "client_msg_id": "887881aa-548e-4d9f-aabe-47a49dcdae69",
        "text": "<https:\/\/github.com\/betcode-org\/flumine\/blob\/master\/examples\/example-single.py#L66>",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1679049518.594289",
        "parent_user_id": "U04EF7B7J68",
        "attachments": [
            {
                "id": 1,
                "footer_icon": "https:\/\/slack.github.com\/static\/img\/favicon-neutral.png",
                "color": "24292f",
                "bot_id": "B021ZJYSBMW",
                "app_unfurl_url": "https:\/\/github.com\/betcode-org\/flumine\/blob\/master\/examples\/example-single.py#L66",
                "is_app_unfurl": true,
                "app_id": "A01BP7R4KNY",
                "fallback": "<https:\/\/github.com\/betcode-org\/flumine\/blob\/master\/examples\/example-single.py | example-single.py>",
                "text": "```\nframework = Flumine(client=client)\n```",
                "title": "<https:\/\/github.com\/betcode-org\/flumine\/blob\/master\/examples\/example-single.py | example-single.py>",
                "footer": "<https:\/\/github.com\/betcode-org\/flumine|betcode-org\/flumine>",
                "mrkdwn_in": [
                    "text"
                ]
            }
        ],
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "5cL",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "link",
                                "url": "https:\/\/github.com\/betcode-org\/flumine\/blob\/master\/examples\/example-single.py#L66"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1679051522.237859",
        "client_msg_id": "c07c5fe6-c2a0-4716-85c5-8a8054a2e125",
        "text": "actually, whats the version of flumine you are using?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1679049518.594289",
        "parent_user_id": "U04EF7B7J68",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Jigc2",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "actually, whats the version of flumine you are using?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U04EF7B7J68",
        "type": "message",
        "ts": "1679051611.977269",
        "client_msg_id": "1311d92b-afb1-4586-b4a8-bc3e997f2c0e",
        "text": "2.0.1",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g6f1596ae9f1",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/6f1596ae9f1ae5e24c0f1e1f07cc82dd.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png",
            "first_name": "Andrew",
            "real_name": "Andrew",
            "display_name": "Andrew",
            "team": "T4G9NBD2M",
            "name": "as16",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1679049518.594289",
        "parent_user_id": "U04EF7B7J68",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "2gb",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "2.0.1"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1679051636.252339",
        "client_msg_id": "e998fcdc-ea15-4b1e-aab8-c2b7d64b809b",
        "text": "uupppgggrrraaaadddeeeeeeeee",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1679049518.594289",
        "parent_user_id": "U04EF7B7J68",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "t\/B",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "uupppgggrrraaaadddeeeeeeeee"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U04EF7B7J68",
        "type": "message",
        "ts": "1679051662.737779",
        "client_msg_id": "17157cf7-5e71-466a-a277-7591d7380bb0",
        "text": "Oh am I using a really old version :sweat_smile:?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g6f1596ae9f1",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/6f1596ae9f1ae5e24c0f1e1f07cc82dd.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png",
            "first_name": "Andrew",
            "real_name": "Andrew",
            "display_name": "Andrew",
            "team": "T4G9NBD2M",
            "name": "as16",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1679049518.594289",
        "parent_user_id": "U04EF7B7J68",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Ay2\/",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Oh am I using a really old version "
                            },
                            {
                                "type": "emoji",
                                "name": "sweat_smile",
                                "unicode": "1f605"
                            },
                            {
                                "type": "text",
                                "text": "?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1679051671.787719",
        "client_msg_id": "967b127b-0997-48ae-8bd6-38b892554960",
        "text": "12 months almost",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1679049518.594289",
        "parent_user_id": "U04EF7B7J68",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "v0SZZ",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "12 months almost"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U04EF7B7J68",
        "type": "message",
        "ts": "1679051679.277909",
        "client_msg_id": "8751067e-a8ab-43a6-a1da-78c69f893894",
        "text": "Ahh sorry let me try that",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g6f1596ae9f1",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/6f1596ae9f1ae5e24c0f1e1f07cc82dd.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png",
            "first_name": "Andrew",
            "real_name": "Andrew",
            "display_name": "Andrew",
            "team": "T4G9NBD2M",
            "name": "as16",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1679049518.594289",
        "parent_user_id": "U04EF7B7J68",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "XxdWP",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Ahh sorry let me try that"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U04EF7B7J68",
        "type": "message",
        "ts": "1679051960.070999",
        "client_msg_id": "8ac8fd6d-55aa-476d-be85-05acb73d3334",
        "text": "Yea I think that's done the trick - thanks for figuring that out!",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g6f1596ae9f1",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/6f1596ae9f1ae5e24c0f1e1f07cc82dd.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0009-72.png",
            "first_name": "Andrew",
            "real_name": "Andrew",
            "display_name": "Andrew",
            "team": "T4G9NBD2M",
            "name": "as16",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1679049518.594289",
        "parent_user_id": "U04EF7B7J68",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "RSyL",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Yea I think that's done the trick - thanks for figuring that out!"
                            }
                        ]
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "+1",
                "users": [
                    "U4H19D1D2"
                ],
                "count": 1
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1679054184.862109",
        "client_msg_id": "b7b1d020-7303-4604-879a-8edb0490eea9",
        "text": "Use <https:\/\/github.com\/betcode-org\/betfair\/blob\/master\/examples\/examplestreaming.py|this> example but update to use the order stream",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1679047784.236729",
        "parent_user_id": "U04SM5RK2TT",
        "attachments": [
            {
                "id": 1,
                "footer_icon": "https:\/\/slack.github.com\/static\/img\/favicon-neutral.png",
                "color": "24292f",
                "bot_id": "B021ZJYSBMW",
                "app_unfurl_url": "https:\/\/github.com\/betcode-org\/betfair\/blob\/master\/examples\/examplestreaming.py",
                "is_app_unfurl": true,
                "app_id": "A01BP7R4KNY",
                "fallback": "<https:\/\/github.com\/betcode-org\/betfair\/blob\/master\/examples\/examplestreaming.py | examplestreaming.py>",
                "text": "```\nimport logging\nimport queue\nimport threading\n\nimport betfairlightweight\nfrom betfairlightweight.filters import (\n    streaming_market_filter,\n    streaming_market_data_filter,\n)\n\n\n# setup logging\nlogging.basicConfig(level=<http:\/\/logging.INFO|logging.INFO>)  # change to DEBUG to see log all updates\n\n# create trading instance (app key must be activated for streaming)\ntrading = betfairlightweight.APIClient(\"username\", \"password\", app_key=\"appKey\")\n\n# login\ntrading.login()\n\n# create queue\noutput_queue = queue.Queue()\n\n# create stream listener\nlistener = betfairlightweight.StreamListener(output_queue=output_queue)\n\n# create stream\nstream = trading.streaming.create_stream(listener=listener)\n\n# create filters (GB WIN racing)\nmarket_filter = streaming_market_filter(\n    event_type_ids=[\"7\"], country_codes=[\"GB\"], market_types=[\"WIN\"]\n)\nmarket_data_filter = streaming_market_data_filter(\n    fields=[\"EX_BEST_OFFERS\", \"EX_MARKET_DEF\"], ladder_levels=3\n)\n\n# subscribe\nstreaming_unique_id = stream.subscribe_to_markets(\n    market_filter=market_filter,\n    market_data_filter=market_data_filter,\n    conflate_ms=1000,  # send update every 1000ms\n)\n\n# start stream in a new thread (in production would need err handling)\nt = threading.Thread(target=stream.start, daemon=True)\nt.start()\n\n\"\"\"\nData can also be accessed by using the snap function in the listener, e.g:\n\n    market_books = listener.snap(\n        market_ids=[1.12345323]\n    )\n\nErrors need to be caught at stream.start, resubscribe can then be used to\nprevent full image being sent, e.g:\n\n    streaming_unique_id = stream.subscribe_to_markets(\n        market_filter=market_filter,\n        market_data_filter=market_data_filter,\n        conflate_ms=1000,  # send update every 1000ms\n        initial_clk=listener.initial_clk,\n        clk=listener.clk,\n    )\n\nThe streaming unique id is returned in the market book which allows multiple\nstreams to be differentiated if multiple streams feed into the same queue.\n\"\"\"\n\n# check for updates in output queue\nwhile True:\n    market_books = output_queue.get()\n    print(market_books)\n\n    for market_book in market_books:\n        print(\n            market_book,\n            market_book.streaming_unique_id,  # unique id of stream (returned from subscribe request)\n            market_book.streaming_update,  # json update received\n            market_book.market_definition,  # streaming definition, similar to catalogue request\n            market_book.publish_time,  # betfair publish time of update\n        )\n\n```",
                "title": "<https:\/\/github.com\/betcode-org\/betfair\/blob\/master\/examples\/examplestreaming.py | examplestreaming.py>",
                "footer": "<https:\/\/github.com\/betcode-org\/betfair|betcode-org\/betfair>",
                "mrkdwn_in": [
                    "text"
                ]
            }
        ],
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "CdD",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Use "
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/github.com\/betcode-org\/betfair\/blob\/master\/examples\/examplestreaming.py",
                                "text": "this"
                            },
                            {
                                "type": "text",
                                "text": " example but update to use the order stream"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U04SM5RK2TT",
        "type": "message",
        "ts": "1679062127.262629",
        "client_msg_id": "d8b75a35-0a74-4ed2-978e-14e13c24d2c2",
        "text": "Thank you very much... I got the heartbeats showing with the above template via setting logging to debug. But I wanted to be able to use the heartbeat in my code to handle if the stream disconnects\/breaks, not sure how to use it via logging (other than watching it with my eyes lol)",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g3a3d5aa7c8d",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/bf92f2e08198683ddccab38724b145f7.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0000-72.png",
            "first_name": "Kosta",
            "real_name": "Kosta Pana",
            "display_name": "Kosta Pana",
            "team": "T4G9NBD2M",
            "name": "mahannamin590",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1679047784.236729",
        "parent_user_id": "U04SM5RK2TT",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "zYEE",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Thank you very much... I got the heartbeats showing with the above template via setting logging to debug. But I wanted to be able to use the heartbeat in my code to handle if the stream disconnects\/breaks, not sure how to use it via logging (other than watching it with my eyes lol)"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1679062193.260119",
        "client_msg_id": "af75ad99-87ca-4142-b4b0-ace7f77be2cb",
        "text": "why do you want to handle it? setup and forgot <https:\/\/github.com\/betcode-org\/betfair\/blob\/master\/examples\/examplestreamingerrhandling.py|example>",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1679047784.236729",
        "parent_user_id": "U04SM5RK2TT",
        "attachments": [
            {
                "id": 1,
                "footer_icon": "https:\/\/slack.github.com\/static\/img\/favicon-neutral.png",
                "color": "24292f",
                "bot_id": "B021ZJYSBMW",
                "app_unfurl_url": "https:\/\/github.com\/betcode-org\/betfair\/blob\/master\/examples\/examplestreamingerrhandling.py",
                "is_app_unfurl": true,
                "app_id": "A01BP7R4KNY",
                "fallback": "<https:\/\/github.com\/betcode-org\/betfair\/blob\/master\/examples\/examplestreamingerrhandling.py | examplestreamingerrhandling.py>",
                "text": "```\nimport logging\nimport queue\nimport threading\nfrom tenacity import retry, wait_exponential\n\nimport betfairlightweight\nfrom betfairlightweight import StreamListener\nfrom betfairlightweight import BetfairError\nfrom betfairlightweight.filters import (\n    streaming_market_filter,\n    streaming_market_data_filter,\n)\n\n\"\"\"\nStreaming example to handle timeouts or connection errors, \nwith reconnect.\n\nCode uses 'tenacity' library for retrying.\n\nStreaming class inherits threading module to simplify start\/\nstop.\n\"\"\"\n\n# setup logging\nlogging.basicConfig(level=<http:\/\/logging.INFO|logging.INFO>)  # change to DEBUG to see log all updates\nlogger = logging.getLogger(__name__)\n\n\nclass Streaming(threading.Thread):\n    def __init__(\n        self,\n        client: betfairlightweight.APIClient,\n        market_filter: dict,\n        market_data_filter: dict,\n        conflate_ms: int = None,\n        streaming_unique_id: int = 1000,\n    ):\n        threading.Thread.__init__(self, daemon=True, name=self.__class__.__name__)\n        self.client = client\n        self.market_filter = market_filter\n        self.market_data_filter = market_data_filter\n        self.conflate_ms = conflate_ms\n        self.streaming_unique_id = streaming_unique_id\n        self.stream = None\n        self.output_queue = queue.Queue()\n        self.listener = StreamListener(output_queue=self.output_queue)\n\n    @retry(wait=wait_exponential(multiplier=1, min=2, max=20))\n    def run(self) -> None:\n        <http:\/\/logger.info|logger.info>(\"Starting MarketStreaming\")\n        self.client.login()\n        self.stream = self.client.streaming.create_stream(\n            unique_id=self.streaming_unique_id, listener=self.listener\n        )\n        try:\n            self.streaming_unique_id = self.stream.subscribe_to_markets(\n                market_filter=self.market_filter,\n                market_data_filter=self.market_data_filter,\n                conflate_ms=self.conflate_ms,\n                initial_clk=self.listener.initial_clk,  # supplying these two values allows a reconnect\n                clk=self.listener.clk,\n            )\n            self.stream.start()\n        except BetfairError:\n            logger.error(\"MarketStreaming run error\", exc_info=True)\n            raise\n        except Exception:\n            logger.critical(\"MarketStreaming run error\", exc_info=True)\n            raise\n        <http:\/\/logger.info|logger.info>(\"Stopped MarketStreaming {0}\".format(self.streaming_unique_id))\n\n    def stop(self) -> None:\n        if self.stream:\n            self.stream.stop()\n\n\n# create trading instance (app key must be activated for streaming)\ntrading = betfairlightweight.APIClient(\"username\", \"password\", app_key=\"appKey\")\n\n# login\ntrading.login()\n\n# create filters (GB WIN racing)\nmarket_filter = streaming_market_filter(\n    event_type_ids=[\"7\"], country_codes=[\"GB\"], market_types=[\"WIN\"]\n)\nmarket_data_filter = streaming_market_data_filter(\n    fields=[\"EX_BEST_OFFERS\", \"EX_MARKET_DEF\"], ladder_levels=3\n)\n\n# create streaming object\nstreaming = Streaming(trading, market_filter, market_data_filter)\n\n# start streaming (runs in new thread and handles any errors)\nstreaming.start()\n\n# check for updates in output queue\nwhile True:\n    market_books = streaming.output_queue.get()\n    print(market_books)\n\n    for market_book in market_books:\n        print(\n            market_book,\n            market_book.streaming_unique_id,  # unique id of stream (returned from subscribe request)\n            market_book.streaming_update,  # json update received\n            market_book.market_definition,  # streaming definition, similar to catalogue request\n            market_book.publish_time,  # betfair publish time of update\n        )\n\n```",
                "title": "<https:\/\/github.com\/betcode-org\/betfair\/blob\/master\/examples\/examplestreamingerrhandling.py | examplestreamingerrhandling.py>",
                "footer": "<https:\/\/github.com\/betcode-org\/betfair|betcode-org\/betfair>",
                "mrkdwn_in": [
                    "text"
                ]
            }
        ],
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "BxxR",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "why do you want to handle it? setup and forgot "
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/github.com\/betcode-org\/betfair\/blob\/master\/examples\/examplestreamingerrhandling.py",
                                "text": "example"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U04SM5RK2TT",
        "type": "message",
        "ts": "1679062585.875349",
        "client_msg_id": "b229e37b-0044-49c8-864c-c578c2eb3ba9",
        "text": "Ahh, perfect! Thank you, I'm still learning...",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g3a3d5aa7c8d",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/bf92f2e08198683ddccab38724b145f7.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0000-72.png",
            "first_name": "Kosta",
            "real_name": "Kosta Pana",
            "display_name": "Kosta Pana",
            "team": "T4G9NBD2M",
            "name": "mahannamin590",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1679047784.236729",
        "parent_user_id": "U04SM5RK2TT",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "6ZNt",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Ahh, perfect! Thank you, I'm still learning..."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1679062603.344649",
        "client_msg_id": "1b7b4d79-d5e3-4399-a403-57c55149b834",
        "text": "you found flumine yet?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1679047784.236729",
        "parent_user_id": "U04SM5RK2TT",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "=uC",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "you found flumine yet?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U04SM5RK2TT",
        "type": "message",
        "ts": "1679067138.174399",
        "client_msg_id": "4f33b86c-e0d5-4962-895f-d470a641b540",
        "text": "yes sir. but already have my own system... flumine probably much better.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g3a3d5aa7c8d",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/bf92f2e08198683ddccab38724b145f7.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0000-72.png",
            "first_name": "Kosta",
            "real_name": "Kosta Pana",
            "display_name": "Kosta Pana",
            "team": "T4G9NBD2M",
            "name": "mahannamin590",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1679047784.236729",
        "parent_user_id": "U04SM5RK2TT",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "MkgSp",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "yes sir. but already have my own system... flumine probably much better."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U04SM5RK2TT",
        "type": "message",
        "ts": "1679076642.822749",
        "client_msg_id": "1d1b485b-5ac7-42a9-a3a8-81ebd45d8b2a",
        "text": "btw - in the example.py files you sent - they always conflate to 1sec, wondering why? is there any benefit?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g3a3d5aa7c8d",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/bf92f2e08198683ddccab38724b145f7.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0000-72.png",
            "first_name": "Kosta",
            "real_name": "Kosta Pana",
            "display_name": "Kosta Pana",
            "team": "T4G9NBD2M",
            "name": "mahannamin590",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1679047784.236729",
        "parent_user_id": "U04SM5RK2TT",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "iOwN",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "btw - in the example.py files you sent - they always conflate to 1sec, wondering why? is there any benefit?"
                            }
                        ]
                    }
                ]
            }
        ]
    }
]