[
    {
        "user": "U01B8031PM1",
        "type": "message",
        "ts": "1644318065.150319",
        "client_msg_id": "ba7e7915-bce0-422e-929f-66674feca10b",
        "text": "Just hit this error:\n```2022-02-08 10:48:12.425 CRITICAL[flumine.utils:call_strategy_error_handling:233] Unknown error 'Market' object has no attribute 'blotter' in process_market_book```\nAny idea why it may occur? Prod only, let me know what further debug I can provide (although I have very little aside from this `CRITICAL`message)",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g6e482a0e41b",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/6e482a0e41b232f48d801454006dfa56.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png",
            "first_name": "river_shah",
            "real_name": "river_shah",
            "display_name": "river_shah",
            "team": "T4G9NBD2M",
            "name": "ansar.sa",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "NcOD",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Just hit this error:\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "2022-02-08 10:48:12.425 CRITICAL[flumine.utils:call_strategy_error_handling:233] Unknown error 'Market' object has no attribute 'blotter' in process_market_book"
                            }
                        ],
                        "border": 0
                    },
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Any idea why it may occur? Prod only, let me know what further debug I can provide (although I have very little aside from this "
                            },
                            {
                                "type": "text",
                                "text": "CRITICAL",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "message)"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U01B8031PM1",
        "type": "message",
        "ts": "1644318181.576599",
        "client_msg_id": "8d07dde0-a9df-4eba-a2c3-672bf4399689",
        "text": "I suspect I know why. Maybe my code tried to access `Blotter` on a closed market",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g6e482a0e41b",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/6e482a0e41b232f48d801454006dfa56.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png",
            "first_name": "river_shah",
            "real_name": "river_shah",
            "display_name": "river_shah",
            "team": "T4G9NBD2M",
            "name": "ansar.sa",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1644318181.576599",
        "reply_count": 8,
        "reply_users_count": 3,
        "latest_reply": "1644323956.001879",
        "reply_users": [
            "U4H19D1D2",
            "U01B8031PM1",
            "UFTBRB3F1"
        ],
        "replies": [
            {
                "user": "U4H19D1D2",
                "ts": "1644318471.164259"
            },
            {
                "user": "U01B8031PM1",
                "ts": "1644318549.495099"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1644318563.916749"
            },
            {
                "user": "U01B8031PM1",
                "ts": "1644318602.915849"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1644318682.604429"
            },
            {
                "user": "U01B8031PM1",
                "ts": "1644318716.710419"
            },
            {
                "user": "UFTBRB3F1",
                "ts": "1644323909.254549"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1644323956.001879"
            }
        ],
        "is_locked": false,
        "subscribed": true,
        "last_read": "1644323956.001879",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "lIdN",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I suspect I know why. Maybe my code tried to access "
                            },
                            {
                                "type": "text",
                                "text": "Blotter",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " on a closed market"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1644318471.164259",
        "client_msg_id": "fb1177a5-533f-46e4-b5c9-ffcfe8391f17",
        "text": "Not sure how this could happen tbh, potentially a race condition but not sure how",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1644318181.576599",
        "parent_user_id": "U01B8031PM1",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Xy80",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Not sure how this could happen tbh, potentially a race condition but not sure how"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U01B8031PM1",
        "type": "message",
        "ts": "1644318549.495099",
        "client_msg_id": "5b9a38c2-4b18-4c15-acef-441ea9fefc57",
        "text": "Yes, looking at the code..first \/ only time it has occurred",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g6e482a0e41b",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/6e482a0e41b232f48d801454006dfa56.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png",
            "first_name": "river_shah",
            "real_name": "river_shah",
            "display_name": "river_shah",
            "team": "T4G9NBD2M",
            "name": "ansar.sa",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1644318181.576599",
        "parent_user_id": "U01B8031PM1",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "4jZ",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Yes, looking at the code..first \/ only time it has occurred"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1644318563.916749",
        "client_msg_id": "a33d5288-02c4-4ec8-b0d2-f6f46db3032e",
        "text": "We delete the blotter and the market in the same function once closed for an hour so not sure how you could get the market but not the blotter",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1644318181.576599",
        "parent_user_id": "U01B8031PM1",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "2wz",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "We delete the blotter and the market in the same function once closed for an hour so not sure how you could get the market but not the blotter"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U01B8031PM1",
        "type": "message",
        "ts": "1644318602.915849",
        "edited": {
            "user": "U01B8031PM1",
            "ts": "1644318625.000000"
        },
        "client_msg_id": "0e077761-6e87-4c32-a8bd-64c96a9ee5c4",
        "text": "Which module is the market and blotter instance deletion code in please?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g6e482a0e41b",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/6e482a0e41b232f48d801454006dfa56.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png",
            "first_name": "river_shah",
            "real_name": "river_shah",
            "display_name": "river_shah",
            "team": "T4G9NBD2M",
            "name": "ansar.sa",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1644318181.576599",
        "parent_user_id": "U01B8031PM1",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "S=0Ei",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Which module is the market and blotter instance deletion code in please?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1644318682.604429",
        "client_msg_id": "1d110ca3-dd2b-4a0c-847d-14bacfd12072",
        "text": "`BaseFlumine._remove_market` kicks it off and then `markets.markets.remove_market`",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1644318181.576599",
        "parent_user_id": "U01B8031PM1",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "ncx",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "BaseFlumine._remove_market",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " kicks it off and then "
                            },
                            {
                                "type": "text",
                                "text": "markets.markets.remove_market",
                                "style": {
                                    "code": true
                                }
                            }
                        ]
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "+1",
                "users": [
                    "U01B8031PM1"
                ],
                "count": 1
            }
        ]
    },
    {
        "user": "U01B8031PM1",
        "type": "message",
        "ts": "1644318716.710419",
        "edited": {
            "user": "U01B8031PM1",
            "ts": "1644318723.000000"
        },
        "client_msg_id": "c155d7ad-6b50-436a-8925-547a63fdab01",
        "text": "Thanks will review and see how this could have occurred",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g6e482a0e41b",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/6e482a0e41b232f48d801454006dfa56.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png",
            "first_name": "river_shah",
            "real_name": "river_shah",
            "display_name": "river_shah",
            "team": "T4G9NBD2M",
            "name": "ansar.sa",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1644318181.576599",
        "parent_user_id": "U01B8031PM1",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "=gVbm",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Thanks will review and see how this could have occurred"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UFTBRB3F1",
        "type": "message",
        "ts": "1644323909.254549",
        "client_msg_id": "53d0291e-80d9-412d-90ef-8a28e4ac10ed",
        "text": "I've had this a few times actually, prob only in the last 2 weeks or so (or rather last week), I ignored it and it went away, but looks like there must be a weird edge case where it can happen.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g771e110be94",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/a771e110be945b86bede9d5c1bb551e3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png",
            "first_name": "",
            "real_name": "Newbie99",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "vjmehra",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1644318181.576599",
        "parent_user_id": "U01B8031PM1",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "NV9",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I've had this a few times actually, prob only in the last 2 weeks or so (or rather last week), I ignored it and it went away, but looks like there must be a weird edge case where it can happen."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1644323956.001879",
        "client_msg_id": "799a385f-4a31-4f86-a014-58e4fa5c92a6",
        "text": "interesting, I wonder if its the `markets.markets` property causing a cache issue",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1644318181.576599",
        "parent_user_id": "U01B8031PM1",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "iXzZ",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "interesting, I wonder if its the "
                            },
                            {
                                "type": "text",
                                "text": "markets.markets",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " property causing a cache issue"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "subtype": "channel_join",
        "user": "U031Q8UUW07",
        "text": "<@U031Q8UUW07> has joined the channel",
        "type": "message",
        "ts": "1644329887.992419"
    },
    {
        "subtype": "channel_join",
        "user": "U032K7GCJSD",
        "text": "<@U032K7GCJSD> has joined the channel",
        "type": "message",
        "ts": "1644344434.903949"
    },
    {
        "subtype": "channel_join",
        "user": "U031PJPERJA",
        "text": "<@U031PJPERJA> has joined the channel",
        "type": "message",
        "ts": "1644362908.100149"
    },
    {
        "subtype": "channel_join",
        "user": "U0322P0CK0E",
        "text": "<@U0322P0CK0E> has joined the channel",
        "type": "message",
        "ts": "1644388504.987649"
    }
]