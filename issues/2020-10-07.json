[
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1602054869.123300",
        "client_msg_id": "b645cfa2-5477-4ded-a19f-155f94b43092",
        "text": "Isolated the flumine <https:\/\/github.com\/liampauling\/flumine\/issues\/248#issuecomment-704743300|memory leak> to the bflw cache:man-facepalming: Going to look at either adding a clear\/remove_market function or handle a clear up within the code itself (remove if closed for x seconds), not sure what peoples thoughts are on the latter as it may cause issues when betfair update results etc. at a later date",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1602054869.123300",
        "reply_count": 4,
        "reply_users_count": 2,
        "latest_reply": "1602181730.134100",
        "reply_users": [
            "U5R89SMJ5",
            "U4H19D1D2"
        ],
        "replies": [
            {
                "user": "U5R89SMJ5",
                "ts": "1602181531.132200"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1602181658.133300"
            },
            {
                "user": "U5R89SMJ5",
                "ts": "1602181704.133500"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1602181730.134100"
            }
        ],
        "is_locked": false,
        "subscribed": true,
        "last_read": "1602181730.134100",
        "attachments": [
            {
                "fallback": "[liampauling\/flumine] Comment on #248",
                "image_url": "https:\/\/user-images.githubusercontent.com\/12016537\/95298703-6b0a5580-0874-11eb-8718-af5cf7768448.png",
                "image_width": 1660,
                "image_height": 1011,
                "image_bytes": 354712,
                "author_name": "liampauling",
                "text": "The memory leak is in bflw and not flumine (although RunnerContext needs to be cleaned up), I have underestimated the amount of memory the cache can take up when streaming large numbers of markets \/ orders.\n\n<https:\/\/user-images.githubusercontent.com\/12016537\/95298703-6b0a5580-0874-11eb-8718-af5cf7768448.png|Screenshot 2020-10-07 at 08 08 15>\n\nUsed pympler and muppy to track number of objects and size.",
                "title": "Comment on #248 Memory Leak",
                "footer": "<https:\/\/github.com\/liampauling\/flumine|liampauling\/flumine>",
                "id": 1,
                "title_link": "https:\/\/github.com\/liampauling\/flumine\/issues\/248#issuecomment-704743300",
                "author_link": "https:\/\/github.com\/liampauling",
                "author_icon": "https:\/\/avatars3.githubusercontent.com\/u\/12016537?u=ff3c886fc4b7c60bffbae151fbae0baf9cbac179&v=4",
                "footer_icon": "https:\/\/github.githubassets.com\/favicon.ico",
                "ts": 1602054731,
                "color": "24292f",
                "mrkdwn_in": [
                    "text"
                ],
                "bot_id": "B01144Z0734",
                "app_unfurl_url": "https:\/\/github.com\/liampauling\/flumine\/issues\/248#issuecomment-704743300",
                "is_app_unfurl": true
            }
        ],
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "4FxN",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Isolated the flumine "
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/github.com\/liampauling\/flumine\/issues\/248#issuecomment-704743300",
                                "text": "memory leak"
                            },
                            {
                                "type": "text",
                                "text": " to the bflw cache"
                            },
                            {
                                "type": "emoji",
                                "name": "man-facepalming",
                                "unicode": "1f926-200d-2642-fe0f"
                            },
                            {
                                "type": "text",
                                "text": " Going to look at either adding a clear\/remove_market function or handle a clear up within the code itself (remove if closed for x seconds), not sure what peoples thoughts are on the latter as it may cause issues when betfair update results etc. at a later date"
                            }
                        ]
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "confetti_ball",
                "users": [
                    "UUCD6P13J",
                    "U01C9MGREQY"
                ],
                "count": 2
            },
            {
                "name": "grin",
                "users": [
                    "UFTBRB3F1"
                ],
                "count": 1
            },
            {
                "name": "grinning",
                "users": [
                    "UPMUFSGCR"
                ],
                "count": 1
            },
            {
                "name": "+1",
                "users": [
                    "U0198BFR9GR"
                ],
                "count": 1
            }
        ]
    },
    {
        "user": "UUCD6P13J",
        "type": "message",
        "ts": "1602055239.125000",
        "client_msg_id": "6C22A3DC-BD25-4417-A233-6A874733C4A7",
        "text": "From memory I thought markets were removed if they were closed for 3600 seconds (or something similar)",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g6898272ab81",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/6898272ab810e419c2c9ca9af1e53da8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png",
            "first_name": "Lee",
            "real_name": "Lee U",
            "display_name": "Lee",
            "team": "T4G9NBD2M",
            "name": "lunswor",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "gRK8",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "From memory I thought markets were removed if they were closed for 3600 seconds (or something similar)"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1602055258.125300",
        "client_msg_id": "f17e29e6-a21f-46c6-b20e-f90e5cb8f526",
        "text": "only within flumine, the cache within bflw lives",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "bPr",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "only within flumine, the cache within bflw lives"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UUCD6P13J",
        "type": "message",
        "ts": "1602055311.126300",
        "client_msg_id": "0B92A840-3A1B-460D-B37A-62FD9D1293B0",
        "text": "oh so people who use bflw with their own framework will probably see the same issue?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g6898272ab81",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/6898272ab810e419c2c9ca9af1e53da8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png",
            "first_name": "Lee",
            "real_name": "Lee U",
            "display_name": "Lee",
            "team": "T4G9NBD2M",
            "name": "lunswor",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "\/5e2g",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "oh so people who use bflw with their own framework will probably see the same issue?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1602055401.127300",
        "client_msg_id": "a340f204-a829-41fd-9317-737846cf9103",
        "text": "yeah anyone who uses bflw, but note this instance is processing every racing market and around 15k orders per day",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Cnfhc",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "yeah anyone who uses bflw, but note this instance is processing every racing market and around 15k orders per day"
                            }
                        ]
                    }
                ]
            }
        ]
    }
]