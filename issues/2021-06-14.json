[
    {
        "subtype": "channel_join",
        "user": "U024SPM33F0",
        "text": "<@U024SPM33F0> has joined the channel",
        "type": "message",
        "ts": "1623688135.125300"
    },
    {
        "user": "U01FJPFQPML",
        "type": "message",
        "ts": "1623739208.130800",
        "client_msg_id": "6eeaab5a-2522-420b-a5b0-659640dd905c",
        "text": "Hi All, I'm working my through the python API tutorial on <https:\/\/betfair-datascientists.github.io\/api\/apiPythontutorial\/> and I keep running into the same issue with the process_runner_books function.  Just wondering if I am missing something as more often than not I get an 'IndexError: list index out of range' error at this line:\nbest_back_prices = [runner_book.ex.available_to_back[0].price\n                        if runner_book.ex.available_to_back[0].price\nThe odd thing for me is that it does work for some market_id's, so that has me wondering if there are specific market types that need to be filtered to prevent this error.  I've re-read the doco countless times, and I'm not seeing something I missed, although it is entirely likely\\possible that I did.  Any chance someone has had the same issue and found a resolution?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "4130984c3401",
            "image_72": "https:\/\/avatars.slack-edge.com\/2020-11-29\/1541691682196_4130984c3401120bcb1e_72.png",
            "first_name": "",
            "real_name": "Andy B",
            "display_name": "Andy B",
            "team": "T4G9NBD2M",
            "name": "behrendta",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "attachments": [
            {
                "title": "API tutorial in Python - The Automation Hub",
                "title_link": "https:\/\/betfair-datascientists.github.io\/api\/apiPythontutorial\/",
                "text": "Documentation, guides and articles on creating, developing and implementing automated betting strategies, using data analysis to inform betting models and how to interact with the Betfair API.",
                "fallback": "API tutorial in Python - The Automation Hub",
                "from_url": "https:\/\/betfair-datascientists.github.io\/api\/apiPythontutorial\/",
                "service_icon": "https:\/\/betfair-datascientists.github.io\/img\/BetfairFavicon.ico",
                "service_name": "betfair-datascientists.github.io",
                "id": 1,
                "original_url": "https:\/\/betfair-datascientists.github.io\/api\/apiPythontutorial\/"
            }
        ],
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Mks",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Hi All, I'm working my through the python API tutorial on "
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/betfair-datascientists.github.io\/api\/apiPythontutorial\/"
                            },
                            {
                                "type": "text",
                                "text": " and I keep running into the same issue with the process_runner_books function.  Just wondering if I am missing something as more often than not I get an 'IndexError: list index out of range' error at this line:\nbest_back_prices = [runner_book.ex.available_to_back[0].price\n                        if runner_book.ex.available_to_back[0].price\nThe odd thing for me is that it does work for some market_id's, so that has me wondering if there are specific market types that need to be filtered to prevent this error.  I've re-read the doco countless times, and I'm not seeing something I missed, although it is entirely likely\\possible that I did.  Any chance someone has had the same issue and found a resolution?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UBS7QANF3",
        "type": "message",
        "ts": "1623739421.131200",
        "edited": {
            "user": "UBS7QANF3",
            "ts": "1623739659.000000"
        },
        "client_msg_id": "9125f8ae-49e5-405f-be8d-02a7fb9245d3",
        "text": "There's not necessarily any back prices on a runner. In other words, the `runner_boook.ex.available_to_back` list may be empty",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gaaf844a4a90",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/eaaf844a4a905431d83430e563b077aa.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png",
            "first_name": "",
            "real_name": "Maurice Berk",
            "display_name": "Mo",
            "team": "T4G9NBD2M",
            "name": "maurice",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "G1r",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "There's not necessarily any back prices on a runner. In other words, the "
                            },
                            {
                                "type": "text",
                                "text": "runner_boook.ex.available_to_back",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " list may be empty"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UBS7QANF3",
        "type": "message",
        "ts": "1623739426.131400",
        "client_msg_id": "b38e772c-02f8-4f9e-b6ea-5d1f403d09e4",
        "text": "You need to guard against that",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gaaf844a4a90",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/eaaf844a4a905431d83430e563b077aa.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png",
            "first_name": "",
            "real_name": "Maurice Berk",
            "display_name": "Mo",
            "team": "T4G9NBD2M",
            "name": "maurice",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "kZxuT",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "You need to guard against that"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UBS7QANF3",
        "type": "message",
        "ts": "1623740204.131900",
        "client_msg_id": "f7ba74fe-a32c-49f7-964e-bb6ffb51c029",
        "text": "I think this will do the trick:\n```best_back_prices = [runner_book.ex.available_to_back[0].price\n                    if runner_book.ex.available_to_back and runner_book.ex.available_to_back[0].price\n                    else 1.01\n                    for runner_book\n                    in runner_books]```",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gaaf844a4a90",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/eaaf844a4a905431d83430e563b077aa.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png",
            "first_name": "",
            "real_name": "Maurice Berk",
            "display_name": "Mo",
            "team": "T4G9NBD2M",
            "name": "maurice",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1623740204.131900",
        "reply_count": 1,
        "reply_users_count": 1,
        "latest_reply": "1623747264.132700",
        "reply_users": [
            "U01FJPFQPML"
        ],
        "replies": [
            {
                "user": "U01FJPFQPML",
                "ts": "1623747264.132700"
            }
        ],
        "is_locked": false,
        "subscribed": false,
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "98WMS",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I think this will do the trick:\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "best_back_prices = [runner_book.ex.available_to_back[0].price\n                    if runner_book.ex.available_to_back and runner_book.ex.available_to_back[0].price\n                    else 1.01\n                    for runner_book\n                    in runner_books]"
                            }
                        ]
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "+1",
                "users": [
                    "U01FJPFQPML"
                ],
                "count": 1
            }
        ]
    }
]