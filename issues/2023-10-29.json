[
    {
        "user": "U02RN7YDRQ9",
        "type": "message",
        "ts": "1698585337.884359",
        "client_msg_id": "699ef612-13a0-4e69-bf9d-cbba4a809562",
        "text": "As I understand it the function definition `def selection_exposure(self, strategy, lookup: tuple) -&gt; float:` requires a tuple which I am presuming should contain one or more selection ids\n\nThat means (to me) that `market.blotter.selection_exposure(self,(mything.selection_id,))` should work ok. No matter what construct I use for the tuple it fails with an error of one sort or another.\n\nEventually I found that `market.blotter.selection_exposure(self,(0,mything.selection_id))` seems to work correctly.\n\nIf my understanding is right, cause of problem may be in `blotter.get_exposures() ... for order in self.strategy_selection_orders(strategy, *lookup[1:]):` which looks to me that it expects to start from subscript 1 and not 0.\n\nIs something else expected in subscript position 0 ?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "ge46f1f8b708",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/e46f1f8b708a630e3191de7b2c42b1d1.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png",
            "first_name": "edblock",
            "real_name": "edblock",
            "display_name": "foxwood",
            "team": "T4G9NBD2M",
            "name": "eanb",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1698585337.884359",
        "reply_count": 4,
        "reply_users_count": 3,
        "latest_reply": "1698603109.139819",
        "reply_users": [
            "UBS7QANF3",
            "U02RN7YDRQ9",
            "U016TGY3676"
        ],
        "replies": [
            {
                "user": "UBS7QANF3",
                "ts": "1698586519.268829"
            },
            {
                "user": "UBS7QANF3",
                "ts": "1698586529.424429"
            },
            {
                "user": "U02RN7YDRQ9",
                "ts": "1698586745.412889"
            },
            {
                "user": "U016TGY3676",
                "ts": "1698603109.139819"
            }
        ],
        "is_locked": false,
        "subscribed": false,
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "UsGDs",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "As I understand it the function definition "
                            },
                            {
                                "type": "text",
                                "text": "def selection_exposure(self, strategy, lookup: tuple) -> float:",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " requires a tuple which I am presuming should contain one or more selection ids\n\nThat means (to me) that "
                            },
                            {
                                "type": "text",
                                "text": "market.blotter.selection_exposure(self,(mything.selection_id,))",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " should work ok. No matter what construct I use for the tuple it fails with an error of one sort or another.\n\nEventually I found that "
                            },
                            {
                                "type": "text",
                                "text": "market.blotter.selection_exposure(self,(0,mything.selection_id))",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " seems to work correctly.\n\nIf my understanding is right, cause of problem may be in "
                            },
                            {
                                "type": "text",
                                "text": "blotter.get_exposures() ... for order in self.strategy_selection_orders(strategy, *lookup[1:]):",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " which looks to me that it expects to start from subscript 1 and not 0.\n\nIs something else expected in subscript position 0 ?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UBS7QANF3",
        "type": "message",
        "ts": "1698586519.268829",
        "client_msg_id": "acd37e16-a59d-4795-9544-8b4ba9a681f7",
        "text": "Isn't the tuple handicap and selection ID?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gaaf844a4a90",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/eaaf844a4a905431d83430e563b077aa.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png",
            "first_name": "",
            "real_name": "Maurice Berk",
            "display_name": "Mo",
            "team": "T4G9NBD2M",
            "name": "maurice",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1698585337.884359",
        "parent_user_id": "U02RN7YDRQ9",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "jyHcd",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Isn't the tuple handicap and selection ID?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UBS7QANF3",
        "type": "message",
        "ts": "1698586529.424429",
        "client_msg_id": "51f27acb-a531-4d1f-bd6f-8a4f29a70add",
        "text": "(Without having looked at the code)",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gaaf844a4a90",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/eaaf844a4a905431d83430e563b077aa.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png",
            "first_name": "",
            "real_name": "Maurice Berk",
            "display_name": "Mo",
            "team": "T4G9NBD2M",
            "name": "maurice",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1698585337.884359",
        "parent_user_id": "U02RN7YDRQ9",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "+SJVp",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "(Without having looked at the code)"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U02RN7YDRQ9",
        "type": "message",
        "ts": "1698586745.412889",
        "client_msg_id": "9bdcd83c-ad5b-4b2d-bcc5-2ade68614954",
        "text": "Ah - could be the explanation - not something I've explored before - thanks :slightly_smiling_face:",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "ge46f1f8b708",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/e46f1f8b708a630e3191de7b2c42b1d1.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png",
            "first_name": "edblock",
            "real_name": "edblock",
            "display_name": "foxwood",
            "team": "T4G9NBD2M",
            "name": "eanb",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1698585337.884359",
        "parent_user_id": "U02RN7YDRQ9",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "C3mnP",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Ah - could be the explanation - not something I've explored before - thanks "
                            },
                            {
                                "type": "emoji",
                                "name": "slightly_smiling_face",
                                "unicode": "1f642"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U016TGY3676",
        "type": "message",
        "ts": "1698603109.139819",
        "client_msg_id": "671f566f-f589-44f3-b303-3c6791efad70",
        "text": "`orders = market.blotter.strategy_selection_orders(strategy=self, selection_id=sel_id)\nfor o in orders:\n    ...`",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g6a681220e11",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/6a681220e11c1a2ed3685375d658dadb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0001-72.png",
            "first_name": "",
            "real_name": "birchy",
            "display_name": "birchy",
            "team": "T4G9NBD2M",
            "name": "birchy",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1698585337.884359",
        "parent_user_id": "U02RN7YDRQ9",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "XUAVR",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "orders = market.blotter.strategy_selection_orders(strategy=self, selection_id=sel_id)\n",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "for o in orders:\n",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "    ...",
                                "style": {
                                    "code": true
                                }
                            }
                        ]
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "+1",
                "users": [
                    "U02RN7YDRQ9"
                ],
                "count": 1
            }
        ]
    }
]