[
    {
        "user": "U04Q4FUG9FV",
        "type": "message",
        "ts": "1688550631.956639",
        "edited": {
            "user": "U04Q4FUG9FV",
            "ts": "1688550703.000000"
        },
        "client_msg_id": "8e1200e7-4107-401f-a531-a6aa8e0f9d7c",
        "text": "When running a strategy with pro data I encounter: `'list' object has no attribute 'put'` when calling `flumine.handler_queue.put`, i.e. the handler_queue has been replaced with a list while it should supposedly be a queue object. Anyone else encounter this before? To add some context: this happens in a worker thread not in the main flumine thread",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g7a1dd6e6dc4",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/7a1dd6e6dc41d578b2a9dd9d7d34ed15.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png",
            "first_name": "Alex",
            "real_name": "Alex",
            "display_name": "Alex",
            "team": "T4G9NBD2M",
            "name": "alex.feser",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1688550631.956639",
        "reply_count": 24,
        "reply_users_count": 2,
        "latest_reply": "1688553097.538329",
        "reply_users": [
            "U4H19D1D2",
            "U04Q4FUG9FV"
        ],
        "replies": [
            {
                "user": "U4H19D1D2",
                "ts": "1688550823.931819"
            },
            {
                "user": "U04Q4FUG9FV",
                "ts": "1688550922.936749"
            },
            {
                "user": "U04Q4FUG9FV",
                "ts": "1688550957.165179"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1688550999.726239"
            },
            {
                "user": "U04Q4FUG9FV",
                "ts": "1688551065.491249"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1688551155.616709"
            },
            {
                "user": "U04Q4FUG9FV",
                "ts": "1688551286.026819"
            },
            {
                "user": "U04Q4FUG9FV",
                "ts": "1688551346.587829"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1688551362.020429"
            },
            {
                "user": "U04Q4FUG9FV",
                "ts": "1688551433.031329"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1688551441.627709"
            },
            {
                "user": "U04Q4FUG9FV",
                "ts": "1688551485.224369"
            },
            {
                "user": "U04Q4FUG9FV",
                "ts": "1688551508.364129"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1688551555.695199"
            },
            {
                "user": "U04Q4FUG9FV",
                "ts": "1688551706.996079"
            },
            {
                "user": "U04Q4FUG9FV",
                "ts": "1688551719.351649"
            },
            {
                "user": "U04Q4FUG9FV",
                "ts": "1688552042.814969"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1688552178.383979"
            },
            {
                "user": "U04Q4FUG9FV",
                "ts": "1688552197.147389"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1688552273.595649"
            },
            {
                "user": "U04Q4FUG9FV",
                "ts": "1688552312.008259"
            },
            {
                "user": "U04Q4FUG9FV",
                "ts": "1688553011.353739"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1688553068.337249"
            },
            {
                "user": "U04Q4FUG9FV",
                "ts": "1688553097.538329"
            }
        ],
        "is_locked": false,
        "subscribed": true,
        "last_read": "1688553097.538329",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Rnp",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "When running a strategy with pro data I encounter: "
                            },
                            {
                                "type": "text",
                                "text": "'list' object has no attribute 'put'",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " when calling "
                            },
                            {
                                "type": "text",
                                "text": "flumine.handler_queue.put",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": ", i.e. the handler_queue has been replaced with a list while it should supposedly be a queue object. Anyone else encounter this before? To add some context: this happens in a worker thread not in the main flumine thread"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1688550823.931819",
        "client_msg_id": "2689a083-f567-48fc-8b60-976604254199",
        "text": "Are missing the context regarding this is simulation?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1688550631.956639",
        "parent_user_id": "U04Q4FUG9FV",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "R5xc",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Are missing the context regarding this is simulation?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U04Q4FUG9FV",
        "type": "message",
        "ts": "1688550922.936749",
        "client_msg_id": "7fc3ea9f-e12c-4096-9a33-df3bc30c609a",
        "text": "Yes, correct it only occurs in simulation.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g7a1dd6e6dc4",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/7a1dd6e6dc41d578b2a9dd9d7d34ed15.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png",
            "first_name": "Alex",
            "real_name": "Alex",
            "display_name": "Alex",
            "team": "T4G9NBD2M",
            "name": "alex.feser",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1688550631.956639",
        "parent_user_id": "U04Q4FUG9FV",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "8R4",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Yes, correct it only occurs in simulation."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U04Q4FUG9FV",
        "type": "message",
        "ts": "1688550957.165179",
        "client_msg_id": "a1d63d4d-8d80-45b9-8953-1782da13bca1",
        "text": "I'm not overwriting the handler_queue anywhere.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g7a1dd6e6dc4",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/7a1dd6e6dc41d578b2a9dd9d7d34ed15.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png",
            "first_name": "Alex",
            "real_name": "Alex",
            "display_name": "Alex",
            "team": "T4G9NBD2M",
            "name": "alex.feser",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1688550631.956639",
        "parent_user_id": "U04Q4FUG9FV",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "P3sT",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I'm not overwriting the handler_queue anywhere."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1688550999.726239",
        "client_msg_id": "0bb71b07-a1d9-4f4d-a866-0887859f135c",
        "text": "Simulation doesn't use a <https:\/\/github.com\/betcode-org\/flumine\/blob\/d2e7d8e6cbc65687d2a0fb41e8f24bf133081f59\/flumine\/simulation\/simulation.py#L27|queue> so this won't work, what are you trying to put in the queue?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1688550631.956639",
        "parent_user_id": "U04Q4FUG9FV",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "vhe2B",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Simulation doesn't use a "
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/github.com\/betcode-org\/flumine\/blob\/d2e7d8e6cbc65687d2a0fb41e8f24bf133081f59\/flumine\/simulation\/simulation.py#L27",
                                "text": "queue"
                            },
                            {
                                "type": "text",
                                "text": " so this won't work, what are you trying to put in the queue?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U04Q4FUG9FV",
        "type": "message",
        "ts": "1688551065.491249",
        "client_msg_id": "5f8482b1-f575-42a4-bfb6-a410d0509d6b",
        "text": "A custom event, that cancels all open orders.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g7a1dd6e6dc4",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/7a1dd6e6dc41d578b2a9dd9d7d34ed15.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png",
            "first_name": "Alex",
            "real_name": "Alex",
            "display_name": "Alex",
            "team": "T4G9NBD2M",
            "name": "alex.feser",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1688550631.956639",
        "parent_user_id": "U04Q4FUG9FV",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "7x8",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "A custom event, that cancels all open orders."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1688551155.616709",
        "client_msg_id": "38c544d9-7896-47a0-85d3-6a237e91536c",
        "text": "Workers won't work in simulation as they use threads where as we move to a single thread \/ process for simulation. The workaround is to use middleware that replicates the worker action for simulation purposes.\n\nHowever for live why aren't you doing the cancel from the worker?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1688550631.956639",
        "parent_user_id": "U04Q4FUG9FV",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "P2L+U",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Workers won't work in simulation as they use threads where as we move to a single thread \/ process for simulation. The workaround is to use middleware that replicates the worker action for simulation purposes.\n\nHowever for live why aren't you doing the cancel from the worker?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U04Q4FUG9FV",
        "type": "message",
        "ts": "1688551286.026819",
        "client_msg_id": "d59f38df-8ed4-4ea6-8268-8704816abc2d",
        "text": "The cancel is happening in the worker, not the main thread. I have a process that checks multiple conditions and decides if a goal or something else might have occured in a soccer game, if so it cancels all orders and adds a flag to all markets in an event.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g7a1dd6e6dc4",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/7a1dd6e6dc41d578b2a9dd9d7d34ed15.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png",
            "first_name": "Alex",
            "real_name": "Alex",
            "display_name": "Alex",
            "team": "T4G9NBD2M",
            "name": "alex.feser",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1688550631.956639",
        "parent_user_id": "U04Q4FUG9FV",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "XiH",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "The cancel is happening in the worker, not the main thread. I have a process that checks multiple conditions and decides if a goal or something else might have occured in a soccer game, if so it cancels all orders and adds a flag to all markets in an event."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U04Q4FUG9FV",
        "type": "message",
        "ts": "1688551346.587829",
        "client_msg_id": "97a5d141-3d73-463d-b550-5622c2a85176",
        "text": "Thanks for the hint re workers in simulation, I'll have a look at the middleware.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g7a1dd6e6dc4",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/7a1dd6e6dc41d578b2a9dd9d7d34ed15.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png",
            "first_name": "Alex",
            "real_name": "Alex",
            "display_name": "Alex",
            "team": "T4G9NBD2M",
            "name": "alex.feser",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1688550631.956639",
        "parent_user_id": "U04Q4FUG9FV",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "JVn7",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Thanks for the hint re workers in simulation, I'll have a look at the middleware."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1688551362.020429",
        "client_msg_id": "6ba397bc-9700-436b-a70b-d9f88ccee69e",
        "text": "```A custom event, that cancels all open orders.```\n```The cancel is happening in the worker, not the main thread```\nI am confused which one is it?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1688550631.956639",
        "parent_user_id": "U04Q4FUG9FV",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Aq6",
                "elements": [
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "A custom event, that cancels all open orders."
                            }
                        ],
                        "border": 0
                    },
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "The cancel is happening in the worker, not the main thread"
                            }
                        ],
                        "border": 0
                    },
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "\nI am confused which one is it?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U04Q4FUG9FV",
        "type": "message",
        "ts": "1688551433.031329",
        "client_msg_id": "7586da72-dfa0-431c-9fee-a69aaec40d9d",
        "text": "Ah I see. It's a custom event that is posted into the queue. So the event is added in the worker, but the cancel is happening in the main thread.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g7a1dd6e6dc4",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/7a1dd6e6dc41d578b2a9dd9d7d34ed15.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png",
            "first_name": "Alex",
            "real_name": "Alex",
            "display_name": "Alex",
            "team": "T4G9NBD2M",
            "name": "alex.feser",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1688550631.956639",
        "parent_user_id": "U04Q4FUG9FV",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "U7q",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Ah I see. It's a custom event that is posted into the queue. So the event is added in the worker, but the cancel is happening in the main thread."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1688551441.627709",
        "client_msg_id": "7a54d397-c56f-44fc-aa11-38a094b46eba",
        "text": "why?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1688550631.956639",
        "parent_user_id": "U04Q4FUG9FV",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "qW60",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "why?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U04Q4FUG9FV",
        "type": "message",
        "ts": "1688551485.224369",
        "client_msg_id": "d12b4bcd-9a98-4ac7-b1de-f596263590d1",
        "text": "No particular reason, I wrote this a long time ago when I first started playing around with flumine.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g7a1dd6e6dc4",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/7a1dd6e6dc41d578b2a9dd9d7d34ed15.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png",
            "first_name": "Alex",
            "real_name": "Alex",
            "display_name": "Alex",
            "team": "T4G9NBD2M",
            "name": "alex.feser",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1688550631.956639",
        "parent_user_id": "U04Q4FUG9FV",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "+IDF4",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "No particular reason, I wrote this a long time ago when I first started playing around with flumine."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U04Q4FUG9FV",
        "type": "message",
        "ts": "1688551508.364129",
        "client_msg_id": "a704d74b-1366-45fc-af43-c035c63c04b1",
        "text": "I suppose there is no harm to do the cancel directly in the worker.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g7a1dd6e6dc4",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/7a1dd6e6dc41d578b2a9dd9d7d34ed15.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png",
            "first_name": "Alex",
            "real_name": "Alex",
            "display_name": "Alex",
            "team": "T4G9NBD2M",
            "name": "alex.feser",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1688550631.956639",
        "parent_user_id": "U04Q4FUG9FV",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "BgcNZ",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I suppose there is no harm to do the cancel directly in the worker."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1688551555.695199",
        "client_msg_id": "de1cb9d2-5321-4a66-8ab5-733c2c9e6570",
        "text": "makes things simpler \/ quicker and easier to read, also means the code can be copied straight into middleware",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1688550631.956639",
        "parent_user_id": "U04Q4FUG9FV",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "AiS8n",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "makes things simpler \/ quicker and easier to read, also means the code can be copied straight into middleware"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U04Q4FUG9FV",
        "type": "message",
        "ts": "1688551706.996079",
        "client_msg_id": "45fd2f76-6333-492c-aa94-1c2facc6824f",
        "text": "Ok thanks, I'll have a look at the middleware.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g7a1dd6e6dc4",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/7a1dd6e6dc41d578b2a9dd9d7d34ed15.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png",
            "first_name": "Alex",
            "real_name": "Alex",
            "display_name": "Alex",
            "team": "T4G9NBD2M",
            "name": "alex.feser",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1688550631.956639",
        "parent_user_id": "U04Q4FUG9FV",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "vFZm",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Ok thanks, I'll have a look at the middleware."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U04Q4FUG9FV",
        "type": "message",
        "ts": "1688551719.351649",
        "client_msg_id": "894ff0b5-c783-4b87-8720-3f36d1b440a8",
        "text": "I saw there are a few examples in flumine",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g7a1dd6e6dc4",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/7a1dd6e6dc41d578b2a9dd9d7d34ed15.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png",
            "first_name": "Alex",
            "real_name": "Alex",
            "display_name": "Alex",
            "team": "T4G9NBD2M",
            "name": "alex.feser",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1688550631.956639",
        "parent_user_id": "U04Q4FUG9FV",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "jHGO",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I saw there are a few examples in flumine"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U04Q4FUG9FV",
        "type": "message",
        "ts": "1688552042.814969",
        "client_msg_id": "3925632d-a307-40e7-9887-740e220fdffa",
        "text": "Do I get this correctly, middleware gets called for each market in `_process_market_books`?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g7a1dd6e6dc4",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/7a1dd6e6dc41d578b2a9dd9d7d34ed15.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png",
            "first_name": "Alex",
            "real_name": "Alex",
            "display_name": "Alex",
            "team": "T4G9NBD2M",
            "name": "alex.feser",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1688550631.956639",
        "parent_user_id": "U04Q4FUG9FV",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "5OjzI",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Do I get this correctly, middleware gets called for each market in "
                            },
                            {
                                "type": "text",
                                "text": "_process_market_books",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1688552178.383979",
        "client_msg_id": "477b9955-3d18-487c-9e01-8896714b9a15",
        "text": "yeah",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1688550631.956639",
        "parent_user_id": "U04Q4FUG9FV",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "A\/X",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "yeah"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U04Q4FUG9FV",
        "type": "message",
        "ts": "1688552197.147389",
        "client_msg_id": "a4c321be-8d9d-4196-af56-34e98d7f62d3",
        "text": "I have another worker process that generates a signal, based on processing data from all markets within an event, so ideally would want to call it only once every x seconds or so. Do I just add a cooldown or something?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g7a1dd6e6dc4",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/7a1dd6e6dc41d578b2a9dd9d7d34ed15.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png",
            "first_name": "Alex",
            "real_name": "Alex",
            "display_name": "Alex",
            "team": "T4G9NBD2M",
            "name": "alex.feser",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1688550631.956639",
        "parent_user_id": "U04Q4FUG9FV",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "1auC",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I have another worker process that generates a signal, based on processing data from all markets within an event, so ideally would want to call it only once every x seconds or so. Do I just add a cooldown or something?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1688552273.595649",
        "client_msg_id": "94344bc1-2efb-449e-91f5-7078fdd5433c",
        "text": "yeah you would need to handle that to process every x seconds and skip etc",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1688550631.956639",
        "parent_user_id": "U04Q4FUG9FV",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "\/x23",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "yeah you would need to handle that to process every x seconds and skip etc"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U04Q4FUG9FV",
        "type": "message",
        "ts": "1688552312.008259",
        "client_msg_id": "38847335-2d34-4d07-9def-5b8d16f63ce9",
        "text": "ok I see thanks",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g7a1dd6e6dc4",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/7a1dd6e6dc41d578b2a9dd9d7d34ed15.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png",
            "first_name": "Alex",
            "real_name": "Alex",
            "display_name": "Alex",
            "team": "T4G9NBD2M",
            "name": "alex.feser",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1688550631.956639",
        "parent_user_id": "U04Q4FUG9FV",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "LQQ",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "ok I see thanks"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U04Q4FUG9FV",
        "type": "message",
        "ts": "1688553011.353739",
        "edited": {
            "user": "U04Q4FUG9FV",
            "ts": "1688553026.000000"
        },
        "client_msg_id": "ef770a7a-2590-47e8-b788-e946898e5216",
        "text": "Middleware doesn't seems to allow for a context object to get passed between different runs, unless I get this wrong. What's the best workaround around this? I could presumably add a context attribute to flumine. Or the strategy.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g7a1dd6e6dc4",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/7a1dd6e6dc41d578b2a9dd9d7d34ed15.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png",
            "first_name": "Alex",
            "real_name": "Alex",
            "display_name": "Alex",
            "team": "T4G9NBD2M",
            "name": "alex.feser",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1688550631.956639",
        "parent_user_id": "U04Q4FUG9FV",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "JdT",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Middleware doesn't seems to allow for a context object to get passed between different runs, unless I get this wrong. What's the best workaround around this? I could presumably add a context attribute to flumine. Or the strategy."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1688553068.337249",
        "client_msg_id": "46bc5f2a-b544-4d36-8d04-a34002568bfc",
        "text": "`market.context` or `strategy.context` or just store it in the middleware itself `self.myshit`",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1688550631.956639",
        "parent_user_id": "U04Q4FUG9FV",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "=pVSI",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "market.context",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " or "
                            },
                            {
                                "type": "text",
                                "text": "strategy.context",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " or just store it in the middleware itself "
                            },
                            {
                                "type": "text",
                                "text": "self.myshit",
                                "style": {
                                    "code": true
                                }
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U04Q4FUG9FV",
        "type": "message",
        "ts": "1688553097.538329",
        "client_msg_id": "ee2da0a7-51ef-43f1-ac77-d532eac6aff4",
        "text": "thanks",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g7a1dd6e6dc4",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/7a1dd6e6dc41d578b2a9dd9d7d34ed15.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png",
            "first_name": "Alex",
            "real_name": "Alex",
            "display_name": "Alex",
            "team": "T4G9NBD2M",
            "name": "alex.feser",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1688550631.956639",
        "parent_user_id": "U04Q4FUG9FV",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "ZqmF\/",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "thanks"
                            }
                        ]
                    }
                ]
            }
        ]
    }
]