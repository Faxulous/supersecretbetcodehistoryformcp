[
    {
        "user": "U012PA3M7ST",
        "type": "message",
        "ts": "1679616034.888869",
        "client_msg_id": "b8558e41-d925-4458-b2e1-22d2cf834a07",
        "text": "Hi All.been away for a while.Hope you are all well. I have ben using a certain Ai engine to help teach me some python and seem to get the odd thing running. I am getting a subscription exceed error :\"ERROR\", \"message\": \"[MarketStream: 2001]: SUBSCRIPTION_LIMIT_EXCEEDED: trying to subscribe to 19639 markets whereas max allowed number was: 1000\"} though, which I have noted has occurred once on this forum in the past I can find and that was referred to BF bdp. They have increases my allowed threshold to 1000 markets but have suggested I limit the market monitoring and\/or increase connection threads. Here is the code snippet that looks relevant\n```class BookmakerStrategy(BaseStrategy):\n    market_filter = streaming_market_filter(\n        event_type_ids=[\"7\"],\n        country_codes=[\"GBR\", \"IRE\", \"AUS\"],\n        market_types=[\"WIN\"],\n    )\n\n    def check_market_book(self, market, market_book):\n        if self.seconds_to_start &gt; 600:  # 10 minutes\n            return False\n        if market_book.status not in [\"CLOSED\", \"SUSPENDED\"]:\n            return False\n\n    def __init__(self, market_filter=None):\n        super().__init__(market_filter)\n        self.race_time = 0\n        self.race_started = False```\nAny advice appreciated.Cheers",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "ge48e1a579ab",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/e48e1a579ab6ab79ee350f16ae8f8aab.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png",
            "first_name": "",
            "real_name": "Greg",
            "display_name": "Greg",
            "team": "T4G9NBD2M",
            "name": "madalainoz",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1679616034.888869",
        "reply_count": 9,
        "reply_users_count": 3,
        "latest_reply": "1679708712.431089",
        "reply_users": [
            "UUCD6P13J",
            "U012PA3M7ST",
            "U9JHLMZB4"
        ],
        "replies": [
            {
                "user": "UUCD6P13J",
                "ts": "1679616450.473649"
            },
            {
                "user": "UUCD6P13J",
                "ts": "1679616503.400359"
            },
            {
                "user": "U012PA3M7ST",
                "ts": "1679616681.696189"
            },
            {
                "user": "UUCD6P13J",
                "ts": "1679616789.544959"
            },
            {
                "user": "U012PA3M7ST",
                "ts": "1679616799.166659"
            },
            {
                "user": "U012PA3M7ST",
                "ts": "1679617133.281779"
            },
            {
                "user": "UUCD6P13J",
                "ts": "1679619342.665509"
            },
            {
                "user": "U9JHLMZB4",
                "ts": "1679660430.430909"
            },
            {
                "user": "U012PA3M7ST",
                "ts": "1679708712.431089"
            }
        ],
        "is_locked": false,
        "subscribed": false,
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "bmocs",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Hi All.been away for a while.Hope you are all well. I have ben using a certain Ai engine to help teach me some python and seem to get the odd thing running. I am getting a subscription exceed error :\"ERROR\", \"message\": \"[MarketStream: 2001]: SUBSCRIPTION_LIMIT_EXCEEDED: trying to subscribe to 19639 markets whereas max allowed number was: 1000\"} though, which I have noted has occurred once on this forum in the past I can find and that was referred to BF bdp. They have increases my allowed threshold to 1000 markets but have suggested I limit the market monitoring and\/or increase connection threads. Here is the code snippet that looks relevant\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "class BookmakerStrategy(BaseStrategy):\n    market_filter = streaming_market_filter(\n        event_type_ids=[\"7\"],\n        country_codes=[\"GBR\", \"IRE\", \"AUS\"],\n        market_types=[\"WIN\"],\n    )\n\n    def check_market_book(self, market, market_book):\n        if self.seconds_to_start > 600:  # 10 minutes\n            return False\n        if market_book.status not in [\"CLOSED\", \"SUSPENDED\"]:\n            return False\n\n    def __init__(self, market_filter=None):\n        super().__init__(market_filter)\n        self.race_time = 0\n        self.race_started = False"
                            }
                        ],
                        "border": 0
                    },
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Any advice appreciated.Cheers"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UUCD6P13J",
        "type": "message",
        "ts": "1679616450.473649",
        "client_msg_id": "1EDE826C-B36D-4B59-9665-BDE3E9D95BE9",
        "text": "Your market filter needs to be in the strategy instantiation ",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g6898272ab81",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/6898272ab810e419c2c9ca9af1e53da8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png",
            "first_name": "Lee",
            "real_name": "Lee U",
            "display_name": "Lee",
            "team": "T4G9NBD2M",
            "name": "lunswor",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1679616034.888869",
        "parent_user_id": "U012PA3M7ST",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "YWa",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Your market filter needs to be in the strategy instantiation "
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UUCD6P13J",
        "type": "message",
        "ts": "1679616503.400359",
        "client_msg_id": "F8107933-687D-45F4-81F9-7AC5DCB656CC",
        "text": "Also country codes should be GB, IE, AU",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g6898272ab81",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/6898272ab810e419c2c9ca9af1e53da8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png",
            "first_name": "Lee",
            "real_name": "Lee U",
            "display_name": "Lee",
            "team": "T4G9NBD2M",
            "name": "lunswor",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1679616034.888869",
        "parent_user_id": "U012PA3M7ST",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "4QG",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Also country codes should be GB, IE, AU"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U012PA3M7ST",
        "type": "message",
        "ts": "1679616681.696189",
        "client_msg_id": "71f6a61e-2ff2-4b98-84d5-fdfdc96414f9",
        "text": "Thank for the reply Lee.I'll have to figure out the instanstiation bit.I'll change the codes-thanks",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "ge48e1a579ab",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/e48e1a579ab6ab79ee350f16ae8f8aab.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png",
            "first_name": "",
            "real_name": "Greg",
            "display_name": "Greg",
            "team": "T4G9NBD2M",
            "name": "madalainoz",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1679616034.888869",
        "parent_user_id": "U012PA3M7ST",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "LA5h",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Thank for the reply Lee.I'll have to figure out the instanstiation bit.I'll change the codes-thanks"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UUCD6P13J",
        "type": "message",
        "ts": "1679616789.544959",
        "client_msg_id": "8D45600D-E762-40F8-9E67-1D15C5D22691",
        "text": "Check the readme, it’s there ",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g6898272ab81",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/6898272ab810e419c2c9ca9af1e53da8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png",
            "first_name": "Lee",
            "real_name": "Lee U",
            "display_name": "Lee",
            "team": "T4G9NBD2M",
            "name": "lunswor",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1679616034.888869",
        "parent_user_id": "U012PA3M7ST",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "ClFz",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Check the readme, "
                            },
                            {
                                "type": "text",
                                "text": "it’s"
                            },
                            {
                                "type": "text",
                                "text": " there "
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U012PA3M7ST",
        "type": "message",
        "ts": "1679616799.166659",
        "client_msg_id": "890f8ab9-4504-42ca-a59e-ba2ef14d4301",
        "text": ":+1:",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "ge48e1a579ab",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/e48e1a579ab6ab79ee350f16ae8f8aab.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png",
            "first_name": "",
            "real_name": "Greg",
            "display_name": "Greg",
            "team": "T4G9NBD2M",
            "name": "madalainoz",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1679616034.888869",
        "parent_user_id": "U012PA3M7ST",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Qx2",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "emoji",
                                "name": "+1",
                                "unicode": "1f44d"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U012PA3M7ST",
        "type": "message",
        "ts": "1679617133.281779",
        "client_msg_id": "38021ed7-d0e0-46c1-b5cf-bfdc6ebf2e9d",
        "text": "Added this but same error :\n```strategy = BookmakerStrategy()\nmarket_filter=streaming_market_filter(\n        event_type_ids=[\"7\"],\n        country_codes=[\"AU\"],\n        market_types=[\"WIN\"],\n    )\nframework.add_strategy(strategy)```\n",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "ge48e1a579ab",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/e48e1a579ab6ab79ee350f16ae8f8aab.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png",
            "first_name": "",
            "real_name": "Greg",
            "display_name": "Greg",
            "team": "T4G9NBD2M",
            "name": "madalainoz",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1679616034.888869",
        "parent_user_id": "U012PA3M7ST",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "qb=",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Added this but same error :\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "strategy = BookmakerStrategy()\nmarket_filter=streaming_market_filter(\n        event_type_ids=[\"7\"],\n        country_codes=[\"AU\"],\n        market_types=[\"WIN\"],\n    )\nframework.add_strategy(strategy)"
                            }
                        ],
                        "border": 0
                    },
                    {
                        "type": "rich_text_section",
                        "elements": []
                    }
                ]
            }
        ]
    },
    {
        "user": "UUCD6P13J",
        "type": "message",
        "ts": "1679619342.665509",
        "client_msg_id": "72ED8494-2628-41AB-9754-BB636CB345F3",
        "text": "Put the filter in the BookmakerStrategy brackets",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g6898272ab81",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/6898272ab810e419c2c9ca9af1e53da8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png",
            "first_name": "Lee",
            "real_name": "Lee U",
            "display_name": "Lee",
            "team": "T4G9NBD2M",
            "name": "lunswor",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1679616034.888869",
        "parent_user_id": "U012PA3M7ST",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "4dbAc",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Put the filter in the BookmakerStrategy brackets"
                            }
                        ]
                    }
                ]
            }
        ]
    }
]