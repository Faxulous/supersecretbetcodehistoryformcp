[
    {
        "user": "U04J6LUGCFM",
        "type": "message",
        "ts": "1689331761.118659",
        "edited": {
            "user": "U04J6LUGCFM",
            "ts": "1689393676.000000"
        },
        "client_msg_id": "915EDB1B-D578-4123-A139-4711F44E56C9",
        "text": "Now this :\n\nDo they mean by this comment that flumine can only handle 1k markets or they don’t want to increase above 1k…?\n\nHi Andy,\n \nWe’re not experts with using Flumine, but I managed to recreate the error message using the same filters.\n \nIt triggered the SUBSCRIPTION_LIMIT_EXCEEDED, then the TIMEOUT error that you received.\n \nWe can’t increase the market limit again as appears you’ll need to adjust your strategy to filter the number of markets to below 1000 and see if that works.\n \nYou could see if Liam (betcode) has any suggestions on why you’re not seeing the SUBSCRIPTION_LIMIT_EXCEEDED?\n \n \nFilters\n \nstrategy = ExampleStrategy(\n    market_filter=streaming_market_filter(\n        event_type_ids=[\"7\",\"4339\"],\n        #country_codes=[\"GB\"],\n        market_types=[\"WIN\",\"PLACE\"],\n    ),\n \n \nError Log\n \n2023-07-14 16:32:54,606:ERROR:[MarketStream: 2001]: SUBSCRIPTION_LIMIT_EXCEEDED: trying to subscribe to 1258 markets whereas max allowed number was: 1000\n2023-07-14 16:32:54,607:INFO:[MarketStream: 2001]: FAILURE (4 connections available)\n2023-07-14 16:33:03,126:INFO:Client update account details\n2023-07-14 16:33:10,123:ERROR:[MarketStream: None]: TIMEOUT: Connection is not subscribed and is idle: 15000 ms\n2023-07-14 16:33:10,124:ERROR:MarketStream 2001 run error\nTraceback (most recent call last):\n  File \"c:\\Users\\DouglasB\\GitHub\\How-to-Automate-Public-Version\\.venv\\lib\\site-packages\\flumine\\streams\\marketstream.py\", line 44, in run\n    self._stream.start()\n  File \"c:\\Users\\DouglasB\\GitHub\\How-to-Automate-Public-Version\\.venv\\lib\\site-packages\\betfairlightweight\\streaming\\betfairstream.py\", line 67, in start\n    self._read_loop()\n  File \"c:\\Users\\DouglasB\\GitHub\\How-to-Automate-Public-Version\\.venv\\lib\\site-packages\\betfairlightweight\\streaming\\betfairstream.py\", line 233, in _read_loop\n    self._data(received_data)\n  File \"c:\\Users\\DouglasB\\GitHub\\How-to-Automate-Public-Version\\.venv\\lib\\site-packages\\betfairlightweight\\streaming\\betfairstream.py\", line 274, in _data\n    raise ListenerError(self.listener.connection_id, received_data)\nbetfairlightweight.exceptions.ListenerError: connection_id: 209-140723063254-1955531, data: {\"op\":\"status\",\"statusCode\":\"FAILURE\",\"errorCode\":\"TIMEOUT\",\"errorMessage\":\"Connection is not subscribed and is idle: 15000 ms\",\"connectionClosed\":true,\"connectionId\":\"209-140723063254-1955531\"}",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "89086bbff64a",
            "image_72": "https:\/\/avatars.slack-edge.com\/2023-01-10\/4604281940487_89086bbff64aee88bfe0_72.png",
            "first_name": "Andy",
            "real_name": "Andy",
            "display_name": "Andy",
            "team": "T4G9NBD2M",
            "name": "andreworourke84",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1688821380.058179",
        "parent_user_id": "U04J6LUGCFM",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "\/HO",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Now this :\n\nDo they mean by this comment that flumine can only handle 1k markets or they don’t want to increase above 1k…?\n\nHi Andy,\n \nWe’re not experts with using Flumine, but I managed to recreate the error message using the same filters.\n \nIt triggered the SUBSCRIPTION_LIMIT_EXCEEDED, then the TIMEOUT error that you received.\n \nWe can’t increase the market limit again as appears you’ll need to adjust your strategy to filter the number of markets to below 1000 and see if that works.\n \nYou could see if Liam (betcode) has any suggestions on why you’re not seeing the SUBSCRIPTION_LIMIT_EXCEEDED?\n \n \nFilters\n \nstrategy = ExampleStrategy(\n    market_filter=streaming_market_filter(\n        event_type_ids=[\"7\",\"4339\"],\n        #country_codes=[\"GB\"],\n        market_types=[\"WIN\",\"PLACE\"],\n    ),\n \n \nError Log\n \n2023-07-14 16:32:54,606:ERROR:[MarketStream: 2001]: SUBSCRIPTION_LIMIT_EXCEEDED: trying to subscribe to 1258 markets whereas max allowed number was: 1000\n2023-07-14 16:32:54,607:INFO:[MarketStream: 2001]: FAILURE (4 connections available)\n2023-07-14 16:33:03,126:INFO:Client update account details\n2023-07-14 16:33:10,123:ERROR:[MarketStream: None]: TIMEOUT: Connection is not subscribed and is idle: 15000 ms\n2023-07-14 16:33:10,124:ERROR:MarketStream 2001 run error\nTraceback (most recent call last):\n  File \"c:\\Users\\DouglasB\\GitHub\\How-to-Automate-Public-Version\\.venv\\lib\\site-packages\\flumine\\streams\\marketstream.py\", line 44, in run\n    self._stream.start()\n  File \"c:\\Users\\DouglasB\\GitHub\\How-to-Automate-Public-Version\\.venv\\lib\\site-packages\\betfairlightweight\\streaming\\betfairstream.py\", line 67, in start\n    self._read_loop()\n  File \"c:\\Users\\DouglasB\\GitHub\\How-to-Automate-Public-Version\\.venv\\lib\\site-packages\\betfairlightweight\\streaming\\betfairstream.py\", line 233, in _read_loop\n    self._data(received_data)\n  File \"c:\\Users\\DouglasB\\GitHub\\How-to-Automate-Public-Version\\.venv\\lib\\site-packages\\betfairlightweight\\streaming\\betfairstream.py\", line 274, in _data\n    raise ListenerError(self.listener.connection_id, received_data)\nbetfairlightweight.exceptions.ListenerError: connection_id: 209-140723063254-1955531, data: {\"op\":\"status\",\"statusCode\":\"FAILURE\",\"errorCode\":\"TIMEOUT\",\"errorMessage\":\"Connection is not subscribed and is idle: 15000 ms\",\"connectionClosed\":true,\"connectionId\":\"209-140723063254-1955531\"}"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1689334236.201179",
        "client_msg_id": "C96E914E-1E0F-4CE8-B6BA-7CFBADACB49F",
        "text": "The latter, you can however give flumine a list of market filters to get around this if they won’t bump above 1k ",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1688821380.058179",
        "parent_user_id": "U04J6LUGCFM",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "0Ny+",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "The latter, you can however give flumine a list of market filters to get around this if they "
                            },
                            {
                                "type": "text",
                                "text": "won’t"
                            },
                            {
                                "type": "text",
                                "text": " bump above 1k "
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U04J6LUGCFM",
        "type": "message",
        "ts": "1689334339.652389",
        "client_msg_id": "4699ab47-e00e-4050-9cea-f8171414fc7e",
        "text": "I imagine they will increase if I push the issue. Pretty remarkable reply really",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "89086bbff64a",
            "image_72": "https:\/\/avatars.slack-edge.com\/2023-01-10\/4604281940487_89086bbff64aee88bfe0_72.png",
            "first_name": "Andy",
            "real_name": "Andy",
            "display_name": "Andy",
            "team": "T4G9NBD2M",
            "name": "andreworourke84",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1688821380.058179",
        "parent_user_id": "U04J6LUGCFM",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "QXA9",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I imagine they will increase if I push the issue. Pretty remarkable reply really"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U04J6LUGCFM",
        "type": "message",
        "ts": "1689334409.503649",
        "client_msg_id": "19471101-8215-4699-830f-ce4549f51a6b",
        "text": "I'm using BFLW though for my stream? I've had a lot of help with my code.... I'm not super well versed. I'm unsure how to proceed",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "89086bbff64a",
            "image_72": "https:\/\/avatars.slack-edge.com\/2023-01-10\/4604281940487_89086bbff64aee88bfe0_72.png",
            "first_name": "Andy",
            "real_name": "Andy",
            "display_name": "Andy",
            "team": "T4G9NBD2M",
            "name": "andreworourke84",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1688821380.058179",
        "parent_user_id": "U04J6LUGCFM",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "WSP",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I'm using BFLW though for my stream? I've had a lot of help with my code.... I'm not super well versed. I'm unsure how to proceed"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1689334439.597569",
        "client_msg_id": "3CE83544-EC40-4D87-AD17-85E66D25B081",
        "text": "Delete it all and use flumine ",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1688821380.058179",
        "parent_user_id": "U04J6LUGCFM",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "ThN",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Delete it all and use flumine "
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U04J6LUGCFM",
        "type": "message",
        "ts": "1689334684.327249",
        "client_msg_id": "d87bdc45-18ac-40ef-af02-bb82688111ab",
        "text": "I'll just get them to increase first and go from there. I'm putting in good volume..",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "89086bbff64a",
            "image_72": "https:\/\/avatars.slack-edge.com\/2023-01-10\/4604281940487_89086bbff64aee88bfe0_72.png",
            "first_name": "Andy",
            "real_name": "Andy",
            "display_name": "Andy",
            "team": "T4G9NBD2M",
            "name": "andreworourke84",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1688821380.058179",
        "parent_user_id": "U04J6LUGCFM",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "jMss",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I'll just get them to increase first and go from there. I'm putting in good volume.."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U04J6LUGCFM",
        "type": "message",
        "ts": "1689334778.734079",
        "client_msg_id": "d93046ef-f900-410b-a3d7-5527f26e4c91",
        "text": "They are asking though if you have any idea why I didn't get *SUBSCRIPTION_LIMIT_EXCEEDED* message. Looking at their messages, is it just they have logging on for this? In their test, they get *SUBSCRIPTION_LIMIT_EXCEEDED* then they get Encountered an error (connection_id: 106-080723010256-1216805, data: {\"op\":\"status\",\"statusCode\":\"FAILURE\",\"errorCode\":\"TIMEOUT\",\"errorMessage\":\"Connection is not subscribed and is idle: 15000 ms\",\"connectionClosed\":true,\"connectionId\":\"101-080723010255-1157348\"}) when starting or running the stream afterwards, same as me",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "89086bbff64a",
            "image_72": "https:\/\/avatars.slack-edge.com\/2023-01-10\/4604281940487_89086bbff64aee88bfe0_72.png",
            "first_name": "Andy",
            "real_name": "Andy",
            "display_name": "Andy",
            "team": "T4G9NBD2M",
            "name": "andreworourke84",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1688821380.058179",
        "parent_user_id": "U04J6LUGCFM",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "wRn",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "They are asking though if you have any idea why I didn't get "
                            },
                            {
                                "type": "text",
                                "text": "SUBSCRIPTION_LIMIT_EXCEEDED",
                                "style": {
                                    "bold": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " message. Looking at their messages, is it just they have logging on for this? In their test, they get "
                            },
                            {
                                "type": "text",
                                "text": "SUBSCRIPTION_LIMIT_EXCEEDED",
                                "style": {
                                    "bold": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " then they get Encountered an error (connection_id: 106-080723010256-1216805, data: {\"op\":\"status\",\"statusCode\":\"FAILURE\",\"errorCode\":\"TIMEOUT\",\"errorMessage\":\"Connection is not subscribed and is idle: 15000 ms\",\"connectionClosed\":true,\"connectionId\":\"101-080723010255-1157348\"}) when starting or running the stream afterwards, same as me"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1689334840.241649",
        "client_msg_id": "0881D321-FDE9-4596-9A2B-2D27AA946B15",
        "text": "No idea mate, this is all a massive waste of time tbh ",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1688821380.058179",
        "parent_user_id": "U04J6LUGCFM",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "66a0",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "No idea mate, this is all a massive waste of time tbh "
                            }
                        ]
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "100",
                "users": [
                    "U0476CG183A"
                ],
                "count": 1
            }
        ]
    }
]