[
    {
        "user": "U04L2UY6EH1",
        "type": "message",
        "ts": "1678696103.922009",
        "client_msg_id": "d63cad15-9938-441a-8974-13906bdc3582",
        "text": "betfair historic data",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "ga92550c2f47",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/a92550c2f472c8dbe6b797e58ab0dbc1.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png",
            "first_name": "Sunken",
            "real_name": "Sunken",
            "display_name": "Sunken",
            "team": "T4G9NBD2M",
            "name": "kelvin.sun52",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1678622014.556409",
        "parent_user_id": "U04L2UY6EH1",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "nJ+a",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "betfair historic data"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UBS7QANF3",
        "type": "message",
        "ts": "1678696118.023039",
        "client_msg_id": "16c49ded-0297-4b39-a0bf-8921559b4a5e",
        "text": "BASIC\/ADVANCED\/PRO?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gaaf844a4a90",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/eaaf844a4a905431d83430e563b077aa.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png",
            "first_name": "",
            "real_name": "Maurice Berk",
            "display_name": "Mo",
            "team": "T4G9NBD2M",
            "name": "maurice",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1678622014.556409",
        "parent_user_id": "U04L2UY6EH1",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "jPd",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "BASIC\/ADVANCED\/PRO?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U04L2UY6EH1",
        "type": "message",
        "ts": "1678696432.930759",
        "client_msg_id": "0c82caee-cd28-4015-83a1-e364e8b1112e",
        "text": "pro",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "ga92550c2f47",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/a92550c2f472c8dbe6b797e58ab0dbc1.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png",
            "first_name": "Sunken",
            "real_name": "Sunken",
            "display_name": "Sunken",
            "team": "T4G9NBD2M",
            "name": "kelvin.sun52",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1678622014.556409",
        "parent_user_id": "U04L2UY6EH1",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "0na0",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "pro"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UBS7QANF3",
        "type": "message",
        "ts": "1678696479.085709",
        "client_msg_id": "f18d7e12-5d4b-4f64-8def-52e91d179a8b",
        "text": "Are you setting the Listener arguments appropriately? <https:\/\/github.com\/betcode-org\/betfair\/blob\/4d7c38bd8b75183fbc46637abcabb8954ef00593\/betfairlightweight\/streaming\/listener.py#L107-L108>",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gaaf844a4a90",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/eaaf844a4a905431d83430e563b077aa.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png",
            "first_name": "",
            "real_name": "Maurice Berk",
            "display_name": "Mo",
            "team": "T4G9NBD2M",
            "name": "maurice",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1678622014.556409",
        "parent_user_id": "U04L2UY6EH1",
        "attachments": [
            {
                "id": 1,
                "footer_icon": "https:\/\/slack.github.com\/static\/img\/favicon-neutral.png",
                "color": "24292f",
                "bot_id": "B021ZJYSBMW",
                "app_unfurl_url": "https:\/\/github.com\/betcode-org\/betfair\/blob\/4d7c38bd8b75183fbc46637abcabb8954ef00593\/betfairlightweight\/streaming\/listener.py#L107-L108",
                "is_app_unfurl": true,
                "app_id": "A01BP7R4KNY",
                "fallback": "<https:\/\/github.com\/betcode-org\/betfair\/blob\/4d7c38bd8b75183fbc46637abcabb8954ef00593\/betfairlightweight\/streaming\/listener.py | listener.py>",
                "text": "```\n        :param bool calculate_market_tv: Calculate market traded volume from runner traded (should be True if using betfair PRO data)\n        :param bool cumulative_runner_tv: Cumulative runner traded volume (should be True if using betfair purchased data)\n```",
                "title": "<https:\/\/github.com\/betcode-org\/betfair\/blob\/4d7c38bd8b75183fbc46637abcabb8954ef00593\/betfairlightweight\/streaming\/listener.py | listener.py>",
                "footer": "<https:\/\/github.com\/betcode-org\/betfair|betcode-org\/betfair>",
                "mrkdwn_in": [
                    "text"
                ]
            }
        ],
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "bAXY",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Are you setting the Listener arguments appropriately? "
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/github.com\/betcode-org\/betfair\/blob\/4d7c38bd8b75183fbc46637abcabb8954ef00593\/betfairlightweight\/streaming\/listener.py#L107-L108"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U04L2UY6EH1",
        "type": "message",
        "ts": "1678696517.263029",
        "client_msg_id": "2250a29d-bd95-4f4a-b8fb-97b025a5f77d",
        "text": "hmm - hadn't seen those arguments. Thanks for pointing towards a potential solution. Will take a look shortly",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "ga92550c2f47",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/a92550c2f472c8dbe6b797e58ab0dbc1.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png",
            "first_name": "Sunken",
            "real_name": "Sunken",
            "display_name": "Sunken",
            "team": "T4G9NBD2M",
            "name": "kelvin.sun52",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1678622014.556409",
        "parent_user_id": "U04L2UY6EH1",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Ps\/o",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "hmm - hadn't seen those arguments. Thanks for pointing towards a potential solution. Will take a look shortly"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U04L2UY6EH1",
        "type": "message",
        "ts": "1678706160.789079",
        "edited": {
            "user": "U04L2UY6EH1",
            "ts": "1678706251.000000"
        },
        "client_msg_id": "89d0cb9d-d3d4-4378-abdf-a03f7a21a01f",
        "text": "Still having issues. Putting in some of the code I used to test the difference\n```test_file_path=F'{start_path}PRO_2020_Apr_10_29766007_1.170279955.txt'\ndata_dump=open(test_file_path,\"r\")\njson_dump=data_dump.readlines()\n\nlistener = betfairlightweight.StreamListener(max_latency=None,calculate_market_tv=True,cumulative_runner_tv=True)\n\nstream = trading.streaming.create_historical_generator_stream(\n    file_path=test_file_path,\n    listener=listener,\n)\n\ngen =stream.get_generator()\nmarket_booksList=list(gen())\n\ntotal_traded=0\n\nfor i,update in enumerate(json_dump):\n    if i == 0: # No price info\n        continue\n    betfair_dataDict=json.loads(update)\n    trade_changeList=betfair_dataDict['mc'][0]['rc']\n\n    for changeDict in trade_changeList:\n            if 'trd' in changeDict:\n                total_traded += changeDict['tv']\n    total_traded_blw=market_booksList[i][0].total_matched\n    if abs(total_traded - total_traded_blw) &gt;0.1:\n         print(total_traded, \"basic\")\n         print(total_traded_blw, \"blw\")\n         print(i)```",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "ga92550c2f47",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/a92550c2f472c8dbe6b797e58ab0dbc1.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png",
            "first_name": "Sunken",
            "real_name": "Sunken",
            "display_name": "Sunken",
            "team": "T4G9NBD2M",
            "name": "kelvin.sun52",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1678622014.556409",
        "parent_user_id": "U04L2UY6EH1",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "1BLs",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Still having issues. Putting in some of the code I used to test the difference\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "test_file_path=F'{start_path}PRO_2020_Apr_10_29766007_1.170279955.txt'\ndata_dump=open(test_file_path,\"r\")\njson_dump=data_dump.readlines()\n\nlistener = betfairlightweight.StreamListener(max_latency=None,calculate_market_tv=True,cumulative_runner_tv=True)\n\nstream = trading.streaming.create_historical_generator_stream(\n    file_path=test_file_path,\n    listener=listener,\n)\n\ngen =stream.get_generator()\nmarket_booksList=list(gen())\n\ntotal_traded=0\n\nfor i,update in enumerate(json_dump):\n    if i == 0: # No price info\n        continue\n    betfair_dataDict=json.loads(update)\n    trade_changeList=betfair_dataDict['mc'][0]['rc']\n\n    for changeDict in trade_changeList:\n            if 'trd' in changeDict:\n                total_traded += changeDict['tv']\n    total_traded_blw=market_booksList[i][0].total_matched\n    if abs(total_traded - total_traded_blw) >0.1:\n         print(total_traded, \"basic\")\n         print(total_traded_blw, \"blw\")\n         print(i)"
                            }
                        ],
                        "border": 0
                    }
                ]
            }
        ]
    },
    {
        "user": "UBS7QANF3",
        "type": "message",
        "ts": "1678708598.829089",
        "client_msg_id": "09b34200-d071-46b7-97d6-3511039830c1",
        "text": "Example?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gaaf844a4a90",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/eaaf844a4a905431d83430e563b077aa.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png",
            "first_name": "",
            "real_name": "Maurice Berk",
            "display_name": "Mo",
            "team": "T4G9NBD2M",
            "name": "maurice",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1678622014.556409",
        "parent_user_id": "U04L2UY6EH1",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "3ULK",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Example?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U04L2UY6EH1",
        "type": "message",
        "ts": "1678712263.556119",
        "client_msg_id": "bcd87fa1-cd8a-4ea2-bc66-a8400a8dc83a",
        "text": "Figured it out while I was going through the print statements. Basically comes down to me not understanding how betfair relays traded volumes, i.e. the json updates are cumulative for traded totals.\n\nThanks for your help on this",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "ga92550c2f47",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/a92550c2f472c8dbe6b797e58ab0dbc1.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0014-72.png",
            "first_name": "Sunken",
            "real_name": "Sunken",
            "display_name": "Sunken",
            "team": "T4G9NBD2M",
            "name": "kelvin.sun52",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1678622014.556409",
        "parent_user_id": "U04L2UY6EH1",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "vRE",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Figured it out while I was going through the print statements. Basically comes down to me not understanding how betfair relays traded volumes, i.e. the json updates are cumulative for traded totals.\n\nThanks for your help on this"
                            }
                        ]
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "+1",
                "users": [
                    "UBS7QANF3"
                ],
                "count": 1
            }
        ]
    },
    {
        "user": "U016TGY3676",
        "type": "message",
        "ts": "1678738689.425179",
        "client_msg_id": "7e641ca4-3f5a-42f1-bca8-5a7c4ac59c1e",
        "text": "<@U012XF5CNPN> `market.context` dict is also useful for storing stuff... it's our safe place.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g6a681220e11",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/6a681220e11c1a2ed3685375d658dadb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0001-72.png",
            "first_name": "",
            "real_name": "birchy",
            "display_name": "birchy",
            "team": "T4G9NBD2M",
            "name": "birchy",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1678558225.388719",
        "parent_user_id": "U012XF5CNPN",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "WRk",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "user",
                                "user_id": "U012XF5CNPN"
                            },
                            {
                                "type": "text",
                                "text": " "
                            },
                            {
                                "type": "text",
                                "text": "market.context",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " dict is also useful for storing stuff... it's our safe place."
                            }
                        ]
                    }
                ]
            }
        ]
    }
]