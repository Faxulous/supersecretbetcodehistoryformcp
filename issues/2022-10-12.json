[
    {
        "user": "U04380WMKL2",
        "type": "message",
        "ts": "1665619955.650719",
        "client_msg_id": "811ef3d2-d39c-4398-b1e3-5f87bbe9d70e",
        "text": "Hi there. I am trying to stream market data using the code below; however, I am getting an error when I run the subscribe_to_markets function. The error reads as follows: \"TypeError: Object of type bytes is not JSON serializable.\"\n\nI don't quite understand this error, as the market_filter and market_data_filters variables are dictionaries (not byte objects), so this error doesn't make sense to me intuitively.\n\nAny help with resolving this issue would be much appreciated. Thanks in advance!\n\n```from betfairlightweight.filters import (\n    streaming_market_filter,\n    streaming_market_data_filter,\n)\n\nbetfair_socket = trading.streaming.create_stream()\n\nmarket_filter = streaming_market_filter(\n    event_type_ids=['7'],\n    country_codes=['IE'],\n    market_types=['WIN'],\n)\nmarket_data_filter = streaming_market_data_filter(\n    fields=['EX_ALL_OFFERS', 'EX_MARKET_DEF'],\n    ladder_levels=3\n)\n\nbetfair_socket.subscribe_to_markets(\n    market_filter=market_filter,\n    market_data_filter=market_data_filter,\n)\n\nbetfair_socket.start()  # blocking```",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "0689a341f842",
            "image_72": "https:\/\/avatars.slack-edge.com\/2022-10-11\/4205481052053_0689a341f84245209a1b_72.png",
            "first_name": "Liam",
            "real_name": "Liam Querido",
            "display_name": "Liam Querido",
            "team": "T4G9NBD2M",
            "name": "liamquerido",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1665619955.650719",
        "reply_count": 15,
        "reply_users_count": 2,
        "latest_reply": "1666138634.379249",
        "reply_users": [
            "U4H19D1D2",
            "U04380WMKL2"
        ],
        "replies": [
            {
                "user": "U4H19D1D2",
                "ts": "1665640278.879479"
            },
            {
                "user": "U04380WMKL2",
                "ts": "1665642524.893239"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1665646259.693389"
            },
            {
                "user": "U04380WMKL2",
                "ts": "1665649407.484339"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1665651597.337399"
            },
            {
                "user": "U04380WMKL2",
                "ts": "1665798726.433409"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1665815491.870589"
            },
            {
                "user": "U04380WMKL2",
                "ts": "1665820803.769269"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1665824286.247099"
            },
            {
                "user": "U04380WMKL2",
                "ts": "1665960515.212209"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1665994203.292399"
            },
            {
                "user": "U04380WMKL2",
                "ts": "1666063297.532019"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1666075349.600659"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1666075444.120559"
            },
            {
                "user": "U04380WMKL2",
                "ts": "1666138634.379249"
            }
        ],
        "is_locked": false,
        "subscribed": true,
        "last_read": "1666138634.379249",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "PWE",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Hi there. I am trying to stream market data using the code below; however, I am getting an error when I run the subscribe_to_markets function. The error reads as follows: \"TypeError: Object of type bytes is not JSON serializable.\"\n\nI don't quite understand this error, as the market_filter and market_data_filters variables are dictionaries (not byte objects), so this error doesn't make sense to me intuitively.\n\nAny help with resolving this issue would be much appreciated. Thanks in advance!\n\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "from betfairlightweight.filters import (\n    streaming_market_filter,\n    streaming_market_data_filter,\n)\n\nbetfair_socket = trading.streaming.create_stream()\n\nmarket_filter = streaming_market_filter(\n    event_type_ids=['7'],\n    country_codes=['IE'],\n    market_types=['WIN'],\n)\nmarket_data_filter = streaming_market_data_filter(\n    fields=['EX_ALL_OFFERS', 'EX_MARKET_DEF'],\n    ladder_levels=3\n)\n\nbetfair_socket.subscribe_to_markets(\n    market_filter=market_filter,\n    market_data_filter=market_data_filter,\n)\n\nbetfair_socket.start()  # blocking"
                            }
                        ],
                        "border": 0
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1665640278.879479",
        "client_msg_id": "239A481B-CAC5-4131-B382-75497797DCEA",
        "text": "Can you share the full traceback?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1665619955.650719",
        "parent_user_id": "U04380WMKL2",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "ANEr",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Can you share the full "
                            },
                            {
                                "type": "text",
                                "text": "traceback"
                            },
                            {
                                "type": "text",
                                "text": "?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U04380WMKL2",
        "type": "message",
        "ts": "1665642524.893239",
        "client_msg_id": "e6ebbeb8-831b-4a1e-80ae-c89fd1144bc3",
        "text": "Hi Liam, thanks for your prompt response. Below is the traceback.\n\nTraceback (most recent call last):\n\n  File \"&lt;ipython-input-3-131767784cbe&gt;\", line 1, in &lt;module&gt;\n    betfair_socket.subscribe_to_markets(\n\n  File \"C:\\Users\\liamq\\anaconda3\\lib\\site-packages\\betfairlightweight\\streaming\\betfairstream.py\", line 145, in subscribe_to_markets\n    self._send(message)\n\n  File \"C:\\Users\\liamq\\anaconda3\\lib\\site-packages\\betfairlightweight\\streaming\\betfairstream.py\", line 285, in _send\n    self.authenticate()\n\n  File \"C:\\Users\\liamq\\anaconda3\\lib\\site-packages\\betfairlightweight\\streaming\\betfairstream.py\", line 96, in authenticate\n    self._send(message)\n\n  File \"C:\\Users\\liamq\\anaconda3\\lib\\site-packages\\betfairlightweight\\streaming\\betfairstream.py\", line 287, in _send\n    message_dumped = json.dumps(message)\n\n  File \"C:\\Users\\liamq\\anaconda3\\lib\\json\\__init__.py\", line 231, in dumps\n    return _default_encoder.encode(obj)\n\n  File \"C:\\Users\\liamq\\anaconda3\\lib\\json\\encoder.py\", line 199, in encode\n    chunks = self.iterencode(o, _one_shot=True)\n\n  File \"C:\\Users\\liamq\\anaconda3\\lib\\json\\encoder.py\", line 257, in iterencode\n    return _iterencode(o, 0)\n\n  File \"C:\\Users\\liamq\\anaconda3\\lib\\json\\encoder.py\", line 179, in default\n    raise TypeError(f'Object of type {o.__class__.__name__} '\n\nTypeError: Object of type bytes is not JSON serializable",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "0689a341f842",
            "image_72": "https:\/\/avatars.slack-edge.com\/2022-10-11\/4205481052053_0689a341f84245209a1b_72.png",
            "first_name": "Liam",
            "real_name": "Liam Querido",
            "display_name": "Liam Querido",
            "team": "T4G9NBD2M",
            "name": "liamquerido",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1665619955.650719",
        "parent_user_id": "U04380WMKL2",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "IJTQ",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Hi Liam, thanks for your prompt response. Below is the traceback.\n\nTraceback (most recent call last):\n\n  File \"<ipython-input-3-131767784cbe>\", line 1, in <module>\n    betfair_socket.subscribe_to_markets(\n\n  File \"C:\\Users\\liamq\\anaconda3\\lib\\site-packages\\betfairlightweight\\streaming\\betfairstream.py\", line 145, in subscribe_to_markets\n    self._send(message)\n\n  File \"C:\\Users\\liamq\\anaconda3\\lib\\site-packages\\betfairlightweight\\streaming\\betfairstream.py\", line 285, in _send\n    self.authenticate()\n\n  File \"C:\\Users\\liamq\\anaconda3\\lib\\site-packages\\betfairlightweight\\streaming\\betfairstream.py\", line 96, in authenticate\n    self._send(message)\n\n  File \"C:\\Users\\liamq\\anaconda3\\lib\\site-packages\\betfairlightweight\\streaming\\betfairstream.py\", line 287, in _send\n    message_dumped = json.dumps(message)\n\n  File \"C:\\Users\\liamq\\anaconda3\\lib\\json\\__init__.py\", line 231, in dumps\n    return _default_encoder.encode(obj)\n\n  File \"C:\\Users\\liamq\\anaconda3\\lib\\json\\encoder.py\", line 199, in encode\n    chunks = self.iterencode(o, _one_shot=True)\n\n  File \"C:\\Users\\liamq\\anaconda3\\lib\\json\\encoder.py\", line 257, in iterencode\n    return _iterencode(o, 0)\n\n  File \"C:\\Users\\liamq\\anaconda3\\lib\\json\\encoder.py\", line 179, in default\n    raise TypeError(f'Object of type {o.__class__.__name__} '\n\nTypeError: Object of type bytes is not JSON serializable"
                            }
                        ]
                    }
                ]
            }
        ]
    }
]