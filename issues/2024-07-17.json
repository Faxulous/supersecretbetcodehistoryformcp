[
    {
        "user": "U0476CG183A",
        "type": "message",
        "ts": "1721199791.608149",
        "client_msg_id": "7bec4809-663b-4843-8dba-86d77a239246",
        "text": "How can I add a worker to a Flumine instance to refresh a dataframe every 60 seconds?\n\nI've created a dataframe before starting the framework and loaded it into the framework, but I'm going to asynchronously refresh the dataframe every 60 seconds, and need the Flumine instance to update with this new dataframe",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g9cca9b61659",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/9cca9b616592f1b8e24755f8591d2049.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png",
            "first_name": "GrimReaper",
            "real_name": "GrimReaper",
            "display_name": "Herugrim",
            "team": "T4G9NBD2M",
            "name": "mitchell.motyka",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1721199791.608149",
        "reply_count": 2,
        "reply_users_count": 2,
        "latest_reply": "1721201670.810499",
        "reply_users": [
            "U4H19D1D2",
            "U0476CG183A"
        ],
        "replies": [
            {
                "user": "U4H19D1D2",
                "ts": "1721201182.949459"
            },
            {
                "user": "U0476CG183A",
                "ts": "1721201670.810499"
            }
        ],
        "is_locked": false,
        "subscribed": true,
        "last_read": "1721201670.810499",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "GrESk",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "How can I add a worker to a Flumine instance to refresh a dataframe every 60 seconds?\n\nI've created a dataframe before starting the framework and loaded it into the framework, but I'm going to asynchronously refresh the dataframe every 60 seconds, and need the Flumine instance to update with this new dataframe"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1721201182.949459",
        "client_msg_id": "b7575b55-2627-40ce-ad0f-6d88641c5880",
        "text": "```from flumine.worker import BackgroundWorker\n\n\ndef update_df(context: dict, flumine) -&gt; None:\n    df = get_df_data()\n    # store df in market context?\n    for market in flumine.markets:\n        market.context[\"df\"] = df\n    # store df in strategy context?\n    for strategy in flumine.strategies:\n        strategy.context[\"df\"] = df\n\n\nframework.add_worker(\n    BackgroundWorker(\n        framework,\n        update_df,\n        interval=60,\n        start_delay=4,\n    )\n)```",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1721199791.608149",
        "parent_user_id": "U0476CG183A",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "CSAg4",
                "elements": [
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "from flumine.worker import BackgroundWorker\n\n\ndef update_df(context: dict, flumine) -> None:\n    df = get_df_data()\n    # store df in market context?\n    for market in flumine.markets:\n        market.context[\"df\"] = df\n    # store df in strategy context?\n    for strategy in flumine.strategies:\n        strategy.context[\"df\"] = df\n\n\nframework.add_worker(\n    BackgroundWorker(\n        framework,\n        update_df,\n        interval=60,\n        start_delay=4,\n    )\n)"
                            }
                        ],
                        "border": 0
                    }
                ]
            }
        ]
    },
    {
        "user": "U0476CG183A",
        "type": "message",
        "ts": "1721201670.810499",
        "client_msg_id": "ccb84598-fe70-4214-8bac-cbd9ac2ebe85",
        "text": "Brilliant! Thanks",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g9cca9b61659",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/9cca9b616592f1b8e24755f8591d2049.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png",
            "first_name": "GrimReaper",
            "real_name": "GrimReaper",
            "display_name": "Herugrim",
            "team": "T4G9NBD2M",
            "name": "mitchell.motyka",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1721199791.608149",
        "parent_user_id": "U0476CG183A",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "WG6dD",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Brilliant! Thanks"
                            }
                        ]
                    }
                ]
            }
        ]
    }
]