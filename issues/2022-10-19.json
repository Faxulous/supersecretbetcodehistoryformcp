[
    {
        "user": "U01FQH5FA8M",
        "type": "message",
        "ts": "1666179064.101609",
        "client_msg_id": "dc9d67d5-4673-49a6-9d90-b15ec79fc4ef",
        "text": "I just got a TOO_MUCH_DATA error when calling list_market_book() with a list of 40 races. So I can read less at once - but is there any way to know in advance whether or not I will get this error again? Using try\/except feels kinda yucky.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "c2ad96dd9f4b",
            "image_72": "https:\/\/avatars.slack-edge.com\/2020-11-30\/1550305177569_c2ad96dd9f4b70daf43d_72.jpg",
            "first_name": "Michael",
            "real_name": "Michael Reiss",
            "display_name": "Mick",
            "team": "T4G9NBD2M",
            "name": "reissgo",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "SJn",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I just got a TOO_MUCH_DATA error when calling list_market_book() with a list of 40 races. So I can read less at once - but is there any way to know in advance whether or not I will get this error again? Using try\/except feels kinda yucky."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UUE6E1LA1",
        "type": "message",
        "ts": "1666179240.522739",
        "client_msg_id": "e91cfd79-d7f4-45d1-a97f-044f554d3853",
        "text": "It's pretty easy - <https:\/\/docs.developer.betfair.com\/display\/1smk3cen4v3lu3yomq5qye0ni\/Market+Data+Request+Limits>",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gf53cae45edd",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/f53cae45edd7f7b67bbe98819597612e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0017-72.png",
            "first_name": "",
            "real_name": "D C",
            "display_name": "D C",
            "team": "T4G9NBD2M",
            "name": "oddsvantage",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "aRF",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "It's pretty easy - "
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/docs.developer.betfair.com\/display\/1smk3cen4v3lu3yomq5qye0ni\/Market+Data+Request+Limits"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U01FQH5FA8M",
        "type": "message",
        "ts": "1666179309.573959",
        "client_msg_id": "1cce7a7e-d42c-47ee-b09a-b41167e4889c",
        "text": "Thank you :slightly_smiling_face:",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "c2ad96dd9f4b",
            "image_72": "https:\/\/avatars.slack-edge.com\/2020-11-30\/1550305177569_c2ad96dd9f4b70daf43d_72.jpg",
            "first_name": "Michael",
            "real_name": "Michael Reiss",
            "display_name": "Mick",
            "team": "T4G9NBD2M",
            "name": "reissgo",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "dSGg\/",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Thank you "
                            },
                            {
                                "type": "emoji",
                                "name": "slightly_smiling_face",
                                "unicode": "1f642"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1666179604.522409",
        "client_msg_id": "b51790ae-21f3-4951-93f9-ad82f5321623",
        "text": "How come you aren't streaming? <https:\/\/github.com\/betcode-org\/betfair\/blob\/6b064a68c8d2afceda81b70d74b6a0ee9601f228\/betfairlightweight\/metadata.py#L44|lookup>",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "attachments": [
            {
                "id": 1,
                "footer_icon": "https:\/\/slack.github.com\/static\/img\/favicon-neutral.png",
                "color": "24292f",
                "bot_id": "B021ZJYSBMW",
                "app_unfurl_url": "https:\/\/github.com\/betcode-org\/betfair\/blob\/6b064a68c8d2afceda81b70d74b6a0ee9601f228\/betfairlightweight\/metadata.py#L44",
                "is_app_unfurl": true,
                "app_id": "A01BP7R4KNY",
                "fallback": "<https:\/\/github.com\/betcode-org\/betfair\/blob\/6b064a68c8d2afceda81b70d74b6a0ee9601f228\/betfairlightweight\/metadata.py | metadata.py>",
                "text": "```\nlist_market_book = {\n```",
                "title": "<https:\/\/github.com\/betcode-org\/betfair\/blob\/6b064a68c8d2afceda81b70d74b6a0ee9601f228\/betfairlightweight\/metadata.py | metadata.py>",
                "footer": "<https:\/\/github.com\/betcode-org\/betfair|betcode-org\/betfair>",
                "mrkdwn_in": [
                    "text"
                ]
            }
        ],
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "JO4J6",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "How come you aren't streaming? "
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/github.com\/betcode-org\/betfair\/blob\/6b064a68c8d2afceda81b70d74b6a0ee9601f228\/betfairlightweight\/metadata.py#L44",
                                "text": "lookup"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U01FQH5FA8M",
        "type": "message",
        "ts": "1666180173.045069",
        "client_msg_id": "3c4f72a1-86a3-4c1f-9ebf-81bf5bbd7da9",
        "text": "I know almost nothing about streaming, other than somehow things happen faster - and generally speed is not an issue for me... So I'm concerned that I will have to learn a whole load of new things for not much benefit.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "c2ad96dd9f4b",
            "image_72": "https:\/\/avatars.slack-edge.com\/2020-11-30\/1550305177569_c2ad96dd9f4b70daf43d_72.jpg",
            "first_name": "Michael",
            "real_name": "Michael Reiss",
            "display_name": "Mick",
            "team": "T4G9NBD2M",
            "name": "reissgo",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "aiYn",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I know almost nothing about streaming, other than somehow things happen faster - and generally speed is not an issue for me... So I'm concerned that I will have to learn a whole load of new things for not much benefit."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UUE6E1LA1",
        "type": "message",
        "ts": "1666180454.053279",
        "client_msg_id": "b1a5532b-cd17-4569-b1f8-7bd2254d1e2c",
        "text": "The benefit is huge <@U01FQH5FA8M>. It is not just speed - it is also about lower data transmissions and packet sizes but also greater precision when dealing with things like nonrunners and reduction factors and separating IP money from PE money at the race crossover. I realise that these things may not be directly important to you. I resisted for ages because things were working fine but I definitely noticed profit improvement after switching to streaming. It also makes analysing recorded data a lot easy because listMarketBook calls means you have to calculate the deltas yourself after every call. I guess it depends on your refresh rates and needs though so I get its a personal decision.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gf53cae45edd",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/f53cae45edd7f7b67bbe98819597612e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0017-72.png",
            "first_name": "",
            "real_name": "D C",
            "display_name": "D C",
            "team": "T4G9NBD2M",
            "name": "oddsvantage",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Wr6",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "The benefit is huge "
                            },
                            {
                                "type": "user",
                                "user_id": "U01FQH5FA8M"
                            },
                            {
                                "type": "text",
                                "text": ". It is not just speed - it is also about lower data transmissions and packet sizes but also greater precision when dealing with things like nonrunners and reduction factors and separating IP money from PE money at the race crossover. I realise that these things may not be directly important to you. I resisted for ages because things were working fine but I definitely noticed profit improvement after switching to streaming. It also makes analysing recorded data a lot easy because listMarketBook calls means you have to calculate the deltas yourself after every call. I guess it depends on your refresh rates and needs though so I get its a personal decision."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U01FQH5FA8M",
        "type": "message",
        "ts": "1666180777.995629",
        "client_msg_id": "796d596d-1038-4e30-bd89-c3d5fcc73d4a",
        "text": "I just need to google some of your terms... one mo...",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "c2ad96dd9f4b",
            "image_72": "https:\/\/avatars.slack-edge.com\/2020-11-30\/1550305177569_c2ad96dd9f4b70daf43d_72.jpg",
            "first_name": "Michael",
            "real_name": "Michael Reiss",
            "display_name": "Mick",
            "team": "T4G9NBD2M",
            "name": "reissgo",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "D2Be",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I just need to google some of your terms... one mo..."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U01FQH5FA8M",
        "type": "message",
        "ts": "1666181404.282249",
        "client_msg_id": "a15c246a-8b50-41e7-a6e4-0934c28b63ef",
        "text": "Can't find the meaning of \"IP money\" and \"PE money\"...",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "c2ad96dd9f4b",
            "image_72": "https:\/\/avatars.slack-edge.com\/2020-11-30\/1550305177569_c2ad96dd9f4b70daf43d_72.jpg",
            "first_name": "Michael",
            "real_name": "Michael Reiss",
            "display_name": "Mick",
            "team": "T4G9NBD2M",
            "name": "reissgo",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1666181404.282249",
        "reply_count": 3,
        "reply_users_count": 2,
        "latest_reply": "1666181903.712559",
        "reply_users": [
            "U01LD279D16",
            "UUE6E1LA1"
        ],
        "replies": [
            {
                "user": "U01LD279D16",
                "ts": "1666181635.303789"
            },
            {
                "user": "UUE6E1LA1",
                "ts": "1666181676.965279"
            },
            {
                "user": "UUE6E1LA1",
                "ts": "1666181903.712559"
            }
        ],
        "is_locked": false,
        "subscribed": false,
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "tPfne",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Can't find the meaning of \"IP money\" and \"PE money\"..."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U01LD279D16",
        "type": "message",
        "ts": "1666181635.303789",
        "client_msg_id": "fa9fd68c-856f-4416-b24b-0d72375e59be",
        "text": "I think in-play\/pre-event",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g5488a29f6fb",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/5488a29f6fbcfe8df23382d16a596068.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0008-72.png",
            "first_name": "Peter",
            "real_name": "Peter C",
            "display_name": "Peter C",
            "team": "T4G9NBD2M",
            "name": "peter.carter304",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1666181404.282249",
        "parent_user_id": "U01FQH5FA8M",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Nw3",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I think in-play\/pre-event"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UUE6E1LA1",
        "type": "message",
        "ts": "1666181676.965279",
        "client_msg_id": "84dcd8c1-3565-496c-8577-f1648fc59629",
        "text": "inplay and pre-event. If you have a strategy only wanting to analyse inplay money traded and you use API-NG you have to poll with listMarketBook. You often get really short suspension period so you'll get one call that is when the market is inplay, and the one before is not. You also get 2 full market traded volume arrays - you have to manually calculate the delta, but because of the uncertainty between when the market was precisely turned inplay, you won't know exactly what money traded PE and what traded IP. Obviously this uncertainty gets worse as your polling frequency gets lower. It is a small thing and perhaps a trivial example",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gf53cae45edd",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/f53cae45edd7f7b67bbe98819597612e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0017-72.png",
            "first_name": "",
            "real_name": "D C",
            "display_name": "D C",
            "team": "T4G9NBD2M",
            "name": "oddsvantage",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1666181404.282249",
        "parent_user_id": "U01FQH5FA8M",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "L+2R",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "inplay and pre-event. If you have a strategy only wanting to analyse inplay money traded and you use API-NG you have to poll with listMarketBook. You often get really short suspension period so you'll get one call that is when the market is inplay, and the one before is not. You also get 2 full market traded volume arrays - you have to manually calculate the delta, but because of the uncertainty between when the market was precisely turned inplay, you won't know exactly what money traded PE and what traded IP. Obviously this uncertainty gets worse as your polling frequency gets lower. It is a small thing and perhaps a trivial example"
                            }
                        ]
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "+1",
                "users": [
                    "U01FQH5FA8M"
                ],
                "count": 1
            }
        ]
    },
    {
        "user": "UUE6E1LA1",
        "type": "message",
        "ts": "1666181903.712559",
        "client_msg_id": "78408a3a-0f4d-413f-a5e9-e9ca1b2d21b2",
        "text": "You also don't have to waste time sending polling requests, packet sizes will be much smaller (apart from the initial images), no need to use compression on the responses (although that is not compulsory) sent back. You've also seen the small number of markets you can obtain per call on the listMarketBook operation. Also, there is no \"dead\" data - 2 calls on illiquid markets 1 second apart could often result in NO change in market prices or traded volume - but you'll still get 2 full market traded arrays and full price ladders both of which will be identical. Streaming you only get sent stuff when it changes - and its all passive.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gf53cae45edd",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/f53cae45edd7f7b67bbe98819597612e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0017-72.png",
            "first_name": "",
            "real_name": "D C",
            "display_name": "D C",
            "team": "T4G9NBD2M",
            "name": "oddsvantage",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1666181404.282249",
        "parent_user_id": "U01FQH5FA8M",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "9S4",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "You also don't have to waste time sending polling requests, packet sizes will be much smaller (apart from the initial images), no need to use compression on the responses (although that is not compulsory) sent back. You've also seen the small number of markets you can obtain per call on the listMarketBook operation. Also, there is no \"dead\" data - 2 calls on illiquid markets 1 second apart could often result in NO change in market prices or traded volume - but you'll still get 2 full market traded arrays and full price ladders both of which will be identical. Streaming you only get sent stuff when it changes - and its all passive."
                            }
                        ]
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "+1",
                "users": [
                    "U01FQH5FA8M"
                ],
                "count": 1
            }
        ]
    }
]