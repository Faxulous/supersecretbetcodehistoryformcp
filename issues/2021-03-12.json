[
    {
        "user": "U010GM77S4W",
        "type": "message",
        "ts": "1615546254.015900",
        "client_msg_id": "d54174af-f42e-488d-8617-34cd6f11b608",
        "text": "Not really sure why im getting this message:\n```{\"asctime\": \"2021-03-12 10:49:39,261\", \"levelname\": \"WARNING\", \"message\": \"Market not available to create order 138348389780580590\", \"bet_id\": \"226843537092\", \"market_id\": \"1.180439597\", \"customer_strategy_ref\": \"ID16985\", \"customer_order_ref\": \"c8312d8fc9d8c-138348389780580590\", \"strategy_name_hash\": \"c8312d8fc9d8c\"}```",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "66cae8f5399c",
            "image_72": "https:\/\/avatars.slack-edge.com\/2020-03-20\/1004508356769_66cae8f5399cf91a07ae_72.jpg",
            "first_name": "",
            "real_name": "mandelbot",
            "display_name": "mandelbot",
            "team": "T4G9NBD2M",
            "name": "demhadbale",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "XY\/W",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Not really sure why im getting this message:\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "{\"asctime\": \"2021-03-12 10:49:39,261\", \"levelname\": \"WARNING\", \"message\": \"Market not available to create order 138348389780580590\", \"bet_id\": \"226843537092\", \"market_id\": \"1.180439597\", \"customer_strategy_ref\": \"ID16985\", \"customer_order_ref\": \"c8312d8fc9d8c-138348389780580590\", \"strategy_name_hash\": \"c8312d8fc9d8c\"}"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1615546463.016900",
        "client_msg_id": "67e684cb-7e33-4f24-be1a-ca024f8b2de1",
        "text": "Caused by an executable order being already present in a market (due to a restart) the message is saying that a local market object has not yet been created, you probably get a log below saying `Order %s added to blotter`",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "mtafc",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Caused by an executable order being already present in a market (due to a restart) the message is saying that a local market object has not yet been created, you probably get a log below saying "
                            },
                            {
                                "type": "text",
                                "text": "Order %s added to blotter",
                                "style": {
                                    "code": true
                                }
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1615546492.017500",
        "client_msg_id": "3d68a7b1-ec34-4866-a358-87c0b9530553",
        "text": "We could add a delay in the order stream to reduce the chance of seeing this warning",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "XH+",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "We could add a delay in the order stream to reduce the chance of seeing this warning"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U9JHLMZB4",
        "type": "message",
        "ts": "1615549232.024800",
        "edited": {
            "user": "U9JHLMZB4",
            "ts": "1615549331.000000"
        },
        "client_msg_id": "14e050e6-3858-48ea-8388-6eddaa5cb5e9",
        "text": "Converting my first strategy from BFLW to Flumine and enjoying the paradigm shift (and the ability to throw away lots of code). I have a question about exposures. I'm overriding the default max_order_exposure and max_selection_exposure attributes for my strategy. When these exposures have been reached subsequent orders are flagged as violations. Is the violation recognition intended primarily as a fallback protection, or is it fine to use it as the front line approach to managing exposure, i.e. should I be be adding additional code to recognise and avoid \"placing\" orders that the framework will intercept and reject or would that be considered overkill \/ duplication?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g951ddcb43e7",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/3951ddcb43e788a387d6daf330dad5ca.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png",
            "first_name": "",
            "real_name": "Peter Coles",
            "display_name": "Peter",
            "team": "T4G9NBD2M",
            "name": "peter",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "ujv",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Converting my first strategy from BFLW to Flumine and enjoying the paradigm shift (and the ability to throw away lots of code). I have a question about exposures. I'm overriding the default max_order_exposure and max_selection_exposure attributes for my strategy. When these exposures have been reached subsequent orders are flagged as violations. Is the violation recognition intended primarily as a fallback protection, or is it fine to use it as the front line approach to managing exposure, i.e. should I be be adding additional code to recognise and avoid \"placing\" orders that the framework will intercept and reject or would that be considered overkill \/ duplication?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1615549430.025800",
        "client_msg_id": "49734c95-6fd2-4531-b9a0-afd856ac2655",
        "text": "Up to you but note that you will wasting some CPU if don't catch, ie you can speed up your code \/ backtesting by doing a quick lookup on the runner context",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1615549430.025800",
        "reply_count": 14,
        "reply_users_count": 3,
        "latest_reply": "1615562074.032600",
        "reply_users": [
            "U01LD279D16",
            "U4H19D1D2",
            "U016TGY3676"
        ],
        "replies": [
            {
                "user": "U01LD279D16",
                "ts": "1615550868.028900"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1615551010.029100"
            },
            {
                "user": "U01LD279D16",
                "ts": "1615551161.029400"
            },
            {
                "user": "U016TGY3676",
                "ts": "1615554928.029600"
            },
            {
                "user": "U01LD279D16",
                "ts": "1615556653.029800"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1615559929.030000"
            },
            {
                "user": "U01LD279D16",
                "ts": "1615560026.030200"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1615560053.030400"
            },
            {
                "user": "U01LD279D16",
                "ts": "1615560106.030600"
            },
            {
                "user": "U016TGY3676",
                "ts": "1615560329.030800"
            },
            {
                "user": "U016TGY3676",
                "ts": "1615560588.031100"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1615560875.032000"
            },
            {
                "user": "U016TGY3676",
                "ts": "1615561080.032300"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1615562074.032600"
            }
        ],
        "is_locked": false,
        "subscribed": true,
        "last_read": "1615562074.032600",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "1Im",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Up to you but note that you will wasting some CPU if don't catch, ie you can speed up your code \/ backtesting by doing a quick lookup on the runner context"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U9JHLMZB4",
        "type": "message",
        "ts": "1615549485.026400",
        "client_msg_id": "46b0f831-cde3-4a93-841c-d91fa58a945e",
        "text": "Fair enough. i was about to dig deeper into what the runner context provided. Thanks for the quick response.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g951ddcb43e7",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/3951ddcb43e788a387d6daf330dad5ca.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png",
            "first_name": "",
            "real_name": "Peter Coles",
            "display_name": "Peter",
            "team": "T4G9NBD2M",
            "name": "peter",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "IvX0r",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Fair enough. i was about to dig deeper into what the runner context provided. Thanks for the quick response."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U01LD279D16",
        "type": "message",
        "ts": "1615550868.028900",
        "client_msg_id": "796753fc-8c6f-4b9f-8751-2eabf09db4d3",
        "text": "Liam please would you tell me how you get the current exposure from the runner context? I didn't realise this was possible and have been manually computing it.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g5488a29f6fb",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/5488a29f6fbcfe8df23382d16a596068.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0008-72.png",
            "first_name": "Peter",
            "real_name": "Peter C",
            "display_name": "Peter C",
            "team": "T4G9NBD2M",
            "name": "peter.carter304",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1615549430.025800",
        "parent_user_id": "U4H19D1D2",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "we5k",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Liam please would you tell me how you get the current exposure from the runner context? I didn't realise this was possible and have been manually computing it."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1615551010.029100",
        "client_msg_id": "b92774f2-ff6b-4b10-9b12-e0db173db162",
        "text": "use the <https:\/\/github.com\/liampauling\/flumine\/blob\/3175e4f4a1fa115c9d41294958fee67005a38bc7\/flumine\/markets\/blotter.py#L74|blotter>\n\n```market.blotter.selection_exposure(...```",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1615549430.025800",
        "parent_user_id": "U4H19D1D2",
        "attachments": [
            {
                "fallback": "[liampauling\/flumine] flumine\/markets\/blotter.py:74",
                "text": "```\n    def selection_exposure(self, strategy, lookup: tuple) -&gt; float:\n```",
                "title": "flumine\/markets\/blotter.py:74",
                "footer": "<https:\/\/github.com\/liampauling\/flumine|liampauling\/flumine>",
                "id": 1,
                "title_link": "https:\/\/github.com\/liampauling\/flumine\/blob\/3175e4f4a1fa115c9d41294958fee67005a38bc7\/flumine\/markets\/blotter.py#L74",
                "footer_icon": "https:\/\/github.githubassets.com\/favicon.ico",
                "color": "24292f",
                "mrkdwn_in": [
                    "text"
                ],
                "bot_id": "B01144Z0734",
                "app_unfurl_url": "https:\/\/github.com\/liampauling\/flumine\/blob\/3175e4f4a1fa115c9d41294958fee67005a38bc7\/flumine\/markets\/blotter.py#L74",
                "is_app_unfurl": true
            }
        ],
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "M9oY",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "use the "
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/github.com\/liampauling\/flumine\/blob\/3175e4f4a1fa115c9d41294958fee67005a38bc7\/flumine\/markets\/blotter.py#L74",
                                "text": "blotter"
                            },
                            {
                                "type": "text",
                                "text": "\n\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "market.blotter.selection_exposure(..."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U01LD279D16",
        "type": "message",
        "ts": "1615551161.029400",
        "client_msg_id": "4a7ece4c-6a28-45bc-b62b-e2cc8221b2f7",
        "text": "thanks!",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g5488a29f6fb",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/5488a29f6fbcfe8df23382d16a596068.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0008-72.png",
            "first_name": "Peter",
            "real_name": "Peter C",
            "display_name": "Peter C",
            "team": "T4G9NBD2M",
            "name": "peter.carter304",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1615549430.025800",
        "parent_user_id": "U4H19D1D2",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "bUX1",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "thanks!"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U016TGY3676",
        "type": "message",
        "ts": "1615554928.029600",
        "client_msg_id": "1689643c-265f-4a52-83f4-e2cd335b39ed",
        "text": "<@U4H19D1D2> what's the format for the `market.blotter.selection_exposure` call? In particular, what format is the `lookup` tuple?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g6a681220e11",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/6a681220e11c1a2ed3685375d658dadb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0001-72.png",
            "first_name": "",
            "real_name": "birchy",
            "display_name": "birchy",
            "team": "T4G9NBD2M",
            "name": "birchy",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1615549430.025800",
        "parent_user_id": "U4H19D1D2",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "5UQ=G",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "user",
                                "user_id": "U4H19D1D2"
                            },
                            {
                                "type": "text",
                                "text": " what's the format for the "
                            },
                            {
                                "type": "text",
                                "text": "market.blotter.selection_exposure",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " call? In particular, what format is the "
                            },
                            {
                                "type": "text",
                                "text": "lookup",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " tuple?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U01LD279D16",
        "type": "message",
        "ts": "1615556653.029800",
        "client_msg_id": "ab87644a-0646-49b7-b543-764a72a0b3d4",
        "text": "I'm also wondering about the lookup tuple",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g5488a29f6fb",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/5488a29f6fbcfe8df23382d16a596068.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0008-72.png",
            "first_name": "Peter",
            "real_name": "Peter C",
            "display_name": "Peter C",
            "team": "T4G9NBD2M",
            "name": "peter.carter304",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1615549430.025800",
        "parent_user_id": "U4H19D1D2",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "PMHl",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I'm also wondering about the lookup tuple"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1615559929.030000",
        "client_msg_id": "f3e9fddf-a3e9-4a59-be69-7c8a72241ea7",
        "text": "its as per the `order.lookup` which is `market_id, selection_id, handicap`",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1615549430.025800",
        "parent_user_id": "U4H19D1D2",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "iLzf",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "its as per the "
                            },
                            {
                                "type": "text",
                                "text": "order.lookup",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " which is "
                            },
                            {
                                "type": "text",
                                "text": "market_id, selection_id, handicap",
                                "style": {
                                    "code": true
                                }
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U01LD279D16",
        "type": "message",
        "ts": "1615560026.030200",
        "client_msg_id": "5f8c28db-f264-4f05-bfef-47f4b687c150",
        "text": "Thanks Liam - sorry for the barrage of stupid questions but what does the 'strategy' argument want? I've tried everything I can think of",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g5488a29f6fb",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/5488a29f6fbcfe8df23382d16a596068.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0008-72.png",
            "first_name": "Peter",
            "real_name": "Peter C",
            "display_name": "Peter C",
            "team": "T4G9NBD2M",
            "name": "peter.carter304",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1615549430.025800",
        "parent_user_id": "U4H19D1D2",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "RBfQ",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Thanks Liam - sorry for the barrage of stupid questions but what does the 'strategy' argument want? I've tried everything I can think of"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1615560053.030400",
        "client_msg_id": "4cfc6123-0848-40e5-8400-d91a13873dd1",
        "text": "its the strategy class, so if you were in the strategy its just `self`",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1615549430.025800",
        "parent_user_id": "U4H19D1D2",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "NeyMx",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "its the strategy class, so if you were in the strategy its just "
                            },
                            {
                                "type": "text",
                                "text": "self",
                                "style": {
                                    "code": true
                                }
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U01LD279D16",
        "type": "message",
        "ts": "1615560106.030600",
        "client_msg_id": "38f521f7-3207-4fab-b3b3-9d59cf7805a1",
        "text": "Thanks. I did try that so my error must be somewhere else. Cheers",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g5488a29f6fb",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/5488a29f6fbcfe8df23382d16a596068.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0008-72.png",
            "first_name": "Peter",
            "real_name": "Peter C",
            "display_name": "Peter C",
            "team": "T4G9NBD2M",
            "name": "peter.carter304",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1615549430.025800",
        "parent_user_id": "U4H19D1D2",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "o3l2",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Thanks. I did try that so my error must be somewhere else. Cheers"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U016TGY3676",
        "type": "message",
        "ts": "1615560329.030800",
        "client_msg_id": "e80efcea-e6b0-4c68-b48d-99160f97f967",
        "text": "So we end up with:\n```for runner in market_book.runners:\n    lookup = (market_book.market_id, runner.selection_id, runner.handicap)\n    runner_exposure = market.blotter.selection_exposure(self, lookup)```\n",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g6a681220e11",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/6a681220e11c1a2ed3685375d658dadb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0001-72.png",
            "first_name": "",
            "real_name": "birchy",
            "display_name": "birchy",
            "team": "T4G9NBD2M",
            "name": "birchy",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1615549430.025800",
        "parent_user_id": "U4H19D1D2",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "S\/M",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "So we end up with:\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "for runner in market_book.runners:\n    lookup = (market_book.market_id, runner.selection_id, runner.handicap)\n    runner_exposure = market.blotter.selection_exposure(self, lookup)"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_section",
                        "elements": []
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "+1",
                "users": [
                    "U4H19D1D2"
                ],
                "count": 1
            }
        ]
    },
    {
        "user": "U016TGY3676",
        "type": "message",
        "ts": "1615560588.031100",
        "client_msg_id": "b852c234-775d-43ad-8f3a-04b43e78866e",
        "text": "For future reference, I guess this is the more efficient method...\n```for runner in market_book.runners:\n    if runner.status != 'ACTIVE': continue\n    runner_context = self.get_runner_context(market.market_id, runner.selection_id)\n    if runner_context.live_trade_count != 0: continue # has pending\/unmatched bets\n    if runner_context.trade_count &gt; 0:\n        lookup = (market_book.market_id, runner.selection_id, runner.handicap)\n        runner_exposure = market.blotter.selection_exposure(self, lookup)```\n<@U4H19D1D2> could exposure be added to runner context, or is there too much overhead?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g6a681220e11",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/6a681220e11c1a2ed3685375d658dadb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0001-72.png",
            "first_name": "",
            "real_name": "birchy",
            "display_name": "birchy",
            "team": "T4G9NBD2M",
            "name": "birchy",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1615549430.025800",
        "parent_user_id": "U4H19D1D2",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "4jy8t",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "For future reference, I guess this is the more efficient method...\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "for runner in market_book.runners:\n    if runner.status != 'ACTIVE': continue\n    runner_context = self.get_runner_context(market.market_id, runner.selection_id)\n    if runner_context.live_trade_count != 0: continue # has pending\/unmatched bets\n    if runner_context.trade_count > 0:\n        lookup = (market_book.market_id, runner.selection_id, runner.handicap)\n        runner_exposure = market.blotter.selection_exposure(self, lookup)"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "user",
                                "user_id": "U4H19D1D2"
                            },
                            {
                                "type": "text",
                                "text": " could exposure be added to runner context, or is there too much overhead?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1615560875.032000",
        "client_msg_id": "A41B1D55-42D5-4305-962C-3CB15CCD48B3",
        "text": "Could maybe cache it in the context on each update but there is no link to the blotter from it (currently)",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1615549430.025800",
        "parent_user_id": "U4H19D1D2",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "PY7",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Could maybe cache it in the context on each update but there is no link to the blotter from it (currently)"
                            }
                        ]
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "+1",
                "users": [
                    "U016TGY3676"
                ],
                "count": 1
            }
        ]
    },
    {
        "user": "U016TGY3676",
        "type": "message",
        "ts": "1615561080.032300",
        "client_msg_id": "2eb7a402-c7aa-45c3-bf9f-f504b42980ec",
        "text": "Probably better in it's current format, as we only need to call `market.blotter.selection_exposure()` if\/when it's actually needed.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g6a681220e11",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/6a681220e11c1a2ed3685375d658dadb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0001-72.png",
            "first_name": "",
            "real_name": "birchy",
            "display_name": "birchy",
            "team": "T4G9NBD2M",
            "name": "birchy",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1615549430.025800",
        "parent_user_id": "U4H19D1D2",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "oOn9",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Probably better in it's current format, as we only need to call "
                            },
                            {
                                "type": "text",
                                "text": "market.blotter.selection_exposure()",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " if\/when it's actually needed."
                            }
                        ]
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "+1",
                "users": [
                    "U4H19D1D2"
                ],
                "count": 1
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1615562074.032600",
        "client_msg_id": "9dbd4f4d-8d02-4655-970e-6a90c8be0db3",
        "text": "That function is optimised as much as possible so its pretty quick",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1615549430.025800",
        "parent_user_id": "U4H19D1D2",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "nzr",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "That function is optimised as much as possible so its pretty quick"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U0155J92A7Q",
        "type": "message",
        "ts": "1615563151.033100",
        "edited": {
            "user": "U0155J92A7Q",
            "ts": "1615563235.000000"
        },
        "client_msg_id": "e67ba920-693a-4f5b-99cb-85632e5df8a2",
        "text": "In bflw, does the Market Data Streaming return info for CLOSED markets?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gde8c5d51af5",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/de8c5d51af54a5ac7b501f416ddb262c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png",
            "first_name": "",
            "real_name": "Jorge",
            "display_name": "Jorge",
            "team": "T4G9NBD2M",
            "name": "jgarciam95",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "4grD",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "In bflw, does the Market Data Streaming return info for CLOSED markets?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U0155J92A7Q",
        "type": "message",
        "ts": "1615563342.034900",
        "client_msg_id": "8b8ab388-997c-4bb4-83fe-0bc0eb62b0b1",
        "text": "I'm recording data for Heidenheim - Kiel (soccer). The last datapoint I received for this game shows status=='OPEN' but the game is 'CLOSED'.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gde8c5d51af5",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/de8c5d51af54a5ac7b501f416ddb262c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png",
            "first_name": "",
            "real_name": "Jorge",
            "display_name": "Jorge",
            "team": "T4G9NBD2M",
            "name": "jgarciam95",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "s0du",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I'm recording data for Heidenheim - Kiel (soccer). The last datapoint I received for this game shows status=='OPEN' but the game is 'CLOSED'."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1615564867.035300",
        "client_msg_id": "CFD06512-3CBB-4D23-AC8F-738AACC6D700",
        "text": "Bflw will give you every update ",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Gy1x8",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Bflw will give you every update "
                            }
                        ]
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "+1",
                "users": [
                    "U0155J92A7Q"
                ],
                "count": 1
            }
        ]
    }
]