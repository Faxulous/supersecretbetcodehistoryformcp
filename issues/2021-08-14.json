[
    {
        "subtype": "channel_join",
        "user": "U02BWRQR3JL",
        "text": "<@U02BWRQR3JL> has joined the channel",
        "type": "message",
        "ts": "1628944288.128300"
    },
    {
        "user": "U01DCR5PXDY",
        "type": "message",
        "ts": "1628947616.129800",
        "client_msg_id": "db44445e-dd54-4a13-8966-0a41041cb08b",
        "text": "Does anyone know if there's a delay between transferring between wallets and having the money accessible to trade? I made a transfer almost an hour ago, yet still get INSUFFICIENT_FUNDS errors from the api when I go below the pre-transfer account value",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "903bc20cd9db",
            "image_72": "https:\/\/avatars.slack-edge.com\/2020-10-26\/1448127317798_903bc20cd9dba9a758e0_72.png",
            "first_name": "thambie1",
            "real_name": "thambie1",
            "display_name": "thambie1",
            "team": "T4G9NBD2M",
            "name": "thambie1",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "cLH",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Does anyone know if there's a delay between transferring between wallets and having the money accessible to trade? I made a transfer almost an hour ago, yet still get INSUFFICIENT_FUNDS errors from the api when I go below the pre-transfer account value"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U02BSR9LN4Q",
        "type": "message",
        "ts": "1628987907.131700",
        "client_msg_id": "aa5aefcd-bf9d-4e0d-9244-9b7b01124dc2",
        "text": "Hi\nI am trying to place my first set of bets through the API, using  BFLW, and am getting a failure response. The error code is:\nplaceBackBet(trading, market_id, selection_id, 5, min_odds)\nBet Place on selection 22511750 is FAILURE\n```{'elapsed_time': 0.7760229110717773, '_datetime_created': datetime.datetime(2021, 8, 14, 22, 19, 1, 765910), '_datetime_updated': datetime.datetime(2021, 8, 14, 22, 19, 1, 765910), '_data': {'status': 'FAILURE', 'errorCode': 'BET_ACTION_ERROR', 'marketId': '1.186418033', 'instructionReports': [{'status': 'FAILURE', 'errorCode': 'INVALID_ODDS', 'instruction': {'selectionId': 22511750, 'limitOnCloseOrder': {}, 'orderType': 'LIMIT_ON_CLOSE', 'side': 'BACK'}}]}, 'market_id': '1.186418033', 'status': 'FAILURE', 'customer_ref': None, 'error_code': 'BET_ACTION_ERROR', 'place_instruction_reports': [&lt;betfairlightweight.resources.bettingresources.PlaceOrderInstructionReports object at 0x00000150A20C8DC0&gt;]}```\nseems the error is INVALID_ODDS - however I have used code from the  github to do the rounding, and I can physically place bets on the\nwebsite using the price increments I have rounded to. Also, I can run this as a LIMIT order with no issues - so seems I am doing something wrong in specifying a Limit On Close. Does anyone have some example code of placing a LIMIT_ON_CLOSE order?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g9e6f255ddf0",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/9e6f255ddf09e717e502c86083e5fbfa.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png",
            "first_name": "AR",
            "real_name": "AR",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "ricad453",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1628987907.131700",
        "reply_count": 3,
        "reply_users_count": 2,
        "latest_reply": "1629020614.139600",
        "reply_users": [
            "U010GM77S4W",
            "U02BSR9LN4Q"
        ],
        "replies": [
            {
                "user": "U010GM77S4W",
                "ts": "1629002483.133500"
            },
            {
                "user": "U02BSR9LN4Q",
                "ts": "1629002558.133700"
            },
            {
                "user": "U02BSR9LN4Q",
                "ts": "1629020614.139600"
            }
        ],
        "is_locked": false,
        "subscribed": false,
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "bUjI",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Hi\nI am trying to place my first set of bets through the API, using  BFLW, and am getting a failure response. The error code is:\nplaceBackBet(trading, market_id, selection_id, 5, min_odds)\nBet Place on selection 22511750 is FAILURE\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "{'elapsed_time': 0.7760229110717773, '_datetime_created': datetime.datetime(2021, 8, 14, 22, 19, 1, 765910), '_datetime_updated': datetime.datetime(2021, 8, 14, 22, 19, 1, 765910), '_data': {'status': 'FAILURE', 'errorCode': 'BET_ACTION_ERROR', 'marketId': '1.186418033', 'instructionReports': [{'status': 'FAILURE', 'errorCode': 'INVALID_ODDS', 'instruction': {'selectionId': 22511750, 'limitOnCloseOrder': {}, 'orderType': 'LIMIT_ON_CLOSE', 'side': 'BACK'}}]}, 'market_id': '1.186418033', 'status': 'FAILURE', 'customer_ref': None, 'error_code': 'BET_ACTION_ERROR', 'place_instruction_reports': [<betfairlightweight.resources.bettingresources.PlaceOrderInstructionReports object at 0x00000150A20C8DC0>]}"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "\nseems the error is INVALID_ODDS - however I have used code from the  github to do the rounding, and I can physically place bets on the\nwebsite using the price increments I have rounded to. Also, I can run this as a LIMIT order with no issues - so seems I am doing something wrong in specifying a Limit On Close. Does anyone have some example code of placing a LIMIT_ON_CLOSE order?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U01U24AG35W",
        "type": "message",
        "ts": "1628999741.133200",
        "edited": {
            "user": "U01U24AG35W",
            "ts": "1629001467.000000"
        },
        "client_msg_id": "d50dae71-0899-4555-82f2-a93952c8502d",
        "text": "(I am running Flumine over Historical Data.)\n\nIs the runner traded volume for live streaming different to historical data? I ask because this code `runner.total_matched = new_data[\"tv\"]` in BFLW  `Class MarketBookCache &gt; def update_cache` seems to store only the traded volume at a single price (sometimes for more than 1 price) and not the accumulated volume for all price points.\n\nIn \"Betfair Developer Program  Exchange API  Historical Data FAQ's - How is traded volume represented within the PRO Historical Data files?\" (<https:\/\/support.developer.betfair.com\/hc\/en-us\/articles\/360002401937-How-is-traded-volume-represented-within-the-PRO-Historical-Data-files-|link>) it explains that \"The runner tv (“tv”) represents the cumulative traded amount at the last price traded (ltp) or cumulative amount of all ‘trd’ amounts in the update if multiple prices are included.\"\n\nAnyway, regardless of the details of the calculation of `runner.total_matched`, at any point in time should not its value be equal to the sum of all volumes at all prices?\n\nI am digging into this because in Flumine's `class RunnerAnalytics &gt; def _calculate_matched`, the code `return round(total_matched - prev_total_matched, 2)` seems to assume that `total_matched` is always increasing in value when it's not. Numerous times the returned value is a negative (and by large amounts as I recorded them) which is not possible in real life.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "d12d00b0e337",
            "image_72": "https:\/\/avatars.slack-edge.com\/2021-04-05\/1930559079267_d12d00b0e33706cb4bbd_72.png",
            "first_name": "Thomas",
            "real_name": "Thomas Jakubauskas",
            "display_name": "ThomasJ",
            "team": "T4G9NBD2M",
            "name": "thomasaj05",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "attachments": [
            {
                "service_name": "Betfair Developer Program",
                "title": "How is traded volume represented within the PRO Historical Data files?",
                "title_link": "https:\/\/support.developer.betfair.com\/hc\/en-us\/articles\/360002401937-How-is-traded-volume-represented-within-the-PRO-Historical-Data-files-",
                "text": "For a single price point, ‘tv’ is cumulative, so each “trd” update contains the price and cumulative traded volume traded so far at that price. See example below: {\"op\":\"mcm\",&amp;q...",
                "fallback": "Betfair Developer Program: How is traded volume represented within the PRO Historical Data files?",
                "image_url": "https:\/\/theme.zdassets.com\/theme_assets\/2183889\/ac40d257bb311d3d3a6fcd2e47a6b45cc8dfa66f.png",
                "from_url": "https:\/\/support.developer.betfair.com\/hc\/en-us\/articles\/360002401937-How-is-traded-volume-represented-within-the-PRO-Historical-Data-files-",
                "image_width": 248,
                "image_height": 19,
                "image_bytes": 2548,
                "service_icon": "http:\/\/theme.zdassets.com\/theme_assets\/2183889\/f70bb17bbe9f0c1ba8e0fc4d658dde92ae461a6a.ico",
                "id": 1,
                "original_url": "https:\/\/support.developer.betfair.com\/hc\/en-us\/articles\/360002401937-How-is-traded-volume-represented-within-the-PRO-Historical-Data-files-"
            }
        ],
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Mj38x",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "(I am running Flumine over Historical Data.)\n\nIs the runner traded volume for live streaming different to historical data? I ask because this code "
                            },
                            {
                                "type": "text",
                                "text": "runner.total_matched = new_data[\"tv\"]",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " in BFLW  "
                            },
                            {
                                "type": "text",
                                "text": "Class MarketBookCache > def update_cache",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " seems to store only the traded volume at a single price (sometimes for more than 1 price) and not the accumulated volume for all price points.\n\nIn \"Betfair Developer Program  Exchange API  Historical Data FAQ's - How is traded volume represented within the PRO Historical Data files?\" ("
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/support.developer.betfair.com\/hc\/en-us\/articles\/360002401937-How-is-traded-volume-represented-within-the-PRO-Historical-Data-files-",
                                "text": "link"
                            },
                            {
                                "type": "text",
                                "text": ") it explains that \"The runner tv (“tv”) represents the cumulative traded amount at the last price traded (ltp) or cumulative amount of all ‘trd’ amounts in the update if multiple prices are included.\"\n\nAnyway, regardless of the details of the calculation of "
                            },
                            {
                                "type": "text",
                                "text": "runner.total_matched",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": ", at any point in time should not its value be equal to the sum of all volumes at all prices?\n\nI am digging into this because in Flumine's "
                            },
                            {
                                "type": "text",
                                "text": "class RunnerAnalytics > def _calculate_matched",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": ", the code "
                            },
                            {
                                "type": "text",
                                "text": "return round(total_matched - prev_total_matched, 2)",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " seems to assume that "
                            },
                            {
                                "type": "text",
                                "text": "total_matched",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " is always increasing in value when it's not. Numerous times the returned value is a negative (and by large amounts as I recorded them) which is not possible in real life."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U010GM77S4W",
        "type": "message",
        "ts": "1629002483.133500",
        "client_msg_id": "ae048792-17e9-4211-a221-d96666550f17",
        "text": "Are you using BFLW to place bets or Flumine? You have to specify a liability and some maximum odds you want to be matched at for a LimitOnCloseOrder. Some sample code if placing a bet in BFLW\n\n                     `limit_on_close_order = filters.limit_on_close_order(`\n                            `liability=500, price=100)`\n                     `instruction = filters.place_instruction(`\n                            `order_type=\"LIMIT_ON_CLOSE\",`\n                            `selection_id=runner.selection_id,`\n                            `side=\"LAY\",`\n                            `limit_on_close_order=limit_on_close_order,`\n                        `)`\n                     `place_orders = trading.betting.place_orders(`\n                            `market_id=market_id, instructions=[instruction]  # list`\n                        `)`",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "66cae8f5399c",
            "image_72": "https:\/\/avatars.slack-edge.com\/2020-03-20\/1004508356769_66cae8f5399cf91a07ae_72.jpg",
            "first_name": "",
            "real_name": "mandelbot",
            "display_name": "mandelbot",
            "team": "T4G9NBD2M",
            "name": "demhadbale",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1628987907.131700",
        "parent_user_id": "U02BSR9LN4Q",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "EDE",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Are you using BFLW to place bets or Flumine? You have to specify a liability and some maximum odds you want to be matched at for a LimitOnCloseOrder. Some sample code if placing a bet in BFLW\n\n"
                            },
                            {
                                "type": "text",
                                "text": "                     limit_on_close_order = filters.limit_on_close_order(",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n"
                            },
                            {
                                "type": "text",
                                "text": "                            liability=500, price=100)",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n"
                            },
                            {
                                "type": "text",
                                "text": "                     instruction = filters.place_instruction(",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n"
                            },
                            {
                                "type": "text",
                                "text": "                            order_type=\"LIMIT_ON_CLOSE\",",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n"
                            },
                            {
                                "type": "text",
                                "text": "                            selection_id=runner.selection_id,",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n"
                            },
                            {
                                "type": "text",
                                "text": "                            side=\"LAY\",",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n"
                            },
                            {
                                "type": "text",
                                "text": "                            limit_on_close_order=limit_on_close_order,",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n"
                            },
                            {
                                "type": "text",
                                "text": "                        )",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n"
                            },
                            {
                                "type": "text",
                                "text": "                     place_orders = trading.betting.place_orders(",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n"
                            },
                            {
                                "type": "text",
                                "text": "                            market_id=market_id, instructions=[instruction]  # list",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n"
                            },
                            {
                                "type": "text",
                                "text": "                        )",
                                "style": {
                                    "code": true
                                }
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U02BSR9LN4Q",
        "type": "message",
        "ts": "1629002558.133700",
        "client_msg_id": "db6c8901-585d-47c4-bfeb-d1fe4b9eb9cc",
        "text": "Awesome! Doing it in BFLW",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g9e6f255ddf0",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/9e6f255ddf09e717e502c86083e5fbfa.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0025-72.png",
            "first_name": "AR",
            "real_name": "AR",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "ricad453",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1628987907.131700",
        "parent_user_id": "U02BSR9LN4Q",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "eptn",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Awesome! Doing it in BFLW"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1629008900.135400",
        "client_msg_id": "5906C701-BFD0-4C85-B6E8-8ED98CC86DA8",
        "text": "Can you create a GitHub issue? Needs to be handled although why they decided to do this for historical data is infuriating ",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "OpAeC",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Can you create a GitHub issue? Needs to be handled although why they decided to do this for historical data is infuriating "
                            }
                        ]
                    }
                ]
            }
        ]
    }
]