[
    {
        "user": "U013K4VNB6D",
        "type": "message",
        "ts": "1709413725.946779",
        "client_msg_id": "474aac74-4d78-4e6d-adb1-8111ece40d83",
        "text": "Hi\n\nI've just tried placing a bet with a persistence of 'PERSIST'. This was my code:\n\n```trade = Trade(\n    market_id=market_book.market_id,\n    selection_id=runner.selection_id,\n    handicap=runner.handicap,\n    strategy=self,\n    reset_seconds=3,\n    place_reset_seconds=3\n)\norder = trade.create_order(\n    side=\"BACK\",\n    order_type=LimitOrder(price=10, size=2.00, persistence_type=\"PERSIST\"),\n)\nmarket.place_order(order)```\nThe JSON response suggested that the bet had been submitted successfully:\n\n\"order_type\":{\n      \"order_type\":\"Limit\",\n      \"price\":10,\n      \"size\":2.0,\n      \"persistence_type\":\"PERSIST\",\n      \"time_in_force\":null,\n      \"min_fill_size\":null,\n      \"bet_target_type\":null,\n      \"bet_target_size\":null,\n      \"price_ladder_definition\":\"CLASSIC\"\n   },\n   \"info\":{\n      \"side\":\"BACK\",\n      \"size_matched\":0.0,\n      \"size_remaining\":2.0,\n      \"size_cancelled\":0.0,\n      \"size_lapsed\":0.0,\n      \"size_voided\":0.0,\n      \"average_price_matched\":0.0\n   },\n   \"responses\":{\n      \"date_time_placed\":null,\n      \"elapsed_seconds_executable\":null\n   },\n   \"runner_status\":null,\n   \"line_range_result\":null,\n   \"status\":\"Pending\",\n   \"status_log\":\"Pending\",\n\nI was told in a subsequent message that:\n\n   \"message\":\"1 order packages executed in transaction\",\n\nThe selection was a favourite, so I wasn't expecting it to be matched before being converted to a BSP bet. However, my bet was not displaying as pending on the Betfair site, and it wasn't converted to BSP.\n\nWhat was I doing wrong, please?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gf188478b89f",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/f188478b89f4a5e2c5af9eafa0433712.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png",
            "first_name": "",
            "real_name": "Jeff Waters",
            "display_name": "Jeff Waters",
            "team": "T4G9NBD2M",
            "name": "watersjg",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Epa+k",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Hi\n\nI've just tried placing a bet with a persistence of 'PERSIST'. This was my code:\n\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "trade = Trade(\n    market_id=market_book.market_id,\n    selection_id=runner.selection_id,\n    handicap=runner.handicap,\n    strategy=self,\n    reset_seconds=3,\n    place_reset_seconds=3\n)\norder = trade.create_order(\n    side=\"BACK\",\n    order_type=LimitOrder(price=10, size=2.00, persistence_type=\"PERSIST\"),\n)\nmarket.place_order(order)"
                            }
                        ],
                        "border": 0
                    },
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "\nThe JSON response suggested that the bet had been submitted successfully:\n\n\"order_type\":{\n      \"order_type\":\"Limit\",\n      \"price\":10,\n      \"size\":2.0,\n      \"persistence_type\":\"PERSIST\",\n      \"time_in_force\":null,\n      \"min_fill_size\":null,\n      \"bet_target_type\":null,\n      \"bet_target_size\":null,\n      \"price_ladder_definition\":\"CLASSIC\"\n   },\n   \"info\":{\n      \"side\":\"BACK\",\n      \"size_matched\":0.0,\n      \"size_remaining\":2.0,\n      \"size_cancelled\":0.0,\n      \"size_lapsed\":0.0,\n      \"size_voided\":0.0,\n      \"average_price_matched\":0.0\n   },\n   \"responses\":{\n      \"date_time_placed\":null,\n      \"elapsed_seconds_executable\":null\n   },\n   \"runner_status\":null,\n   \"line_range_result\":null,\n   \"status\":\"Pending\",\n   \"status_log\":\"Pending\",\n\nI was told in a subsequent message that:\n\n   \"message\":\"1 order packages executed in transaction\",\n\nThe selection was a favourite, so I wasn't expecting it to be matched before being converted to a BSP bet. However, my bet was not displaying as pending on the Betfair site, and it wasn't converted to BSP.\n\nWhat was I doing wrong, please?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U012XF5CNPN",
        "type": "message",
        "ts": "1709414555.645139",
        "client_msg_id": "374F1B67-5C7B-4669-A6AE-ADD7C5D77F73",
        "text": "“PERSIST” is the same as “Keep” on the website. If you want to convert to BSP at off, you need persistence to be “MARKET_ON_CLOSE”. ",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gf0a1c4f12dc",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/f0a1c4f12dc16bc00aa5abf1a75d640e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png",
            "first_name": "Paul",
            "real_name": "Paul Robinson",
            "display_name": "Paul",
            "team": "T4G9NBD2M",
            "name": "paul",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "sk9DB",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "“PERSIST” is the same as “Keep” on the website. If you want to convert to BSP at off, you need persistence to be “MARKET_ON_CLOSE”. "
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U013K4VNB6D",
        "type": "message",
        "ts": "1709414592.168379",
        "client_msg_id": "6260f248-1c1a-4b5e-801e-385a60849ea4",
        "text": "Thanks Paul - I'll try that.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gf188478b89f",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/f188478b89f4a5e2c5af9eafa0433712.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png",
            "first_name": "",
            "real_name": "Jeff Waters",
            "display_name": "Jeff Waters",
            "team": "T4G9NBD2M",
            "name": "watersjg",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "td63L",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Thanks Paul - I'll try that."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1709414615.396459",
        "client_msg_id": "60146210-700A-4279-AF60-C8F2BC9A2759",
        "text": "That isn’t a response, it’s a flumine log telling you the order is pending, where is the rest of the logs? ",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "LceIz",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "That "
                            },
                            {
                                "type": "text",
                                "text": "isn’t"
                            },
                            {
                                "type": "text",
                                "text": " a response, "
                            },
                            {
                                "type": "text",
                                "text": "it’s"
                            },
                            {
                                "type": "text",
                                "text": " a flumine log telling you the order is pending, where is the rest of the logs? "
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U013K4VNB6D",
        "type": "message",
        "ts": "1709415194.941679",
        "client_msg_id": "bdd09188-ecd9-4bce-8ca1-bdd78790a00f",
        "text": "Hi Liam\n\nI no longer have the remaining logs, as I've since started a new session.\n\nI'm wanting to place an offer in the market and have it automatically converted to BSP at the off it's still unmatched. I assumed that's what that approach I used did (whereas I believe that MARKET_ON_CLOSE is if you're just submitting a BSP bet and not trying to get it matched pre-off). Is my understanding correct?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gf188478b89f",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/f188478b89f4a5e2c5af9eafa0433712.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png",
            "first_name": "",
            "real_name": "Jeff Waters",
            "display_name": "Jeff Waters",
            "team": "T4G9NBD2M",
            "name": "watersjg",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "FaBF8",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Hi Liam\n\nI no longer have the remaining logs, as I've since started a new session.\n\nI'm wanting to place an offer in the market and have it automatically converted to BSP at the off it's still unmatched. I assumed that's what that approach I used did (whereas I believe that MARKET_ON_CLOSE is if you're just submitting a BSP bet and not trying to get it matched pre-off). Is my understanding correct?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U012XF5CNPN",
        "type": "message",
        "ts": "1709415774.384599",
        "client_msg_id": "A29E6ADD-5D13-44A3-AF84-0CC961CB4163",
        "text": "A limit order with persistence as market on close is likely what you want.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gf0a1c4f12dc",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/f0a1c4f12dc16bc00aa5abf1a75d640e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png",
            "first_name": "Paul",
            "real_name": "Paul Robinson",
            "display_name": "Paul",
            "team": "T4G9NBD2M",
            "name": "paul",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "\/qNVo",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "A limit order with persistence as market on close is likely what you want."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U012XF5CNPN",
        "type": "message",
        "ts": "1709415801.612869",
        "client_msg_id": "0E3D9DEB-D549-4153-BB1D-08DC64D50E21",
        "text": "A bsp bet is a market order, not a limit order. ",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gf0a1c4f12dc",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/f0a1c4f12dc16bc00aa5abf1a75d640e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png",
            "first_name": "Paul",
            "real_name": "Paul Robinson",
            "display_name": "Paul",
            "team": "T4G9NBD2M",
            "name": "paul",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "sI9mg",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "A bsp bet is a market order, not a limit order. "
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U012XF5CNPN",
        "type": "message",
        "ts": "1709415827.996779",
        "client_msg_id": "BD3BA0A7-9A1D-4EDD-BEAB-7FE805343498",
        "text": "The clue is in the name: market on close. It becomes a market order, on close.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gf0a1c4f12dc",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/f0a1c4f12dc16bc00aa5abf1a75d640e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png",
            "first_name": "Paul",
            "real_name": "Paul Robinson",
            "display_name": "Paul",
            "team": "T4G9NBD2M",
            "name": "paul",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "V1a2m",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "The clue is in the name: market on close. It becomes a market order, on close."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U013K4VNB6D",
        "type": "message",
        "ts": "1709416280.820529",
        "edited": {
            "user": "U013K4VNB6D",
            "ts": "1709416505.000000"
        },
        "client_msg_id": "94717e53-53b0-4845-8fbb-1b915312bee9",
        "text": "Hi Paul.\n\nI've just tried it again, and it worked this time. No idea what went wrong last time. Thanks for your help. :slightly_smiling_face:\n\nEDIT:\n\nI've just realised that the reason it's working is because, following your post, I changed my persistence type:\n\n```order = trade.create_order(\n    side=\"BACK\",\n    order_type=LimitOrder(price=10, size=2.00, persistence_type=\"MARKET_ON_CLOSE\"),\n)```\nCheers",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gf188478b89f",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/f188478b89f4a5e2c5af9eafa0433712.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png",
            "first_name": "",
            "real_name": "Jeff Waters",
            "display_name": "Jeff Waters",
            "team": "T4G9NBD2M",
            "name": "watersjg",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "ZVNvT",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Hi Paul.\n\nI've just tried it again, and it worked this time. No idea what went wrong last time. Thanks for your help. "
                            },
                            {
                                "type": "emoji",
                                "name": "slightly_smiling_face",
                                "unicode": "1f642"
                            },
                            {
                                "type": "text",
                                "text": "\n\nEDIT:\n\nI've just realised that the reason it's working is because, following your post, I changed my persistence type:\n\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "order = trade.create_order(\n    side=\"BACK\",\n    order_type=LimitOrder(price=10, size=2.00, persistence_type=\"MARKET_ON_CLOSE\"),\n)"
                            }
                        ],
                        "border": 0
                    },
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Cheers"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UEA14GBRR",
        "type": "message",
        "ts": "1709417555.806739",
        "client_msg_id": "36e17f11-c029-4a8a-8bf5-11148b3b9df9",
        "text": "It's more usual to place them at 1000 or 1.01 unless you're hoping for a lucky match. Back stake remains as you ask for, lays get staked according to the liability of your moc bet and the bsp. You might need cancel\/replace your moc bet as your estimate of the likely bsp changes.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "889680f46fe7",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-06\/6774538588752_889680f46fe773047cb9_72.jpg",
            "first_name": "",
            "real_name": "Shaun White",
            "display_name": "ShaunW",
            "team": "T4G9NBD2M",
            "name": "shaunwhite",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1709417555.806739",
        "reply_count": 1,
        "reply_users_count": 1,
        "latest_reply": "1709452541.361309",
        "reply_users": [
            "U013K4VNB6D"
        ],
        "replies": [
            {
                "user": "U013K4VNB6D",
                "ts": "1709452541.361309"
            }
        ],
        "is_locked": false,
        "subscribed": false,
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "ybr5Y",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "It's more usual to place them at 1000 or 1.01 unless you're hoping for a lucky match. Back stake remains as you ask for, lays get staked according to the liability of your moc bet and the bsp. You might need cancel\/replace your moc bet as your estimate of the likely bsp changes."
                            }
                        ]
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "+1",
                "users": [
                    "U013K4VNB6D"
                ],
                "count": 1
            }
        ]
    },
    {
        "user": "U013K4VNB6D",
        "type": "message",
        "ts": "1709452541.361309",
        "client_msg_id": "0cfcecf7-ba0a-4d95-8185-ea5519555af7",
        "text": "Thanks Shaun - Good advice. :slightly_smiling_face:",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gf188478b89f",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/f188478b89f4a5e2c5af9eafa0433712.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png",
            "first_name": "",
            "real_name": "Jeff Waters",
            "display_name": "Jeff Waters",
            "team": "T4G9NBD2M",
            "name": "watersjg",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1709417555.806739",
        "parent_user_id": "UEA14GBRR",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "D9omP",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Thanks Shaun - Good advice. "
                            },
                            {
                                "type": "emoji",
                                "name": "slightly_smiling_face",
                                "unicode": "1f642"
                            }
                        ]
                    }
                ]
            }
        ]
    }
]