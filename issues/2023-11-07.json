[
    {
        "text": "Found a sample with 'Infinity' as the SP to add to your test - Killarney 13:55 14\/05\/23 - ran a search out of curiosity and occurs more frequently than 'Nan'",
        "files": [
            {
                "id": "F064NBMC82Y",
                "mode": "hidden_by_limit"
            },
            {
                "id": "F064H0F4FBP",
                "mode": "hidden_by_limit"
            }
        ],
        "upload": false,
        "user": "U02RN7YDRQ9",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "+rGnF",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Found a sample with 'Infinity' as the SP to add to your test - Killarney 13:55 14\/05\/23 - ran a search out of curiosity and occurs more frequently than 'Nan'"
                            }
                        ]
                    }
                ]
            }
        ],
        "type": "message",
        "ts": "1699347667.406429",
        "client_msg_id": "6acd7801-bb57-4a22-a7f4-51aa43452416",
        "thread_ts": "1699019660.357829",
        "parent_user_id": "U02RN7YDRQ9"
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1699347733.599129",
        "client_msg_id": "2e2a0cec-da6f-49f3-909a-dec1a5e66298",
        "text": "I added, <https:\/\/github.com\/betcode-org\/flumine\/pull\/718|released> yesterday if you can test?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1699019660.357829",
        "parent_user_id": "U02RN7YDRQ9",
        "attachments": [
            {
                "id": 1,
                "footer_icon": "https:\/\/slack.github.com\/static\/img\/favicon-neutral.png",
                "ts": 1699260258,
                "color": "6f42c1",
                "bot_id": "B021ZJYSBMW",
                "app_unfurl_url": "https:\/\/github.com\/betcode-org\/flumine\/pull\/718",
                "is_app_unfurl": true,
                "app_id": "A01BP7R4KNY",
                "fallback": "#718 slack link",
                "text": "history\/version",
                "title": "#718 slack link",
                "title_link": "https:\/\/github.com\/betcode-org\/flumine\/pull\/718",
                "footer": "<https:\/\/github.com\/betcode-org\/flumine|betcode-org\/flumine>",
                "mrkdwn_in": [
                    "text"
                ]
            }
        ],
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "gBDHU",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I added, "
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/github.com\/betcode-org\/flumine\/pull\/718",
                                "text": "released"
                            },
                            {
                                "type": "text",
                                "text": " yesterday if you can test?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U02RN7YDRQ9",
        "type": "message",
        "ts": "1699349352.992899",
        "client_msg_id": "6354d45d-586c-4e16-84b7-23ca65ac41b2",
        "text": "That was quick - will have a look either later today or tomorrow",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "ge46f1f8b708",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/e46f1f8b708a630e3191de7b2c42b1d1.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png",
            "first_name": "edblock",
            "real_name": "edblock",
            "display_name": "foxwood",
            "team": "T4G9NBD2M",
            "name": "eanb",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1699019660.357829",
        "parent_user_id": "U02RN7YDRQ9",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "tYh5l",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "That was quick - will have a look either later today or tomorrow"
                            }
                        ]
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "+1",
                "users": [
                    "U4H19D1D2"
                ],
                "count": 1
            }
        ]
    },
    {
        "user": "U02RN7YDRQ9",
        "type": "message",
        "ts": "1699379708.090999",
        "client_msg_id": "6817aa27-e0f6-4773-add6-7800d0297b65",
        "text": "<@U4H19D1D2> that works ok for `'NaN'` but fails for `'Infinity'` . Any maths on that returned value from `get_sp()` in `_process_sp()`  fails with `unsupported operand type(s) for -: 'str' and 'float'` That can happen on eg `LIMIT_ON_CLOSE` order.\n\nJust need to mod utility `get_sp()` as shown below. Not raised an issue for this btw.\n\n```def get_sp(runner: RunnerBook) -&gt; Optional[float]:\n    if isinstance(runner.sp, list):\n        return\n    elif runner.sp is None:\n        return\n    elif runner.sp.actual_sp == \"NaN\":\n        return\n    elif runner.sp.actual_sp == \"Infinity\":    # &lt;--------- 2 new lines\n        return\n    else:\n        return runner.sp.actual_sp```\n",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "ge46f1f8b708",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/e46f1f8b708a630e3191de7b2c42b1d1.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png",
            "first_name": "edblock",
            "real_name": "edblock",
            "display_name": "foxwood",
            "team": "T4G9NBD2M",
            "name": "eanb",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1699019660.357829",
        "parent_user_id": "U02RN7YDRQ9",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "AVIey",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "user",
                                "user_id": "U4H19D1D2"
                            },
                            {
                                "type": "text",
                                "text": " that works ok for"
                            },
                            {
                                "type": "text",
                                "text": " 'NaN'",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " but fails for "
                            },
                            {
                                "type": "text",
                                "text": "'Infinity'",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " . Any maths on that returned value from "
                            },
                            {
                                "type": "text",
                                "text": "get_sp()",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " in "
                            },
                            {
                                "type": "text",
                                "text": "_process_sp()",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "  fails with "
                            },
                            {
                                "type": "text",
                                "text": "unsupported operand type(s) for -: 'str' and 'float'",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " That can happen on eg "
                            },
                            {
                                "type": "text",
                                "text": "LIMIT_ON_CLOSE",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " order.\n\nJust need to mod utility "
                            },
                            {
                                "type": "text",
                                "text": "get_sp()",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " as shown below. Not raised an issue for this btw.\n\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "def get_sp(runner: RunnerBook) -> Optional[float]:\n    if isinstance(runner.sp, list):\n        return\n    elif runner.sp is None:\n        return\n    elif runner.sp.actual_sp == \"NaN\":\n        return\n    elif runner.sp.actual_sp == \"Infinity\":    # <--------- 2 new lines\n        return\n    else:\n        return runner.sp.actual_sp"
                            }
                        ],
                        "border": 0
                    },
                    {
                        "type": "rich_text_section",
                        "elements": []
                    }
                ]
            }
        ]
    },
    {
        "text": "But it already is?",
        "files": [
            {
                "id": "F064RHTFJ12",
                "mode": "hidden_by_limit"
            }
        ],
        "upload": false,
        "user": "U4H19D1D2",
        "display_as_bot": false,
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "kHhD\/",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "But it already is?"
                            }
                        ]
                    }
                ]
            }
        ],
        "type": "message",
        "ts": "1699380056.287739",
        "client_msg_id": "516d2937-4134-4c56-9391-4bc8e037ec26",
        "thread_ts": "1699019660.357829",
        "parent_user_id": "U02RN7YDRQ9"
    },
    {
        "user": "U02RN7YDRQ9",
        "type": "message",
        "ts": "1699380698.271839",
        "client_msg_id": "f07092a6-a62b-4aac-8bfe-fb3c3222f193",
        "text": "Whoops - didn't check that since it wasn't mentioned in the commit and just worked off my local one which did not have it ! Sorry - at least we wrote same code lol. So, that should be fine now :slightly_smiling_face:",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "ge46f1f8b708",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/e46f1f8b708a630e3191de7b2c42b1d1.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png",
            "first_name": "edblock",
            "real_name": "edblock",
            "display_name": "foxwood",
            "team": "T4G9NBD2M",
            "name": "eanb",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1699019660.357829",
        "parent_user_id": "U02RN7YDRQ9",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "xkRxt",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Whoops - didn't check that since it wasn't mentioned in the commit and just worked off my local one which did not have it ! Sorry - at least we wrote same code lol. So, that should be fine now "
                            },
                            {
                                "type": "emoji",
                                "name": "slightly_smiling_face",
                                "unicode": "1f642"
                            }
                        ]
                    }
                ]
            }
        ]
    }
]