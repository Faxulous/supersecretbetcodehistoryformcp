[
    {
        "subtype": "channel_join",
        "user": "ULDAVFDRP",
        "text": "<@ULDAVFDRP> has joined the channel",
        "type": "message",
        "ts": "1563527742.055900"
    },
    {
        "user": "UFTBRB3F1",
        "type": "message",
        "ts": "1563566507.057900",
        "client_msg_id": "fce75106-1ea2-4db0-a815-03910f9e3999",
        "text": "I keep getting:\n\n```\nTraceback (most recent call last):\n  File \"D:\/Python37\/webpages\/betfair_python.py\", line 178, in &lt;module&gt;\n    if y.market_id == market_books[i].market_id:\nIndexError: list index out of range\n```\n\nline 178 relates to ``` if y.market_id == market_books[i].market_id:``` in the code below\n\nWhich is confusing me, as in my code, I thought that this line ```for i in range(len(market_books)):``` should have caught that. So apologies once again, for no doubt a very simplistic error, but can anyone spot where I've gone wrong here?\n\n```\nwhile True:\n    combined_books = market_queue.get()\n    old_order_market_id_list = []\n    new_order_market_id_list = []\n\n    for y in combined_books:\n        temp_order_books = []\n        temp_market_books = []\n        if isinstance(y, MarketBook):\n            for market_book in market_books:\n                if y.market_id not in market_book.market_id:\n                    temp_market_books.append(y)\n                else:\n                    for i in range(len(market_books)):\n                        if y.market_id == market_books[i].market_id:\n                            temp_market_books.append(y)\n                            del market_books[i]\n\n```",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g771e110be94",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/a771e110be945b86bede9d5c1bb551e3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png",
            "first_name": "",
            "real_name": "Newbie99",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "vjmehra",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "p8FEN",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I keep getting:\n\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Traceback (most recent call last):\n  File \"D:\/Python37\/webpages\/betfair_python.py\", line 178, in <module>\n    if y.market_id == market_books[i].market_id:\nIndexError: list index out of range\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "\n\nline 178 relates to "
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": " if y.market_id == market_books[i].market_id:"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": " in the code below\n\nWhich is confusing me, as in my code, I thought that this line "
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "for i in range(len(market_books)):"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": " should have caught that. So apologies once again, for no doubt a very simplistic error, but can anyone spot where I've gone wrong here?\n\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "while True:\n    combined_books = market_queue.get()\n    old_order_market_id_list = []\n    new_order_market_id_list = []\n\n    for y in combined_books:\n        temp_order_books = []\n        temp_market_books = []\n        if isinstance(y, MarketBook):\n            for market_book in market_books:\n                if y.market_id not in market_book.market_id:\n                    temp_market_books.append(y)\n                else:\n                    for i in range(len(market_books)):\n                        if y.market_id == market_books[i].market_id:\n                            temp_market_books.append(y)\n                            del market_books[i]\n\n"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UBS7QANF3",
        "type": "message",
        "ts": "1563566650.058200",
        "client_msg_id": "6ae13ce4-2280-444e-a1f0-1d68a42e886e",
        "text": "You're deleting elements from market_books",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gaaf844a4a90",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/eaaf844a4a905431d83430e563b077aa.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png",
            "first_name": "",
            "real_name": "Maurice Berk",
            "display_name": "Mo",
            "team": "T4G9NBD2M",
            "name": "maurice",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "MMq",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "You're deleting elements from market_books"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UFTBRB3F1",
        "type": "message",
        "ts": "1563568046.059500",
        "client_msg_id": "84fcabb7-7aa5-487f-8f56-024d7e307d76",
        "text": "Ah yes, sorry, so after the first iteration the len will have shrunk! Okay, dumb error! Thanks!",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g771e110be94",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/a771e110be945b86bede9d5c1bb551e3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png",
            "first_name": "",
            "real_name": "Newbie99",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "vjmehra",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "13E",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Ah yes, sorry, so after the first iteration the len will have shrunk! Okay, dumb error! Thanks!"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UBS7QANF3",
        "type": "message",
        "ts": "1563568077.059700",
        "client_msg_id": "f93de130-9878-4ef5-b13d-dee498792e9a",
        "text": "Exactly",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gaaf844a4a90",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/eaaf844a4a905431d83430e563b077aa.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png",
            "first_name": "",
            "real_name": "Maurice Berk",
            "display_name": "Mo",
            "team": "T4G9NBD2M",
            "name": "maurice",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "kmd3",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Exactly"
                            }
                        ]
                    }
                ]
            }
        ]
    }
]