[
    {
        "user": "UFTBRB3F1",
        "type": "message",
        "ts": "1550917071.025800",
        "client_msg_id": "812bd89a-3da0-4f34-b819-6cbfbc8b9cbc",
        "text": "Ah, maybe I'm misunderstanding the data structure, I assumed that the above simply resulted in the latest update being pushed out (that is what appears to be happening, when I push the .streaming_update), I then need to build the logic to update the correct market at my end (which is what I assumed I'd have to do anyway). But is that not the case then (you believe)?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g771e110be94",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/a771e110be945b86bede9d5c1bb551e3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png",
            "first_name": "",
            "real_name": "Newbie99",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "vjmehra",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "4+h",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Ah, maybe I'm misunderstanding the data structure, I assumed that the above simply resulted in the latest update being pushed out (that is what appears to be happening, when I push the .streaming_update), I then need to build the logic to update the correct market at my end (which is what I assumed I'd have to do anyway). But is that not the case then (you believe)?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1550939351.026200",
        "client_msg_id": "65FE4FF8-3DAB-4DE2-9E5F-34C5389B9C54",
        "text": "Listener.snap() is what you are after ",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "qoA",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Listener.snap() is what you are after"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1550939369.026700",
        "client_msg_id": "0E6C3036-68CF-4A2D-88D6-664FF8E665C2",
        "text": "That returns market book at the current point in time ",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "cG3",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "That returns market book at the current point in time"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UFTBRB3F1",
        "type": "message",
        "ts": "1550940053.027300",
        "client_msg_id": "6f1db629-efff-466e-8885-97435f0994ec",
        "text": "Cool, tks, was just playing around with that, it keeps coming up null, presumably I have to set an initial state somehow first?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g771e110be94",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/a771e110be945b86bede9d5c1bb551e3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png",
            "first_name": "",
            "real_name": "Newbie99",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "vjmehra",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "UC\/",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Cool, tks, was just playing around with that, it keeps coming up null, presumably I have to set an initial state somehow first?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1550940721.027600",
        "client_msg_id": "EBCECA1B-9992-4A22-A390-2992C63B11F8",
        "text": "Is the stream running?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "3Tv",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Is the stream running?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UFTBRB3F1",
        "type": "message",
        "ts": "1550941287.027800",
        "client_msg_id": "044e1b7f-ccce-4e7a-8c37-a94e15d18655",
        "text": "yeah, the stream is running fine",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g771e110be94",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/a771e110be945b86bede9d5c1bb551e3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png",
            "first_name": "",
            "real_name": "Newbie99",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "vjmehra",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "a9G1",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "yeah, the stream is running fine"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1550941312.028000",
        "client_msg_id": "977539BE-3119-4014-B3FF-059890B669D2",
        "text": "Cooodddeeee? ",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "jeTF",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Cooodddeeee?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UFTBRB3F1",
        "type": "message",
        "ts": "1550941338.028300",
        "client_msg_id": "26bb44bf-12ab-4a5a-a3c0-424d6d648478",
        "text": "I was simply calling:\n\n```\nstream = trading.streaming.create_stream(listener=listener.snap(market_ids=['1.130856098']))\n```",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g771e110be94",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/a771e110be945b86bede9d5c1bb551e3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png",
            "first_name": "",
            "real_name": "Newbie99",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "vjmehra",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "QK1",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I was simply calling:\n\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "stream = trading.streaming.create_stream(listener=listener.snap(market_ids=['1.130856098']))\n"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1550941359.028600",
        "client_msg_id": "A68981C6-8552-44E3-B5C9-31F58C50ACDB",
        "text": "Ok few issues",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "5Wi\/",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Ok few issues"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UFTBRB3F1",
        "type": "message",
        "ts": "1550941387.029000",
        "client_msg_id": "8ba6e15b-e094-47ec-8041-3f69d0329fa0",
        "text": "ah wrong usage I'm guessing then!",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g771e110be94",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/a771e110be945b86bede9d5c1bb551e3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png",
            "first_name": "",
            "real_name": "Newbie99",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "vjmehra",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "fL5In",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "ah wrong usage I'm guessing then!"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1550941405.029200",
        "client_msg_id": "1FA7FAC0-E8E0-4AB4-B0A0-813A557F3789",
        "text": "<https:\/\/github.com\/liampauling\/betfair\/blob\/master\/examples\/examplestreaming.py>",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "attachments": [
            {
                "service_name": "GitHub",
                "title": "liampauling\/betfair",
                "title_link": "https:\/\/github.com\/liampauling\/betfair\/blob\/master\/examples\/examplestreaming.py",
                "text": "Lightweight python wrapper for Betfair API-NG (with streaming) - liampauling\/betfair",
                "fallback": "GitHub: liampauling\/betfair",
                "from_url": "https:\/\/github.com\/liampauling\/betfair\/blob\/master\/examples\/examplestreaming.py",
                "thumb_url": "https:\/\/avatars2.githubusercontent.com\/u\/12016537?s=400&v=4",
                "thumb_width": 250,
                "thumb_height": 250,
                "service_icon": "https:\/\/a.slack-edge.com\/bfaba\/img\/unfurl_icons\/github.png",
                "id": 1,
                "original_url": "https:\/\/github.com\/liampauling\/betfair\/blob\/master\/examples\/examplestreaming.py"
            }
        ],
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "RixK",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "link",
                                "url": "https:\/\/github.com\/liampauling\/betfair\/blob\/master\/examples\/examplestreaming.py"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1550941413.029600",
        "client_msg_id": "32DE94F4-8F70-4525-8C27-B8DDEDDC4580",
        "text": "See half way down",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "vM3M5",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "See half way down"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UFTBRB3F1",
        "type": "message",
        "ts": "1550941597.030700",
        "client_msg_id": "ce2ad411-71f7-4a07-8a42-498471ac0859",
        "text": "yeah I'd already tried that and just got null, so I thought maybe I was misunderstanding what the example meant.\n\nIn the console I see:\n\n```\n1 None &lt;betfairlightweight.resources.streamingresources.MarketDefinition object at 0x0000012F8BE9E748&gt; 2019-02-23 17:05:49.474000\n```",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g771e110be94",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/a771e110be945b86bede9d5c1bb551e3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png",
            "first_name": "",
            "real_name": "Newbie99",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "vjmehra",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "gOFlZ",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "yeah I'd already tried that and just got null, so I thought maybe I was misunderstanding what the example meant.\n\nIn the console I see:\n\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "1 None <betfairlightweight.resources.streamingresources.MarketDefinition object at 0x0000012F8BE9E748> 2019-02-23 17:05:49.474000\n"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UFTBRB3F1",
        "type": "message",
        "ts": "1550941621.031000",
        "client_msg_id": "911dd5da-af55-44d0-822e-da5c811afaeb",
        "text": "from\n\n```\nmarket_books = listener.snap(market_ids=['1.130856098'])\n```",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g771e110be94",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/a771e110be945b86bede9d5c1bb551e3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png",
            "first_name": "",
            "real_name": "Newbie99",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "vjmehra",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "11eAl",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "from\n\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "market_books = listener.snap(market_ids=['1.130856098'])\n"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1550942041.032700",
        "client_msg_id": "B3A30EC5-D1AE-4492-8FEF-28C07693781D",
        "text": "If you are sure that you have the stream setup correctly \/ subscribed to that market. Because this works, always has which means your code is wrong ",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "yCpn",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "If you are sure that you have the stream setup correctly \/ subscribed to that market. Because this works, always has which means your code is wrong"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UFTBRB3F1",
        "type": "message",
        "ts": "1550942401.033700",
        "client_msg_id": "a850c63a-518a-4ac9-93a3-07fdbd41da07",
        "text": "well that much I'd guessed :wink:\n\nBut my stream appears to be working correctly (i.e. I see market updates such as):\n\n```\n1 {'id': '1.130856098', 'marketDefinition': {'bspMarket': False, 'turnInPlayEnabled': False, 'persistenceEnabled': False, 'marketBaseRate': 5, 'eventId': '28180290', 'eventTypeId': '2378961', 'numberOfWinners': 1, 'bettingType': 'ODDS', 'marketType': 'NONSPORT', 'marketTime': '2019-03-29T00:00:00.000Z', 'suspendTime': '2019-03-29T00:00:00.000Z', 'bspReconciled': False, 'complete': True, 'inPlay': False, 'crossMatching': False, 'runnersVoidable': False, 'numberOfActiveRunners': 8, 'betDelay': 0, 'status': 'OPEN', 'runners': [{'status': 'ACTIVE', 'sortPriority': 1, 'id': 10064909}, {'status': 'ACTIVE', 'sortPriority': 2, 'id': 12832765}, {'status': 'ACTIVE', 'sortPriority': 3, 'id': 12832766}, {'status': 'ACTIVE', 'sortPriority': 4, 'id': 12832767}, {'status': 'ACTIVE', 'sortPriority': 5, 'id': 12832768}, {'status': 'ACTIVE', 'sortPriority': 6, 'id': 12832770}, {'status': 'ACTIVE', 'sortPriority': 7, 'id': 12832769}, {'status': 'ACTIVE', 'sortPriority': 8, 'id': 12832771}, {'status': 'LOSER', 'sortPriority': 9, 'id': 10317013}, {'status': 'LOSER', 'sortPriority': 10, 'id': 10317010}], 'regulators': ['MR_INT'], 'countryCode': 'GB', 'discountAllowed': True, 'timezone': 'Europe\/London', 'openDate': '2019-03-29T00:00:00.000Z', 'version': 2576584033, 'priceLadderDefinition': {'type': 'CLASSIC'}}, 'rc': [{'batb': [[0, 2.66, 9.96], [1, 2.64, 20.7], [2, 2.58, 24.4]], 'batl': [[0, 2.8, 163.58], [1, 2.94, 140.19], [2, 2.96, 11]], 'id': 12832765}, {'batb': [[0, 18.5, 4], [1, 18, 3], [2, 17.5, 2]], 'batl': [[0, 19.5, 2], [1, 20, 7.88], [2, 21, 6.89]], 'id': 12832767}, {'batb': [[0, 8.2, 2], [1, 8, 6], [2, 7.8, 143.63]], 'batl': [[0, 9, 19.87], [1, 9.2, 2], [2, 9.4, 6.37]], 'id': 12832766}, {'batb': [[0, 44, 25.58], [1, 42, 5.23], [2, 38, 4.36]], 'batl': [[0, 55, 4], [1, 60, 2], [2, 70, 2]], 'id': 12832769}, {'batb': [[0, 36, 1], [1, 34, 2], [2, 30, 4]], 'batl': [[0, 40, 3.8], [1, 42, 8.2], [2, 44, 2.01]], 'id': 12832768}, {'batb': [[0, 6, 73.77], [1, 5.9, 14.65], [2, 5.8, 58]], 'batl': [[0, 6.2, 71.22], [1, 6.4, 96.21], [2, 6.6, 109.08]], 'id': 12832771}, {'batb': [[0, 40, 7.47], [1, 38, 2], [2, 36, 4.36]], 'batl': [[0, 44, 1.72], [1, 46, 1], [2, 48, 2]], 'id': 12832770}, {'batb': [[0, 4.1, 2], [1, 4, 31], [2, 3.95, 5.38]], 'batl': [[0, 4.5, 5], [1, 4.7, 61.8], [2, 5.5, 3.14]], 'id': 10064909}], 'img': True} &lt;betfairlightweight.resources.streamingresources.MarketDefinition object at 0x000002720FE564E0&gt; 2019-02-23 17:19:24.141000\n```\n\nIf I remove that 1 line.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g771e110be94",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/a771e110be945b86bede9d5c1bb551e3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png",
            "first_name": "",
            "real_name": "Newbie99",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "vjmehra",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "2ooiA",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "well that much I'd guessed "
                            },
                            {
                                "type": "emoji",
                                "name": "wink",
                                "unicode": "1f609"
                            },
                            {
                                "type": "text",
                                "text": "\n\nBut my stream appears to be working correctly (i.e. I see market updates such as):\n\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "1 {'id': '1.130856098', 'marketDefinition': {'bspMarket': False, 'turnInPlayEnabled': False, 'persistenceEnabled': False, 'marketBaseRate': 5, 'eventId': '28180290', 'eventTypeId': '2378961', 'numberOfWinners': 1, 'bettingType': 'ODDS', 'marketType': 'NONSPORT', 'marketTime': '2019-03-29T00:00:00.000Z', 'suspendTime': '2019-03-29T00:00:00.000Z', 'bspReconciled': False, 'complete': True, 'inPlay': False, 'crossMatching': False, 'runnersVoidable': False, 'numberOfActiveRunners': 8, 'betDelay': 0, 'status': 'OPEN', 'runners': [{'status': 'ACTIVE', 'sortPriority': 1, 'id': 10064909}, {'status': 'ACTIVE', 'sortPriority': 2, 'id': 12832765}, {'status': 'ACTIVE', 'sortPriority': 3, 'id': 12832766}, {'status': 'ACTIVE', 'sortPriority': 4, 'id': 12832767}, {'status': 'ACTIVE', 'sortPriority': 5, 'id': 12832768}, {'status': 'ACTIVE', 'sortPriority': 6, 'id': 12832770}, {'status': 'ACTIVE', 'sortPriority': 7, 'id': 12832769}, {'status': 'ACTIVE', 'sortPriority': 8, 'id': 12832771}, {'status': 'LOSER', 'sortPriority': 9, 'id': 10317013}, {'status': 'LOSER', 'sortPriority': 10, 'id': 10317010}], 'regulators': ['MR_INT'], 'countryCode': 'GB', 'discountAllowed': True, 'timezone': 'Europe\/London', 'openDate': '2019-03-29T00:00:00.000Z', 'version': 2576584033, 'priceLadderDefinition': {'type': 'CLASSIC'}}, 'rc': [{'batb': [[0, 2.66, 9.96], [1, 2.64, 20.7], [2, 2.58, 24.4]], 'batl': [[0, 2.8, 163.58], [1, 2.94, 140.19], [2, 2.96, 11]], 'id': 12832765}, {'batb': [[0, 18.5, 4], [1, 18, 3], [2, 17.5, 2]], 'batl': [[0, 19.5, 2], [1, 20, 7.88], [2, 21, 6.89]], 'id': 12832767}, {'batb': [[0, 8.2, 2], [1, 8, 6], [2, 7.8, 143.63]], 'batl': [[0, 9, 19.87], [1, 9.2, 2], [2, 9.4, 6.37]], 'id': 12832766}, {'batb': [[0, 44, 25.58], [1, 42, 5.23], [2, 38, 4.36]], 'batl': [[0, 55, 4], [1, 60, 2], [2, 70, 2]], 'id': 12832769}, {'batb': [[0, 36, 1], [1, 34, 2], [2, 30, 4]], 'batl': [[0, 40, 3.8], [1, 42, 8.2], [2, 44, 2.01]], 'id': 12832768}, {'batb': [[0, 6, 73.77], [1, 5.9, 14.65], [2, 5.8, 58]], 'batl': [[0, 6.2, 71.22], [1, 6.4, 96.21], [2, 6.6, 109.08]], 'id': 12832771}, {'batb': [[0, 40, 7.47], [1, 38, 2], [2, 36, 4.36]], 'batl': [[0, 44, 1.72], [1, 46, 1], [2, 48, 2]], 'id': 12832770}, {'batb': [[0, 4.1, 2], [1, 4, 31], [2, 3.95, 5.38]], 'batl': [[0, 4.5, 5], [1, 4.7, 61.8], [2, 5.5, 3.14]], 'id': 10064909}], 'img': True} <betfairlightweight.resources.streamingresources.MarketDefinition object at 0x000002720FE564E0> 2019-02-23 17:19:24.141000\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "\n\nIf I remove that 1 line."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UFTBRB3F1",
        "type": "message",
        "ts": "1550942432.034200",
        "client_msg_id": "cc5ba5bf-9d82-4c75-b538-0b6f532396d3",
        "text": "Am I being dense here, should I be changing anything else?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g771e110be94",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/a771e110be945b86bede9d5c1bb551e3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png",
            "first_name": "",
            "real_name": "Newbie99",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "vjmehra",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "BgnMK",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Am I being dense here, should I be changing anything else?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1550942477.034500",
        "client_msg_id": "45D3F1C8-0227-4FFF-81EA-3CF61B4EFDE6",
        "text": "No idea without seeing the code ",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "afz4w",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "No idea without seeing the code"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UFTBRB3F1",
        "type": "message",
        "ts": "1550942557.034700",
        "client_msg_id": "d59a4900-3770-44f7-b288-73690a2fa8fc",
        "text": "one sec...",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g771e110be94",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/a771e110be945b86bede9d5c1bb551e3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png",
            "first_name": "",
            "real_name": "Newbie99",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "vjmehra",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "yAcxU",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "one sec..."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UFTBRB3F1",
        "type": "message",
        "ts": "1550942606.035000",
        "client_msg_id": "64af054c-481a-476e-926b-72a9a46292a0",
        "text": "```\nimport logging\nimport time\nimport queue\nfrom queue import Empty\nfrom flask import Flask, render_template\nfrom flask_socketio import SocketIO, emit\nimport betfairlightweight\nfrom betfairlightweight.filters import (\n    streaming_market_filter,\n    streaming_market_data_filter,\n)\nfrom account_info import accname, accpass, acckey, path\n\nlogging.basicConfig(level=<http:\/\/logging.INFO|logging.INFO>)\n\ntrading = betfairlightweight.APIClient(accname, accpass, acckey, certs=path)\ntrading.login()\n\noutput_queue = queue.Queue()\nlistener = betfairlightweight.StreamListener(output_queue=output_queue)\nstream = trading.streaming.create_stream(listener=listener)\n\n# create filters (US WIN horse racing)\nmarket_filter = streaming_market_filter(\n#    event_type_ids=['7'],\n#    country_codes=['US'],\n#    market_types=['WIN'])\n     market_ids=['1.130856098'])\nmarket_data_filter = streaming_market_data_filter(\n    fields=['EX_BEST_OFFERS', 'EX_MARKET_DEF'],\n    ladder_levels=3)\n\nstream.subscribe_to_markets(\n    market_filter=market_filter,\n    market_data_filter=market_data_filter,\n    conflate_ms=1000)\n\nstream.start(_async=True)\n\nmarket_books = listener.snap(market_ids=['1.130856098'])\n```",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g771e110be94",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/a771e110be945b86bede9d5c1bb551e3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png",
            "first_name": "",
            "real_name": "Newbie99",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "vjmehra",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "ic7",
                "elements": [
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "import logging\nimport time\nimport queue\nfrom queue import Empty\nfrom flask import Flask, render_template\nfrom flask_socketio import SocketIO, emit\nimport betfairlightweight\nfrom betfairlightweight.filters import (\n    streaming_market_filter,\n    streaming_market_data_filter,\n)\nfrom account_info import accname, accpass, acckey, path\n\nlogging.basicConfig(level="
                            },
                            {
                                "type": "link",
                                "url": "http:\/\/logging.INFO",
                                "text": "logging.INFO"
                            },
                            {
                                "type": "text",
                                "text": ")\n\ntrading = betfairlightweight.APIClient(accname, accpass, acckey, certs=path)\ntrading.login()\n\noutput_queue = queue.Queue()\nlistener = betfairlightweight.StreamListener(output_queue=output_queue)\nstream = trading.streaming.create_stream(listener=listener)\n\n# create filters (US WIN horse racing)\nmarket_filter = streaming_market_filter(\n#    event_type_ids=['7'],\n#    country_codes=['US'],\n#    market_types=['WIN'])\n     market_ids=['1.130856098'])\nmarket_data_filter = streaming_market_data_filter(\n    fields=['EX_BEST_OFFERS', 'EX_MARKET_DEF'],\n    ladder_levels=3)\n\nstream.subscribe_to_markets(\n    market_filter=market_filter,\n    market_data_filter=market_data_filter,\n    conflate_ms=1000)\n\nstream.start(_async=True)\n\nmarket_books = listener.snap(market_ids=['1.130856098'])\n"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1550942656.035900",
        "client_msg_id": "2BDFE3DD-863E-437F-B2A4-5838F08DE4F3",
        "text": "So the stream starts you then give it 0seconds to actually start \/ start getting data",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "s0oje",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "So the stream starts you then give it 0seconds to actually start \/ start getting data"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1550942675.036600",
        "client_msg_id": "29CB18B8-8763-42AE-9603-B7ADEA2EEE59",
        "text": "Put a sleep in or add that snap into a while loop and it will start working ",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "4eEg",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Put a sleep in or add that snap into a while loop and it will start working"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1550942682.037100",
        "client_msg_id": "2BEFDF6F-DC3F-48BE-B233-5C7C6BA908EA",
        "text": "You understand threading?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "R=K",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "You understand threading?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UFTBRB3F1",
        "type": "message",
        "ts": "1550942750.038400",
        "client_msg_id": "a918fd51-f6e2-4e6f-99ff-cd2f440e98f0",
        "text": "hahaha, I have had so much pain attempting threading...but below what you see above I pass it to a browser via flask so I have been messing around with socketio.sleep...will try a time.sleep and see if that works for this example",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g771e110be94",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/a771e110be945b86bede9d5c1bb551e3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png",
            "first_name": "",
            "real_name": "Newbie99",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "vjmehra",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "9Ea8",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "hahaha, I have had so much pain attempting threading...but below what you see above I pass it to a browser via flask so I have been messing around with socketio.sleep...will try a time.sleep and see if that works for this example"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UFTBRB3F1",
        "type": "message",
        "ts": "1550943527.039600",
        "client_msg_id": "2bb4a2fc-ef14-440e-8a84-2ca6d2ce8759",
        "text": "hmm...lower down in the example code, it has:\n\n```\nwhile True:\n    market_books = output_queue.get()\n    print(market_books)\n```\n\nJust to check the logic here, is the correct implementation:\n\n```",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g771e110be94",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/a771e110be945b86bede9d5c1bb551e3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png",
            "first_name": "",
            "real_name": "Newbie99",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "vjmehra",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "IBUgy",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "hmm...lower down in the example code, it has:\n\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "while True:\n    market_books = output_queue.get()\n    print(market_books)\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "\n\nJust to check the logic here, is the correct implementation:\n\n```"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UFTBRB3F1",
        "type": "message",
        "ts": "1550943636.040900",
        "client_msg_id": "76c1269b-5e13-48b5-bdee-cf9cc3e6fdc8",
        "text": "```\nstream.start(_async=True)\ntime.sleep(2)\nmarket_books = listener.snap(market_ids=['1.130856098'])\n\nwhile True:\n    market_books = output_queue.get()\n    print(market_books)\n```\n\nor\n\n```\nstream.start(_async=True)\ntime.sleep(2)\n\nwhile True:\n    market_books = listener.snap(market_ids=['1.130856098'])\n    print(market_books)\n```",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g771e110be94",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/a771e110be945b86bede9d5c1bb551e3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png",
            "first_name": "",
            "real_name": "Newbie99",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "vjmehra",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "kxx",
                "elements": [
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "stream.start(_async=True)\ntime.sleep(2)\nmarket_books = listener.snap(market_ids=['1.130856098'])\n\nwhile True:\n    market_books = output_queue.get()\n    print(market_books)\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "\n\nor\n\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "stream.start(_async=True)\ntime.sleep(2)\n\nwhile True:\n    market_books = listener.snap(market_ids=['1.130856098'])\n    print(market_books)\n"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1550943934.042500",
        "client_msg_id": "288B6567-D20C-4976-8484-93612E3AF124",
        "text": "Yeah that’s correct, the only difference is the top one will block till there is an update and the second one will rapidly give you books regardless of whether than has been an update ",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "1a2B",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Yeah that’s correct, the only difference is the top one will block till there is an update and the second one will rapidly give you books regardless of whether than has been an update"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UFTBRB3F1",
        "type": "message",
        "ts": "1550944243.046500",
        "client_msg_id": "4d93d522-136d-4e33-bb54-cd0f4d1e7275",
        "text": "Oddly the second doesn't seem to work, whilst the former does, but ignoring that for a sec, just to check the correct behaviour.\n\nUsing the former example (i.e. with the snap outside the While loop), the initial update occurs and then I see no further updates. This market is slow and I'm using the delayed key, so normally I would expect to see updates every 3 mins, which isn't happening. It just appears to stick at the initial state (I can see from the console it hasn't hung).\n\nBased on what you've said about it blocking until it gets an update, it that behaviour possibly correct. Or does it sound like something is going wrong still (as after say 10 mins I should see an update even with the delayed key...does it for example return identical changes to the stream)?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g771e110be94",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/a771e110be945b86bede9d5c1bb551e3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png",
            "first_name": "",
            "real_name": "Newbie99",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "vjmehra",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Wvkyq",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Oddly the second doesn't seem to work, whilst the former does, but ignoring that for a sec, just to check the correct behaviour.\n\nUsing the former example (i.e. with the snap outside the While loop), the initial update occurs and then I see no further updates. This market is slow and I'm using the delayed key, so normally I would expect to see updates every 3 mins, which isn't happening. It just appears to stick at the initial state (I can see from the console it hasn't hung).\n\nBased on what you've said about it blocking until it gets an update, it that behaviour possibly correct. Or does it sound like something is going wrong still (as after say 10 mins I should see an update even with the delayed key...does it for example return identical changes to the stream)?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UFTBRB3F1",
        "type": "message",
        "ts": "1550950755.048200",
        "client_msg_id": "7227e670-32ed-4d5d-a764-a7dd152c9dff",
        "text": "Actually, having run a few attempts, the former doesn't seem to work either.\n\nRunning:\n\n```\nstream.start(_async=True)\ntime.sleep(2)\nmarket_books = listener.snap(market_ids=['1.130856098'])\n\nwhile True:\n    market_books = output_queue.get()\n    for market_book in market_books:\n      print(\n            market_book.streaming_unique_id,  \n            market_book.streaming_update,  \n            market_book.market_definition,  \n            market_book.publish_time)  \n```\n\nReturns:\n\n```\n1 {'id': '1.130856098', 'marketDefinition': {'bspMarket': False, 'turnInPlayEnabled': False, 'persistenceEnabled': False, 'marketBaseRate': 5, 'eventId': '28180290', 'eventTypeId': '2378961', 'numberOfWinners': 1, 'bettingType': 'ODDS', 'marketType': 'NONSPORT', 'marketTime': '2019-03-29T00:00:00.000Z', 'suspendTime': '2019-03-29T00:00:00.000Z', 'bspReconciled': False, 'complete': True, 'inPlay': False, 'crossMatching': False, 'runnersVoidable': False, 'numberOfActiveRunners': 8, 'betDelay': 0, 'status': 'OPEN', 'runners': [{'status': 'ACTIVE', 'sortPriority': 1, 'id': 10064909}, {'status': 'ACTIVE', 'sortPriority': 2, 'id': 12832765}, {'status': 'ACTIVE', 'sortPriority': 3, 'id': 12832766}, {'status': 'ACTIVE', 'sortPriority': 4, 'id': 12832767}, {'status': 'ACTIVE', 'sortPriority': 5, 'id': 12832768}, {'status': 'ACTIVE', 'sortPriority': 6, 'id': 12832770}, {'status': 'ACTIVE', 'sortPriority': 7, 'id': 12832769}, {'status': 'ACTIVE', 'sortPriority': 8, 'id': 12832771}, {'status': 'LOSER', 'sortPriority': 9, 'id': 10317013}, {'status': 'LOSER', 'sortPriority': 10, 'id': 10317010}], 'regulators': ['MR_INT'], 'countryCode': 'GB', 'discountAllowed': True, 'timezone': 'Europe\/London', 'openDate': '2019-03-29T00:00:00.000Z', 'version': 2576584033, 'priceLadderDefinition': {'type': 'CLASSIC'}}, 'rc': [{'batb': [[0, 2.66, 6.06], [1, 2.64, 20.7], [2, 2.58, 24.4]], 'batl': [[0, 2.68, 1], [1, 2.8, 163.58], [2, 2.94, 140.19]], 'id': 12832765}, {'batb': [[0, 18.5, 4], [1, 18, 3], [2, 17.5, 2]], 'batl': [[0, 19.5, 2], [1, 20, 7.88], [2, 21, 6.89]], 'id': 12832767}, {'batb': [[0, 8.2, 2], [1, 8, 6], [2, 7.8, 143.63]], 'batl': [[0, 9, 19.87], [1, 9.2, 2], [2, 9.4, 6.37]], 'id': 12832766}, {'batb': [[0, 42, 5.3], [1, 38, 4.36], [2, 36, 13.27]], 'batl': [[0, 55, 4], [1, 60, 2], [2, 70, 2]], 'id': 12832769}, {'batb': [[0, 36, 3], [1, 34, 2], [2, 30, 4]], 'batl': [[0, 46, 5.01], [1, 48, 1.91], [2, 50, 4.38]], 'id': 12832768}, {'batb': [[0, 6, 73.77], [1, 5.9, 14.65], [2, 5.8, 58]], 'batl': [[0, 6.2, 71.22], [1, 6.4, 96.21], [2, 6.6, 109.08]], 'id': 12832771}, {'batb': [[0, 40, 7.47], [1, 38, 2], [2, 36, 4.36]], 'batl': [[0, 48, 2], [1, 50, 2.36], [2, 55, 8.09]], 'id': 12832770}, {'batb': [[0, 4.1, 20], [1, 4, 31], [2, 3.95, 5.38]], 'batl': [[0, 4.5, 5], [1, 4.7, 61.8], [2, 5.5, 3.14]], 'id': 10064909}], 'img': True} &lt;betfairlightweight.resources.streamingresources.MarketDefinition object at 0x0000028F6EB9F4E0&gt; 2019-02-23 19:33:02.838000\n1 {'id': '1.130856098', 'rc': [{'batl': [[2, 2.8, 163.58], [1, 2.78, 2.61]], 'id': 12832765}, {'batb': [[2, 38, 4.36], [1, 42, 5.23], [0, 44, 25.58]], 'id': 12832769}, {'batb': [[1, 34, 4], [0, 36, 1]], 'id': 12832768}], 'con': True} &lt;betfairlightweight.resources.streamingresources.MarketDefinition object at 0x0000028F6EB1EB70&gt; 2019-02-23 19:36:02.838000\n\n```\n\ni.e. the updates come through exactly the same as if I wasn't using the snap",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g771e110be94",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/a771e110be945b86bede9d5c1bb551e3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png",
            "first_name": "",
            "real_name": "Newbie99",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "vjmehra",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "cjM",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Actually, having run a few attempts, the former doesn't seem to work either.\n\nRunning:\n\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "stream.start(_async=True)\ntime.sleep(2)\nmarket_books = listener.snap(market_ids=['1.130856098'])\n\nwhile True:\n    market_books = output_queue.get()\n    for market_book in market_books:\n      print(\n            market_book.streaming_unique_id,  \n            market_book.streaming_update,  \n            market_book.market_definition,  \n            market_book.publish_time)  \n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "\n\nReturns:\n\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "1 {'id': '1.130856098', 'marketDefinition': {'bspMarket': False, 'turnInPlayEnabled': False, 'persistenceEnabled': False, 'marketBaseRate': 5, 'eventId': '28180290', 'eventTypeId': '2378961', 'numberOfWinners': 1, 'bettingType': 'ODDS', 'marketType': 'NONSPORT', 'marketTime': '2019-03-29T00:00:00.000Z', 'suspendTime': '2019-03-29T00:00:00.000Z', 'bspReconciled': False, 'complete': True, 'inPlay': False, 'crossMatching': False, 'runnersVoidable': False, 'numberOfActiveRunners': 8, 'betDelay': 0, 'status': 'OPEN', 'runners': [{'status': 'ACTIVE', 'sortPriority': 1, 'id': 10064909}, {'status': 'ACTIVE', 'sortPriority': 2, 'id': 12832765}, {'status': 'ACTIVE', 'sortPriority': 3, 'id': 12832766}, {'status': 'ACTIVE', 'sortPriority': 4, 'id': 12832767}, {'status': 'ACTIVE', 'sortPriority': 5, 'id': 12832768}, {'status': 'ACTIVE', 'sortPriority': 6, 'id': 12832770}, {'status': 'ACTIVE', 'sortPriority': 7, 'id': 12832769}, {'status': 'ACTIVE', 'sortPriority': 8, 'id': 12832771}, {'status': 'LOSER', 'sortPriority': 9, 'id': 10317013}, {'status': 'LOSER', 'sortPriority': 10, 'id': 10317010}], 'regulators': ['MR_INT'], 'countryCode': 'GB', 'discountAllowed': True, 'timezone': 'Europe\/London', 'openDate': '2019-03-29T00:00:00.000Z', 'version': 2576584033, 'priceLadderDefinition': {'type': 'CLASSIC'}}, 'rc': [{'batb': [[0, 2.66, 6.06], [1, 2.64, 20.7], [2, 2.58, 24.4]], 'batl': [[0, 2.68, 1], [1, 2.8, 163.58], [2, 2.94, 140.19]], 'id': 12832765}, {'batb': [[0, 18.5, 4], [1, 18, 3], [2, 17.5, 2]], 'batl': [[0, 19.5, 2], [1, 20, 7.88], [2, 21, 6.89]], 'id': 12832767}, {'batb': [[0, 8.2, 2], [1, 8, 6], [2, 7.8, 143.63]], 'batl': [[0, 9, 19.87], [1, 9.2, 2], [2, 9.4, 6.37]], 'id': 12832766}, {'batb': [[0, 42, 5.3], [1, 38, 4.36], [2, 36, 13.27]], 'batl': [[0, 55, 4], [1, 60, 2], [2, 70, 2]], 'id': 12832769}, {'batb': [[0, 36, 3], [1, 34, 2], [2, 30, 4]], 'batl': [[0, 46, 5.01], [1, 48, 1.91], [2, 50, 4.38]], 'id': 12832768}, {'batb': [[0, 6, 73.77], [1, 5.9, 14.65], [2, 5.8, 58]], 'batl': [[0, 6.2, 71.22], [1, 6.4, 96.21], [2, 6.6, 109.08]], 'id': 12832771}, {'batb': [[0, 40, 7.47], [1, 38, 2], [2, 36, 4.36]], 'batl': [[0, 48, 2], [1, 50, 2.36], [2, 55, 8.09]], 'id': 12832770}, {'batb': [[0, 4.1, 20], [1, 4, 31], [2, 3.95, 5.38]], 'batl': [[0, 4.5, 5], [1, 4.7, 61.8], [2, 5.5, 3.14]], 'id': 10064909}], 'img': True} <betfairlightweight.resources.streamingresources.MarketDefinition object at 0x0000028F6EB9F4E0> 2019-02-23 19:33:02.838000\n1 {'id': '1.130856098', 'rc': [{'batl': [[2, 2.8, 163.58], [1, 2.78, 2.61]], 'id': 12832765}, {'batb': [[2, 38, 4.36], [1, 42, 5.23], [0, 44, 25.58]], 'id': 12832769}, {'batb': [[1, 34, 4], [0, 36, 1]], 'id': 12832768}], 'con': True} <betfairlightweight.resources.streamingresources.MarketDefinition object at 0x0000028F6EB1EB70> 2019-02-23 19:36:02.838000\n\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "\n\ni.e. the updates come through exactly the same as if I wasn't using the snap"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U5D4ZBEAG",
        "type": "message",
        "ts": "1550950975.048400",
        "client_msg_id": "b1b5826e-bbc0-4b20-b106-b510860c86d4",
        "text": "```market_books = listener.snap(market_ids=['1.130856098'])\n\nwhile True:\n    market_books = output_queue.get()```",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g147ed91a398",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/7147ed91a39866d363a9cfa66ef64cb8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png",
            "first_name": "",
            "real_name": "seaders",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "seaders",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "2K=vE",
                "elements": [
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "market_books = listener.snap(market_ids=['1.130856098'])\n\nwhile True:\n    market_books = output_queue.get()"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U5D4ZBEAG",
        "type": "message",
        "ts": "1550951006.049000",
        "client_msg_id": "e3ce9c19-200e-47d0-aed7-a23a1627cfac",
        "text": "```a = 1\nwhile True:\n    a = 2\n    print(a)```",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g147ed91a398",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/7147ed91a39866d363a9cfa66ef64cb8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png",
            "first_name": "",
            "real_name": "seaders",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "seaders",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "A5B8M",
                "elements": [
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "a = 1\nwhile True:\n    a = 2\n    print(a)"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U5D4ZBEAG",
        "type": "message",
        "ts": "1550951010.049200",
        "client_msg_id": "c968e94d-b195-4d73-8ef8-ca570935a0b6",
        "text": "a will never be 1",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g147ed91a398",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/7147ed91a39866d363a9cfa66ef64cb8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png",
            "first_name": "",
            "real_name": "seaders",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "seaders",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "ZaaWf",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "a will never be 1"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U5D4ZBEAG",
        "type": "message",
        "ts": "1550951187.051900",
        "client_msg_id": "ee634021-0b2a-4217-b87e-a140afd8e875",
        "text": "\"normal behaviour\" is for a `snap` to be available from the point of the first update on",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g147ed91a398",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/7147ed91a39866d363a9cfa66ef64cb8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png",
            "first_name": "",
            "real_name": "seaders",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "seaders",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "byVUx",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "\"normal behaviour\" is for a "
                            },
                            {
                                "type": "text",
                                "text": "snap",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " to be available from the point of the first update on"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U5D4ZBEAG",
        "type": "message",
        "ts": "1550951232.053200",
        "client_msg_id": "0ab11661-fa10-4cf1-a402-5094c9589b09",
        "text": "```\nmarket_ids = ['1.130856098']\n\nmarket_filter = streaming_market_filter(\n    market_ids=market_ids)\n\n...\n\n    while True:\n        if output_queue.empty():\n            time.sleep(0.5)\n            continue\n\n        market_books = output_queue.get()\n        print(\n            'mbs', market_books)\n        print(\n            'snap', listener.snap(market_ids)\n        )```",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g147ed91a398",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/7147ed91a39866d363a9cfa66ef64cb8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png",
            "first_name": "",
            "real_name": "seaders",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "seaders",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "TJ7",
                "elements": [
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "market_ids = ['1.130856098']\n\nmarket_filter = streaming_market_filter(\n    market_ids=market_ids)\n\n...\n\n    while True:\n        if output_queue.empty():\n            time.sleep(0.5)\n            continue\n\n        market_books = output_queue.get()\n        print(\n            'mbs', market_books)\n        print(\n            'snap', listener.snap(market_ids)\n        )"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U5D4ZBEAG",
        "type": "message",
        "ts": "1550951254.053700",
        "client_msg_id": "2c287d03-15df-449d-b408-6163e18ebfc8",
        "text": "^^^ makes more sense, and would be something like your \"normal\" operation",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g147ed91a398",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/7147ed91a39866d363a9cfa66ef64cb8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png",
            "first_name": "",
            "real_name": "seaders",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "seaders",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "S7r0g",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "^^^ makes more sense, and would be something like your \"normal\" operation"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U5D4ZBEAG",
        "type": "message",
        "ts": "1550951276.054500",
        "client_msg_id": "c38acad2-5527-48b1-a513-72c4a50c66ca",
        "text": "you shouldn't really be doing anything with any market whose id hasn't already come through the socket, that plain doesn't make sense",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g147ed91a398",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/7147ed91a39866d363a9cfa66ef64cb8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png",
            "first_name": "",
            "real_name": "seaders",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "seaders",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "nY5Z",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "you shouldn't really be doing anything with any market whose id hasn't already come through the socket, that plain doesn't make sense"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UFTBRB3F1",
        "type": "message",
        "ts": "1550951318.055000",
        "client_msg_id": "21655da1-d9a8-461c-b239-8369f70496fa",
        "text": "Ok that of course makes sense, I just assumed I wasn't understanding, I thought that's what Liam suggested above, but I think he didn't spot the error in my code.\n\nOkay, yes, logically that makes sense, I was persisting was flawed logic.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g771e110be94",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/a771e110be945b86bede9d5c1bb551e3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png",
            "first_name": "",
            "real_name": "Newbie99",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "vjmehra",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "EoSu",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Ok that of course makes sense, I just assumed I wasn't understanding, I thought that's what Liam suggested above, but I think he didn't spot the error in my code.\n\nOkay, yes, logically that makes sense, I was persisting was flawed logic."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U5D4ZBEAG",
        "type": "message",
        "ts": "1550951372.055700",
        "client_msg_id": "8b7724d7-c2c7-43d5-94c9-436bd2bfd30e",
        "text": "some sort of \"normal\" operation would be to have all markets, within your own code, to have some type of \"state\"",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g147ed91a398",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/7147ed91a39866d363a9cfa66ef64cb8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png",
            "first_name": "",
            "real_name": "seaders",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "seaders",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Mrg",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "some sort of \"normal\" operation would be to have all markets, within your own code, to have some type of \"state\""
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U5D4ZBEAG",
        "type": "message",
        "ts": "1550951406.056500",
        "client_msg_id": "91bc53e4-0b12-4214-916b-43757da108c7",
        "text": "as in, in my code, I don't subscribe to the stream first, I do a listMarketCatalogue call first, and get the ids of only the markets I very definitely want to subscribe to",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g147ed91a398",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/7147ed91a39866d363a9cfa66ef64cb8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png",
            "first_name": "",
            "real_name": "seaders",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "seaders",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "uNXkl",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "as in, in my code, I don't subscribe to the stream first, I do a listMarketCatalogue call first, and get the ids of only the markets I very definitely want to subscribe to"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U5D4ZBEAG",
        "type": "message",
        "ts": "1550951421.057000",
        "client_msg_id": "259224e7-ce41-4b8d-873a-6a4b5e18407f",
        "text": "all those markets get a state of UNINITIALISED, basically",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g147ed91a398",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/7147ed91a39866d363a9cfa66ef64cb8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png",
            "first_name": "",
            "real_name": "seaders",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "seaders",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "xf9+",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "all those markets get a state of UNINITIALISED, basically"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U5D4ZBEAG",
        "type": "message",
        "ts": "1550951457.058300",
        "client_msg_id": "94fe9267-ecd6-46f3-b29b-4e63fe81594b",
        "text": "then, I subscribe to them, and as they come through the socket, they kinda go to WITH_MARKETBOOK",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g147ed91a398",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/7147ed91a39866d363a9cfa66ef64cb8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png",
            "first_name": "",
            "real_name": "seaders",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "seaders",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "iKp",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "then, I subscribe to them, and as they come through the socket, they kinda go to WITH_MARKETBOOK"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U5D4ZBEAG",
        "type": "message",
        "ts": "1550951480.058800",
        "client_msg_id": "0aa61d3a-d019-479d-9a84-aa6cf7911ca8",
        "text": "and so on, and so on",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g147ed91a398",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/7147ed91a39866d363a9cfa66ef64cb8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png",
            "first_name": "",
            "real_name": "seaders",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "seaders",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "o0b",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "and so on, and so on"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U5D4ZBEAG",
        "type": "message",
        "ts": "1550951506.059600",
        "client_msg_id": "c67d1a75-76c0-4f5a-8672-d8d60b0b7352",
        "text": "and it's only at the point where all the \"data\" I want for my logic is ready, and good, and available, that I would do snap, or run through runner prices, etc",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g147ed91a398",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/7147ed91a39866d363a9cfa66ef64cb8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png",
            "first_name": "",
            "real_name": "seaders",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "seaders",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "yYn",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "and it's only at the point where all the \"data\" I want for my logic is ready, and good, and available, that I would do snap, or run through runner prices, etc"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U5D4ZBEAG",
        "type": "message",
        "ts": "1550951525.060600",
        "client_msg_id": "6b352b1a-9eee-430b-8816-03a9ef36091c",
        "text": "you nearly never just instantly jump to completion in the _exact_ tick after startup",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g147ed91a398",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/7147ed91a39866d363a9cfa66ef64cb8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png",
            "first_name": "",
            "real_name": "seaders",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "seaders",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "dYP5I",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "you nearly never just instantly jump to completion in the "
                            },
                            {
                                "type": "text",
                                "text": "exact",
                                "style": {
                                    "italic": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " tick after startup"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1550951545.061200",
        "client_msg_id": "F157BE42-F833-4923-94B0-B48D787888CA",
        "text": "What exactly are you expecting when you use snap and then just start using a while loop with the output queue? I am so confused as to what you are doing ",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Xsr",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "What exactly are you expecting when you use snap and then just start using a while loop with the output queue? I am so confused as to what you are doing"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UFTBRB3F1",
        "type": "message",
        "ts": "1550951935.064900",
        "client_msg_id": "a88a8d2a-190e-4569-914c-d23041f67936",
        "text": "All I wanted to do (and maybe I'm misunderstanding what Snap is for), is to get the full market state at every update.\n\nSo for example, for market x, I get the initial market on connection, e.g.\n\n```\n1 {'id': '1.130856098', 'marketDefinition': {'bspMarket': False, 'turnInPlayEnabled': False, 'persistenceEnabled': False, 'marketBaseRate': 5, 'eventId': '28180290', 'eventTypeId': '2378961', 'numberOfWinners': 1, 'bettingType': .....\n```\n\nThen every update an update e.g.\n\n```\n1 {'id': '1.130856098', 'rc': [{'batl': [[2, 2.8, 163.58], [1, 2.78, 2.61]], 'id': 12832765}, {'batb': [[2, 38, 4.36], [1, 42, 5.23], [0, 44, 25.58]], 'id': 12832769}, {'batb': [[1, 34, 4], [0, 36, 1]], 'id': 12832768}], 'con': True} \n```\n\nThat all works fine of course....however what I thought Snap would help is return an updated version of:\n\n```\n1 {'id': '1.130856098', 'marketDefinition': {'bspMarket': False, 'turnInPlayEnabled': False, 'persistenceEnabled': False, 'marketBaseRate': 5, 'eventId': '28180290', 'eventTypeId': '2378961', 'numberOfWinners': 1, 'bettingType': ...\n```\n\nOn every update, but maybe I'm misunderstanding what the correct use of Snap is?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g771e110be94",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/a771e110be945b86bede9d5c1bb551e3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png",
            "first_name": "",
            "real_name": "Newbie99",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "vjmehra",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "zxAk",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "All I wanted to do (and maybe I'm misunderstanding what Snap is for), is to get the full market state at every update.\n\nSo for example, for market x, I get the initial market on connection, e.g.\n\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "1 {'id': '1.130856098', 'marketDefinition': {'bspMarket': False, 'turnInPlayEnabled': False, 'persistenceEnabled': False, 'marketBaseRate': 5, 'eventId': '28180290', 'eventTypeId': '2378961', 'numberOfWinners': 1, 'bettingType': .....\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "\n\nThen every update an update e.g.\n\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "1 {'id': '1.130856098', 'rc': [{'batl': [[2, 2.8, 163.58], [1, 2.78, 2.61]], 'id': 12832765}, {'batb': [[2, 38, 4.36], [1, 42, 5.23], [0, 44, 25.58]], 'id': 12832769}, {'batb': [[1, 34, 4], [0, 36, 1]], 'id': 12832768}], 'con': True} \n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "\n\nThat all works fine of course....however what I thought Snap would help is return an updated version of:\n\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "1 {'id': '1.130856098', 'marketDefinition': {'bspMarket': False, 'turnInPlayEnabled': False, 'persistenceEnabled': False, 'marketBaseRate': 5, 'eventId': '28180290', 'eventTypeId': '2378961', 'numberOfWinners': 1, 'bettingType': ...\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "\n\nOn every update, but maybe I'm misunderstanding what the correct use of Snap is?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UFTBRB3F1",
        "type": "message",
        "ts": "1550951978.065500",
        "client_msg_id": "b76d707c-a21f-40c2-843c-75590a8a60ee",
        "text": "(and thank you Seaders too, I am playing with your code snippet)",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g771e110be94",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/a771e110be945b86bede9d5c1bb551e3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png",
            "first_name": "",
            "real_name": "Newbie99",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "vjmehra",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "borht",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "(and thank you Seaders too, I am playing with your code snippet)"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1550951982.065700",
        "client_msg_id": "13D9426A-A2E3-407B-B703-65696041F67A",
        "text": "The queue gives you every update ",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "e6G",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "The queue gives you every update"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1550951994.066200",
        "client_msg_id": "A8D57EA2-95E8-45EF-8E44-8DC65591BEEF",
        "text": "Snap gives you the current book",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "l3Wr",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Snap gives you the current book"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1550951996.066300",
        "client_msg_id": "616396C7-6D92-4AFA-AE93-89E8906FF548",
        "text": "Simple",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "rDddY",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Simple"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UFTBRB3F1",
        "type": "message",
        "ts": "1550952029.067100",
        "client_msg_id": "99fb4b9f-6daf-4195-990d-2f5f0bae6c2d",
        "text": "Yes, okay so initial update + update should = current book at every point, so that is what I was after",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g771e110be94",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/a771e110be945b86bede9d5c1bb551e3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png",
            "first_name": "",
            "real_name": "Newbie99",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "vjmehra",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "BAZ9X",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Yes, okay so initial update + update should = current book at every point, so that is what I was after"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UFTBRB3F1",
        "type": "message",
        "ts": "1550952039.067300",
        "client_msg_id": "632e3974-c48e-4baf-ac1f-b50e92f312a6",
        "text": "Maybe I was explaining it badly",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g771e110be94",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/a771e110be945b86bede9d5c1bb551e3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png",
            "first_name": "",
            "real_name": "Newbie99",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "vjmehra",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "F93",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Maybe I was explaining it badly"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U5D4ZBEAG",
        "type": "message",
        "ts": "1550952060.067500",
        "client_msg_id": "c79eb892-bbf5-4590-a391-03b0e8534e77",
        "text": "<https:\/\/betfairlightweight.slack.com\/archives\/C4H05ML2E\/p1550880399020300>",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g147ed91a398",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/7147ed91a39866d363a9cfa66ef64cb8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png",
            "first_name": "",
            "real_name": "seaders",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "seaders",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "attachments": [
            {
                "from_url": "https:\/\/betfairlightweight.slack.com\/archives\/C4H05ML2E\/p1550880399020300",
                "fallback": "[February 22nd, 2019 4:06 PM] seaders: the market_books from `market_books = output_queue.get()` are all the latest \"full state\" of each market",
                "ts": "1550880399.020300",
                "author_id": "U5D4ZBEAG",
                "author_subname": "seaders",
                "channel_id": "C4H05ML2E",
                "is_msg_unfurl": true,
                "text": "the market_books from `market_books = output_queue.get()` are all the latest \"full state\" of each market",
                "author_name": "seaders",
                "author_link": "https:\/\/betfairlightweight.slack.com\/team\/U5D4ZBEAG",
                "author_icon": "https:\/\/secure.gravatar.com\/avatar\/7147ed91a39866d363a9cfa66ef64cb8.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2F00b63%2Fimg%2Favatars%2Fava_0015-48.png",
                "mrkdwn_in": [
                    "text"
                ],
                "id": 1,
                "original_url": "https:\/\/betfairlightweight.slack.com\/archives\/C4H05ML2E\/p1550880399020300",
                "footer": "Slack conversation"
            }
        ],
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "qgH",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "link",
                                "url": "https:\/\/betfairlightweight.slack.com\/archives\/C4H05ML2E\/p1550880399020300"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U5D4ZBEAG",
        "type": "message",
        "ts": "1550952071.067800",
        "client_msg_id": "d9e6c0ee-ca9a-4706-9df5-f31efd854780",
        "text": ":smiley:",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g147ed91a398",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/7147ed91a39866d363a9cfa66ef64cb8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png",
            "first_name": "",
            "real_name": "seaders",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "seaders",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "baEfW",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "emoji",
                                "name": "smiley",
                                "unicode": "1f603"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UFTBRB3F1",
        "type": "message",
        "ts": "1550952172.068500",
        "client_msg_id": "b61ffbf4-c3ca-47fa-b9e2-d11b448d8d91",
        "text": "i.e. 'snapping' the market_ids of the current market_books should then return the complete current state.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g771e110be94",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/a771e110be945b86bede9d5c1bb551e3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png",
            "first_name": "",
            "real_name": "Newbie99",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "vjmehra",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "tm6",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "i.e. 'snapping' the market_ids of the current market_books should then return the complete current state."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U5D4ZBEAG",
        "type": "message",
        "ts": "1550952187.069000",
        "client_msg_id": "ab1b34f6-1c08-4d3f-9224-6d297c68fad1",
        "text": "so",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g147ed91a398",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/7147ed91a39866d363a9cfa66ef64cb8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png",
            "first_name": "",
            "real_name": "seaders",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "seaders",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Vr9",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "so"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U5D4ZBEAG",
        "type": "message",
        "ts": "1550952189.069200",
        "client_msg_id": "19007975-6358-49e0-9929-dde39def4976",
        "text": "with every update",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g147ed91a398",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/7147ed91a39866d363a9cfa66ef64cb8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png",
            "first_name": "",
            "real_name": "seaders",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "seaders",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "3pT",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "with every update"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U5D4ZBEAG",
        "type": "message",
        "ts": "1550952197.069600",
        "client_msg_id": "bc84b763-1cc6-4f1c-b4c2-e92be2d5ec7f",
        "text": "every market book in the queue",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g147ed91a398",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/7147ed91a39866d363a9cfa66ef64cb8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png",
            "first_name": "",
            "real_name": "seaders",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "seaders",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Tlyzn",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "every market book in the queue"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U5D4ZBEAG",
        "type": "message",
        "ts": "1550952211.070200",
        "client_msg_id": "6f15e365-2cdd-4d4a-b7e5-100c2dba0641",
        "text": "is each market that's been updated",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g147ed91a398",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/7147ed91a39866d363a9cfa66ef64cb8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png",
            "first_name": "",
            "real_name": "seaders",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "seaders",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "ljALz",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "is each market that's been updated"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U5D4ZBEAG",
        "type": "message",
        "ts": "1550952227.070600",
        "client_msg_id": "13fe1f9a-99b1-4ab2-8526-834369cda4c0",
        "text": "if only 1 market's been updated, that'll be the only one in the queue",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g147ed91a398",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/7147ed91a39866d363a9cfa66ef64cb8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png",
            "first_name": "",
            "real_name": "seaders",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "seaders",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "nbEBT",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "if only 1 market's been updated, that'll be the only one in the queue"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U5D4ZBEAG",
        "type": "message",
        "ts": "1550952234.071100",
        "client_msg_id": "a7b4696a-1739-45c5-9433-185b47883084",
        "text": "if there's been 50, there'll be 50",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g147ed91a398",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/7147ed91a39866d363a9cfa66ef64cb8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png",
            "first_name": "",
            "real_name": "seaders",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "seaders",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Em3",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "if there's been 50, there'll be 50"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U5D4ZBEAG",
        "type": "message",
        "ts": "1550952248.071700",
        "client_msg_id": "5157cafd-4785-4cb2-8845-4adeb7d43683",
        "text": "the streaming update of each of those markets is the update that's come through",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g147ed91a398",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/7147ed91a39866d363a9cfa66ef64cb8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png",
            "first_name": "",
            "real_name": "seaders",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "seaders",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "8CAzc",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "the streaming update of each of those markets is the update that's come through"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UFTBRB3F1",
        "type": "message",
        "ts": "1550952265.072200",
        "client_msg_id": "0cae467e-e61f-4cc9-990a-fd6a7f68f1cf",
        "text": "yep, that all makes sense",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g771e110be94",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/a771e110be945b86bede9d5c1bb551e3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png",
            "first_name": "",
            "real_name": "Newbie99",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "vjmehra",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "DlKIy",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "yep, that all makes sense"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UFTBRB3F1",
        "type": "message",
        "ts": "1550952283.072900",
        "client_msg_id": "c706eb0d-1824-489c-8c9d-2aed1af01df0",
        "text": "my only confusion was how to get the output of the snap",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g771e110be94",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/a771e110be945b86bede9d5c1bb551e3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png",
            "first_name": "",
            "real_name": "Newbie99",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "vjmehra",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "uroW",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "my only confusion was how to get the output of the snap"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U5D4ZBEAG",
        "type": "message",
        "ts": "1550952284.073100",
        "client_msg_id": "0e4b6965-542a-4dc9-8c93-8d7a6204f41f",
        "text": "like in my example, those 2 things are the exact same",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g147ed91a398",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/7147ed91a39866d363a9cfa66ef64cb8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png",
            "first_name": "",
            "real_name": "seaders",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "seaders",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "k2tU",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "like in my example, those 2 things are the exact same"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U5D4ZBEAG",
        "type": "message",
        "ts": "1550952291.073500",
        "client_msg_id": "72335f8c-3061-4b03-b98f-6f95b2383275",
        "text": "and technically they always will be",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g147ed91a398",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/7147ed91a39866d363a9cfa66ef64cb8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png",
            "first_name": "",
            "real_name": "seaders",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "seaders",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "YDe",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "and technically they always will be"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UFTBRB3F1",
        "type": "message",
        "ts": "1550952301.074100",
        "client_msg_id": "68919d78-7487-43fa-a110-54b8aafdae73",
        "text": "I'm comfortable with the logic and that I'm looking at the right thing, even if my question was poorly worded",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g771e110be94",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/a771e110be945b86bede9d5c1bb551e3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png",
            "first_name": "",
            "real_name": "Newbie99",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "vjmehra",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "XpBE4",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I'm comfortable with the logic and that I'm looking at the right thing, even if my question was poorly worded"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U5D4ZBEAG",
        "type": "message",
        "ts": "1550952319.074700",
        "client_msg_id": "87fc4654-fb73-427a-9603-e05837aea7f7",
        "text": "for every tick, if you check the market book vs the snap of that market_id, they'll *always* be the same",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g147ed91a398",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/7147ed91a39866d363a9cfa66ef64cb8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png",
            "first_name": "",
            "real_name": "seaders",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "seaders",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "NOR",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "for every tick, if you check the market book vs the snap of that market_id, they'll "
                            },
                            {
                                "type": "text",
                                "text": "always",
                                "style": {
                                    "bold": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " be the same"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UFTBRB3F1",
        "type": "message",
        "ts": "1550952320.074900",
        "client_msg_id": "b7e98542-60d7-4e26-a071-bab2b3b5ce69",
        "text": "they should be the same, its just the output format that differs",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g771e110be94",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/a771e110be945b86bede9d5c1bb551e3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png",
            "first_name": "",
            "real_name": "Newbie99",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "vjmehra",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "UTQ",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "they should be the same, its just the output format that differs"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U5D4ZBEAG",
        "type": "message",
        "ts": "1550952397.076100",
        "client_msg_id": "44b22ff0-c83a-4df4-946b-6737aa8cbf24",
        "text": "huh?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g147ed91a398",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/7147ed91a39866d363a9cfa66ef64cb8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png",
            "first_name": "",
            "real_name": "seaders",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "seaders",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "iqPeg",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "huh?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U5D4ZBEAG",
        "type": "message",
        "ts": "1550952406.076400",
        "client_msg_id": "1f9ed40f-b4a7-42aa-8fc8-8252e12f8b5d",
        "text": "`market_books[0].json() == snaps[0].json() True`",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g147ed91a398",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/7147ed91a39866d363a9cfa66ef64cb8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png",
            "first_name": "",
            "real_name": "seaders",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "seaders",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "2BC1N",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "market_books[0].json() == snaps[0].json() True",
                                "style": {
                                    "code": true
                                }
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UFTBRB3F1",
        "type": "message",
        "ts": "1550952407.076500",
        "client_msg_id": "b14c7c90-1556-4a28-b818-2dad1b82beaf",
        "text": "Ah sorry, I see what you mean, so in essence, rather than using Snap I could presumably just look at market_book.field x",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g771e110be94",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/a771e110be945b86bede9d5c1bb551e3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png",
            "first_name": "",
            "real_name": "Newbie99",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "vjmehra",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "V1\/F",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Ah sorry, I see what you mean, so in essence, rather than using Snap I could presumably just look at market_book.field x"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U5D4ZBEAG",
        "type": "message",
        "ts": "1550952423.077000",
        "client_msg_id": "07aa6738-9428-484e-ab1a-d49f70095aad",
        "text": "they're the same thing",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g147ed91a398",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/7147ed91a39866d363a9cfa66ef64cb8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png",
            "first_name": "",
            "real_name": "seaders",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "seaders",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "yWf",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "they're the same thing"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UFTBRB3F1",
        "type": "message",
        "ts": "1550952438.077600",
        "client_msg_id": "daaa88b8-db06-448c-afae-9ee954b3f041",
        "text": "yes, thats what I initially didn't get",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g771e110be94",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/a771e110be945b86bede9d5c1bb551e3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png",
            "first_name": "",
            "real_name": "Newbie99",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "vjmehra",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "mz=W",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "yes, thats what I initially didn't get"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U5D4ZBEAG",
        "type": "message",
        "ts": "1550952439.077900",
        "client_msg_id": "83fd4d69-98a2-4294-a07d-9e90a1cfa80b",
        "text": "the snap is just basically retrieving the thing when you want it",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g147ed91a398",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/7147ed91a39866d363a9cfa66ef64cb8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png",
            "first_name": "",
            "real_name": "seaders",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "seaders",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "V70kx",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "the snap is just basically retrieving the thing when you want it"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UFTBRB3F1",
        "type": "message",
        "ts": "1550952449.078400",
        "client_msg_id": "0da18201-82b9-4882-bdec-ea0ca23cb83c",
        "text": "I thought market_books only included the last update",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g771e110be94",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/a771e110be945b86bede9d5c1bb551e3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png",
            "first_name": "",
            "real_name": "Newbie99",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "vjmehra",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "tiPHE",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I thought market_books only included the last update"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U5D4ZBEAG",
        "type": "message",
        "ts": "1550952453.078600",
        "client_msg_id": "61dc4d7d-8260-41da-ac6d-39f96128f2e7",
        "text": "the queue is pushing it to you every time it's updated",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g147ed91a398",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/7147ed91a39866d363a9cfa66ef64cb8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png",
            "first_name": "",
            "real_name": "seaders",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "seaders",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Oq1ki",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "the queue is pushing it to you every time it's updated"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UFTBRB3F1",
        "type": "message",
        "ts": "1550952453.078700",
        "client_msg_id": "d2946766-617a-4230-988b-5f89f3a6e4ff",
        "text": "didn't realise it was the full state",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g771e110be94",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/a771e110be945b86bede9d5c1bb551e3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png",
            "first_name": "",
            "real_name": "Newbie99",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "vjmehra",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "gbz",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "didn't realise it was the full state"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UFTBRB3F1",
        "type": "message",
        "ts": "1550952457.078900",
        "client_msg_id": "a1285122-08f4-406a-9d45-91c70b7a5467",
        "text": "got you",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g771e110be94",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/a771e110be945b86bede9d5c1bb551e3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png",
            "first_name": "",
            "real_name": "Newbie99",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "vjmehra",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "aI=D",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "got you"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U5D4ZBEAG",
        "type": "message",
        "ts": "1550952468.079100",
        "client_msg_id": "16109d45-7b90-4a0f-819f-6a849792aa30",
        "text": "<https:\/\/betfairlightweight.slack.com\/archives\/C4H05ML2E\/p1550880399020300>",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g147ed91a398",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/7147ed91a39866d363a9cfa66ef64cb8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png",
            "first_name": "",
            "real_name": "seaders",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "seaders",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "attachments": [
            {
                "from_url": "https:\/\/betfairlightweight.slack.com\/archives\/C4H05ML2E\/p1550880399020300",
                "fallback": "[February 22nd, 2019 4:06 PM] seaders: the market_books from `market_books = output_queue.get()` are all the latest \"full state\" of each market",
                "ts": "1550880399.020300",
                "author_id": "U5D4ZBEAG",
                "author_subname": "seaders",
                "channel_id": "C4H05ML2E",
                "is_msg_unfurl": true,
                "text": "the market_books from `market_books = output_queue.get()` are all the latest \"full state\" of each market",
                "author_name": "seaders",
                "author_link": "https:\/\/betfairlightweight.slack.com\/team\/U5D4ZBEAG",
                "author_icon": "https:\/\/secure.gravatar.com\/avatar\/7147ed91a39866d363a9cfa66ef64cb8.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2F00b63%2Fimg%2Favatars%2Fava_0015-48.png",
                "mrkdwn_in": [
                    "text"
                ],
                "id": 1,
                "original_url": "https:\/\/betfairlightweight.slack.com\/archives\/C4H05ML2E\/p1550880399020300",
                "footer": "Slack conversation"
            }
        ],
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "zVvL",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "link",
                                "url": "https:\/\/betfairlightweight.slack.com\/archives\/C4H05ML2E\/p1550880399020300"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U5D4ZBEAG",
        "type": "message",
        "ts": "1550952473.079400",
        "edited": {
            "user": "U5D4ZBEAG",
            "ts": "1550952475.000000"
        },
        "client_msg_id": "d3e00a64-1da9-41ac-8cd7-c35c2d6c7c9f",
        "text": ":smile:",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g147ed91a398",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/7147ed91a39866d363a9cfa66ef64cb8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png",
            "first_name": "",
            "real_name": "seaders",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "seaders",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Hj8",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "emoji",
                                "name": "smile",
                                "unicode": "1f604"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U5D4ZBEAG",
        "type": "message",
        "ts": "1550952495.079900",
        "client_msg_id": "aa6cf3ec-2412-497f-8036-e902349fd3a5",
        "text": "I'm going gettin' myself a beer!",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g147ed91a398",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/7147ed91a39866d363a9cfa66ef64cb8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png",
            "first_name": "",
            "real_name": "seaders",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "seaders",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "dXq",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I'm going gettin' myself a beer!"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UFTBRB3F1",
        "type": "message",
        "ts": "1550952520.080400",
        "client_msg_id": "d8a26acf-5fdc-4859-9967-e2524af169c5",
        "text": "I'd offer...but I'm already on the wine...wouldn't want to mix :wink:",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g771e110be94",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/a771e110be945b86bede9d5c1bb551e3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png",
            "first_name": "",
            "real_name": "Newbie99",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "vjmehra",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "TbApG",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I'd offer...but I'm already on the wine...wouldn't want to mix "
                            },
                            {
                                "type": "emoji",
                                "name": "wink",
                                "unicode": "1f609"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1550952910.080700",
        "client_msg_id": "A02513BE-D6DA-4FA2-994B-5268ED726BDB",
        "text": "That explains a lot",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "nSm",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "That explains a lot"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UFTBRB3F1",
        "type": "message",
        "ts": "1550952992.081500",
        "client_msg_id": "69a795ea-0b8e-4047-a388-dd35e9585115",
        "text": "You'd think so...but I do have a habit of some dumb questions when fully sober too!",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g771e110be94",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/a771e110be945b86bede9d5c1bb551e3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png",
            "first_name": "",
            "real_name": "Newbie99",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "vjmehra",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "KIW",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "You'd think so...but I do have a habit of some dumb questions when fully sober too!"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1550953074.081800",
        "client_msg_id": "53734F1E-D03F-40DC-9300-DCEE4952865C",
        "text": "Haha",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "euN",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Haha"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UFTBRB3F1",
        "type": "message",
        "ts": "1550953179.082400",
        "client_msg_id": "07ed1948-2871-476b-a088-1c146e714f4f",
        "text": "I will attempt to pin this one firmly on having a couple during the rugby :slightly_smiling_face:",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g771e110be94",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/a771e110be945b86bede9d5c1bb551e3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png",
            "first_name": "",
            "real_name": "Newbie99",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "vjmehra",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "gN\/R",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I will attempt to pin this one firmly on having a couple during the rugby "
                            },
                            {
                                "type": "emoji",
                                "name": "slightly_smiling_face",
                                "unicode": "1f642"
                            }
                        ]
                    }
                ]
            }
        ]
    }
]