[
    {
        "user": "U9JHLMZB4",
        "type": "message",
        "ts": "1697618798.698389",
        "edited": {
            "user": "U9JHLMZB4",
            "ts": "1697618849.000000"
        },
        "client_msg_id": "28756833-860e-42ef-a66e-fcab95df43bb",
        "text": "I'm guessing here ... but I notice that you're not passing a sizeReduction in the <https:\/\/docs.developer.betfair.com\/display\/1smk3cen4v3lu3yomq5qye0ni\/Betting+Type+Definitions#BettingTypeDefinitions-CancelInstruction|cancel instruction>. The Betfair docs say that if no size reduction is required (which I interpret to mean a full rather than a partial cancellation is wanted) then sizeReduction should be set to 'null'. As Betfair uses these parameters as filters for the cancellation, if they're incomplete, it may ignore them and apply the request to all open bets, i.e. the behaviour that you're experiencing.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g951ddcb43e7",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/3951ddcb43e788a387d6daf330dad5ca.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png",
            "first_name": "",
            "real_name": "Peter Coles",
            "display_name": "Peter",
            "team": "T4G9NBD2M",
            "name": "peter",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1697557018.569769",
        "parent_user_id": "U040F51N4P3",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "GAsnM",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I'm guessing here ... but I notice that you're not passing a sizeReduction in the "
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/docs.developer.betfair.com\/display\/1smk3cen4v3lu3yomq5qye0ni\/Betting+Type+Definitions#BettingTypeDefinitions-CancelInstruction",
                                "text": "cancel instruction"
                            },
                            {
                                "type": "text",
                                "text": ". The Betfair docs say that if no size reduction is required (which I interpret to mean a full rather than a partial cancellation is wanted) then sizeReduction should be set to 'null'. As Betfair uses these parameters as filters for the cancellation, if they're incomplete, it may ignore them and apply the request to all open bets, i.e. the behaviour that you're experiencing."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UUE6E1LA1",
        "type": "message",
        "ts": "1697619254.641379",
        "client_msg_id": "2775da97-2205-4565-a217-bece47b3750b",
        "text": "You don't need to explicitly set to null <@U9JHLMZB4> - just the absence of \"sizeReduction\" is sufficient. I don't have this field in my bets when I cancel them. What I did wonder is what would happen if you sent orders that are in a different market to the one specified in the request. Never tried it myself but I would suspect that you'd just get an error, but perhaps that could be an issue too. Not much to go on here though to be honest - could be a multitude of other things going on that we are not aware of.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gf53cae45edd",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/f53cae45edd7f7b67bbe98819597612e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0017-72.png",
            "first_name": "",
            "real_name": "D C",
            "display_name": "D C",
            "team": "T4G9NBD2M",
            "name": "oddsvantage",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1697557018.569769",
        "parent_user_id": "U040F51N4P3",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "M45Ab",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "You don't need to explicitly set to null "
                            },
                            {
                                "type": "user",
                                "user_id": "U9JHLMZB4"
                            },
                            {
                                "type": "text",
                                "text": " - just the absence of \"sizeReduction\" is sufficient. I don't have this field in my bets when I cancel them. What I did wonder is what would happen if you sent orders that are in a different market to the one specified in the request. Never tried it myself but I would suspect that you'd just get an error, but perhaps that could be an issue too. Not much to go on here though to be honest - could be a multitude of other things going on that we are not aware of."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U9JHLMZB4",
        "type": "message",
        "ts": "1697619617.814439",
        "edited": {
            "user": "U9JHLMZB4",
            "ts": "1697619745.000000"
        },
        "client_msg_id": "b65e2eb5-4aaf-4e78-bd43-7d19a071c00d",
        "text": "I also wondered whether the json offered was what was being sent rather than received back, in which case the marketId and instructions params would be buried inside the \"params\" key and maybe deeper than Betfair is expecting and thus be ignored. But as you say <@UUE6E1LA1> there's no real transparency here as to what the OP is actually doing.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g951ddcb43e7",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/3951ddcb43e788a387d6daf330dad5ca.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png",
            "first_name": "",
            "real_name": "Peter Coles",
            "display_name": "Peter",
            "team": "T4G9NBD2M",
            "name": "peter",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1697557018.569769",
        "parent_user_id": "U040F51N4P3",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "u6Dec",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I also wondered whether the json offered was what was being sent rather than received back, in which case the marketId and instructions params would be buried inside the \"params\" key and maybe deeper than Betfair is expecting and thus be ignored. But as you say "
                            },
                            {
                                "type": "user",
                                "user_id": "UUE6E1LA1"
                            },
                            {
                                "type": "text",
                                "text": " there's no real transparency here as to what the OP is actually doing."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1697620404.460419",
        "client_msg_id": "9c4e5f74-075a-4ffb-aabb-a4ad024be8eb",
        "text": "I am not sure, flumine should call keep_alive every 10 minutes for IT users",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1696864753.193569",
        "parent_user_id": "U05KGFZUNAK",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "yhbND",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I am not sure, flumine should call keep_alive every 10 minutes for IT users"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U05KGFZUNAK",
        "type": "message",
        "ts": "1697632114.121049",
        "client_msg_id": "fc557c74-464c-49fd-bc4c-9400684723d7",
        "text": "there is no dependency from update frequency? if for a event there is no update for let's say 1 hour, flumine call keep_alive ?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "fe4fff56282e",
            "image_72": "https:\/\/avatars.slack-edge.com\/2023-08-02\/5700789261920_fe4fff56282eb87519ab_72.png",
            "first_name": "Riccardo",
            "real_name": "Riccardo Fresi",
            "display_name": "Riccardo Fresi",
            "team": "T4G9NBD2M",
            "name": "riccardo.fresi",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1696864753.193569",
        "parent_user_id": "U05KGFZUNAK",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "VMr+o",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "there is no dependency from update frequency? if for a event there is no update for let's say 1 hour, flumine call keep_alive ?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1697632162.025539",
        "client_msg_id": "d43f2417-43fd-4b61-8d86-739494f227fa",
        "text": "Yeah there is worker running in a separate thread",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1696864753.193569",
        "parent_user_id": "U05KGFZUNAK",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "h7RTD",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Yeah there is worker running in a separate thread"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1697632310.348129",
        "client_msg_id": "10cd0261-44d5-49bc-b1cd-c05f6d6d37c0",
        "text": "<@UNW8Q88EL> are you able to provide more info on what is required for IT users? Should keep-alive work based on the above settings or would it require a new login?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1696864753.193569",
        "parent_user_id": "U05KGFZUNAK",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "sI0mW",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "user",
                                "user_id": "UNW8Q88EL"
                            },
                            {
                                "type": "text",
                                "text": " are you able to provide more info on what is required for IT users? Should keep-alive work based on the above settings or would it require a new login?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UNW8Q88EL",
        "type": "message",
        "ts": "1697632586.961759",
        "client_msg_id": "21070b13-53c7-4a61-b9ff-209a34a7d1b8",
        "text": "Hi <@U4H19D1D2>,  keep alive should work as expected for Italian users when requested within the session expiry time.  Regardless of this, clients should still handle INVALID_SESSION_INFORMATION errors by creating a new API login request",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "cc2c2669d548",
            "image_72": "https:\/\/avatars.slack-edge.com\/2021-10-21\/2643683806753_cc2c2669d548a3476e65_72.jpg",
            "first_name": "Neil",
            "real_name": "Neil T (Betfair)",
            "display_name": "Neil T (Betfair)",
            "team": "T4G9NBD2M",
            "name": "neil.thomas",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1696864753.193569",
        "parent_user_id": "U05KGFZUNAK",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "F5RYn",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Hi "
                            },
                            {
                                "type": "user",
                                "user_id": "U4H19D1D2"
                            },
                            {
                                "type": "text",
                                "text": ",  keep alive should work as expected for Italian users when requested within the session expiry time.  Regardless of this, clients should still handle INVALID_SESSION_INFORMATION errors by creating a new API login request"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1697633934.920119",
        "client_msg_id": "b93f5f26-58f1-44c5-8040-1fb67bada2a3",
        "text": "Thanks for the quick response, its weird because this only seems to happen on IT accounts",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1696864753.193569",
        "parent_user_id": "U05KGFZUNAK",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "PRFaq",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Thanks for the quick response, its weird because this only seems to happen on IT accounts"
                            }
                        ]
                    }
                ]
            }
        ]
    }
]