[
    {
        "user": "U012XF5CNPN",
        "type": "message",
        "ts": "1711703291.089129",
        "client_msg_id": "1d2aeb46-ec07-45a0-a5af-9f33411af4c3",
        "text": "I'm trying to do something very basic with betfairlightweight's streaming (long story, I don't want flumine for this). Here is some of my code based on <https:\/\/github.com\/betcode-org\/betfair\/blob\/f730238df65a9e0f86f3fe9690bf5a7ecff77715\/examples\/examplestreaming.py|the streaming example> in the repo:\n```trading = betfairlightweight.APIClient([...])\ntrading.login()\noutput_queue = queue.Queue()\nlistener = betfairlightweight.StreamListener(output_queue = output_queue)\nstream = trading.streaming.create_stream(listener = listener)\nmarket_filter = filters.streaming_market_filter(\n    event_type_ids          = [\"7\"],\n    market_types            = [\"WIN\"],\n)\nmarket_data_filter = filters.streaming_market_data_filter(\n    fields=[\"EX_BEST_OFFERS, EX_MARKET_DEF\"], ladder_levels=1\n)\n\nstreaming_unique_id = stream.subscribe_to_markets(market_filter = market_filter, market_data_filter=market_data_filter, conflate_ms = 200)\nt = threading.Thread(target=stream.start, daemon = True)\nt.start()```\nThis ^^ is obviously not very exotic. I'm asking for single ladder level and the market definition for all WIN horse racing market, with conflation at 200ms. Straight out of the box...\n```2024-03-29 08:52:35: [Register: 1]: marketSubscription\n2024-03-29 08:52:35: [MarketStream: 1]: \"MarketStream\" created\n2024-03-29 08:52:35: [MarketStream: 1]: connection_id: XXX-XXXXXXXXXXXXX-XXXXXXX\n2024-03-29 08:52:35: [MarketStream: 2]: SUCCESS (7 connections available)\n2024-03-29 08:52:35: [MarketStream: None]: INVALID_INPUT: Failed to un-marshall: '{\"op\": \"marketSubscription\", \"id\": 1, \"marketFilter\": {\"eventTypeIds\": [\"7\"], \"marketTypes\": [\"WIN\"]}, \"marketDataFilter\": {\"fields\": [\"EX_BEST_OFFERS, EX_MARKET_DEF\"], \"ladderLevels\": 1}, \"initialClk\": null, \"clk\": null, \"conflateMs\": 200, \"heartbeatMs\": null, \"segmentationEnabled\": true}'```\nMy understanding is the `INVALID_INPUT` is from the API as per <https:\/\/docs.developer.betfair.com\/display\/1smk3cen4v3lu3yomq5qye0ni\/Exchange+Stream+API#ExchangeStreamAPI-ErrorCode|the docs>, but there isn't much else to go on. :thinking_face: Only thing obvious is that there are extra attrs in there that I didn't create that could be confusing it, but I expect that this is normal bflw behaviour.\n\nWhile I go and get some caffeine to see if that helps, any Idiot Adjustments you can offer to my obviously feeble brain would be welcome. :slightly_smiling_face:",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gf0a1c4f12dc",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/f0a1c4f12dc16bc00aa5abf1a75d640e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png",
            "first_name": "Paul",
            "real_name": "Paul Robinson",
            "display_name": "Paul",
            "team": "T4G9NBD2M",
            "name": "paul",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Kvaz7",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I'm trying to do something very basic with betfairlightweight's streaming (long story, I don't want flumine for this). Here is some of my code based on "
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/github.com\/betcode-org\/betfair\/blob\/f730238df65a9e0f86f3fe9690bf5a7ecff77715\/examples\/examplestreaming.py",
                                "text": "the streaming example"
                            },
                            {
                                "type": "text",
                                "text": " in the repo:\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "trading = betfairlightweight.APIClient([...])\ntrading.login()\noutput_queue = queue.Queue()\nlistener = betfairlightweight.StreamListener(output_queue = output_queue)\nstream = trading.streaming.create_stream(listener = listener)\nmarket_filter = filters.streaming_market_filter(\n    event_type_ids          = [\"7\"],\n    market_types            = [\"WIN\"],\n)\nmarket_data_filter = filters.streaming_market_data_filter(\n    fields=[\"EX_BEST_OFFERS, EX_MARKET_DEF\"], ladder_levels=1\n)\n\nstreaming_unique_id = stream.subscribe_to_markets(market_filter = market_filter, market_data_filter=market_data_filter, conflate_ms = 200)\nt = threading.Thread(target=stream.start, daemon = True)\nt.start()"
                            }
                        ],
                        "border": 0
                    },
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "This ^^ is obviously not very exotic. I'm asking for single ladder level and the market definition for all WIN horse racing market, with conflation at 200ms. Straight out of the box...\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "2024-03-29 08:52:35: [Register: 1]: marketSubscription\n2024-03-29 08:52:35: [MarketStream: 1]: \"MarketStream\" created\n2024-03-29 08:52:35: [MarketStream: 1]: connection_id: XXX-XXXXXXXXXXXXX-XXXXXXX\n2024-03-29 08:52:35: [MarketStream: 2]: SUCCESS (7 connections available)\n2024-03-29 08:52:35: [MarketStream: None]: INVALID_INPUT: Failed to un-marshall: '{\"op\": \"marketSubscription\", \"id\": 1, \"marketFilter\": {\"eventTypeIds\": [\"7\"], \"marketTypes\": [\"WIN\"]}, \"marketDataFilter\": {\"fields\": [\"EX_BEST_OFFERS, EX_MARKET_DEF\"], \"ladderLevels\": 1}, \"initialClk\": null, \"clk\": null, \"conflateMs\": 200, \"heartbeatMs\": null, \"segmentationEnabled\": true}'"
                            }
                        ],
                        "border": 0
                    },
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "My understanding is the "
                            },
                            {
                                "type": "text",
                                "text": "INVALID_INPUT",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " is from the API as per "
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/docs.developer.betfair.com\/display\/1smk3cen4v3lu3yomq5qye0ni\/Exchange+Stream+API#ExchangeStreamAPI-ErrorCode",
                                "text": "the docs"
                            },
                            {
                                "type": "text",
                                "text": ", but there isn't much else to go on. "
                            },
                            {
                                "type": "emoji",
                                "name": "thinking_face",
                                "unicode": "1f914"
                            },
                            {
                                "type": "text",
                                "text": " Only thing obvious is that there are extra attrs in there that I didn't create that could be confusing it, but I expect that this is normal bflw behaviour.\n\nWhile I go and get some caffeine to see if that helps, any Idiot Adjustments you can offer to my obviously feeble brain would be welcome. "
                            },
                            {
                                "type": "emoji",
                                "name": "slightly_smiling_face",
                                "unicode": "1f642"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1711703344.301559",
        "client_msg_id": "FEEF02F6-96BD-4C2F-AA57-AE9874964A02",
        "text": "Missing two â€œ in fields ",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "rtotV",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Missing two â€œ in fields "
                            }
                        ]
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "man-facepalming",
                "users": [
                    "U012XF5CNPN"
                ],
                "count": 1
            }
        ]
    },
    {
        "user": "U012XF5CNPN",
        "type": "message",
        "ts": "1711703533.694999",
        "client_msg_id": "8c550db5-2fcb-4c83-aa6c-dc4df383dec9",
        "text": "Yeah... this is why I shouldn't write code this time of day...",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gf0a1c4f12dc",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/f0a1c4f12dc16bc00aa5abf1a75d640e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png",
            "first_name": "Paul",
            "real_name": "Paul Robinson",
            "display_name": "Paul",
            "team": "T4G9NBD2M",
            "name": "paul",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "ydWJE",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Yeah... this is why I shouldn't write code this time of day..."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U012XF5CNPN",
        "type": "message",
        "ts": "1711703556.831239",
        "client_msg_id": "c657c99b-30c2-4620-9e30-f287236677c2",
        "text": "That's ticking along lovely now. Thanks. :smile:",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gf0a1c4f12dc",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/f0a1c4f12dc16bc00aa5abf1a75d640e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png",
            "first_name": "Paul",
            "real_name": "Paul Robinson",
            "display_name": "Paul",
            "team": "T4G9NBD2M",
            "name": "paul",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Uez24",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "That's ticking along lovely now. Thanks. "
                            },
                            {
                                "type": "emoji",
                                "name": "smile",
                                "unicode": "1f604"
                            }
                        ]
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "+1",
                "users": [
                    "U4H19D1D2"
                ],
                "count": 1
            }
        ]
    },
    {
        "user": "U030GKBMCBF",
        "type": "message",
        "ts": "1711703685.155289",
        "client_msg_id": "2324EFF6-F493-4633-8A6F-511FCA4B8BBD",
        "text": "Using a linter is helpful for stuff like that ",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "c8efe9a619a7",
            "image_72": "https:\/\/avatars.slack-edge.com\/2022-01-27\/3012906420054_c8efe9a619a784f8fc22_72.png",
            "first_name": "Leo",
            "real_name": "Leo",
            "display_name": "Leo",
            "team": "T4G9NBD2M",
            "name": "leomccarthy709",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1711703685.155289",
        "reply_count": 1,
        "reply_users_count": 1,
        "latest_reply": "1711718940.851489",
        "reply_users": [
            "U012XF5CNPN"
        ],
        "replies": [
            {
                "user": "U012XF5CNPN",
                "ts": "1711718940.851489"
            }
        ],
        "is_locked": false,
        "subscribed": false,
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "X6gMW",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Using a linter is helpful for stuff like that "
                            }
                        ]
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "+1",
                "users": [
                    "U01D23DDMTQ"
                ],
                "count": 1
            }
        ]
    },
    {
        "user": "U06R7GCC26B",
        "type": "message",
        "ts": "1711717507.710819",
        "client_msg_id": "90e5f78b-0ef4-4124-9070-199962868698",
        "text": "Hi guys - first time Flumine user, bit stuck, canâ€™t see what Iâ€™ve done wrong :thread:",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g68a674a57e0",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/68a674a57e001129884dc5a186684950.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png",
            "first_name": "Ammar",
            "real_name": "Ammar",
            "display_name": "Ammar",
            "team": "T4G9NBD2M",
            "name": "ammarorama",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1711717507.710819",
        "reply_count": 13,
        "reply_users_count": 4,
        "latest_reply": "1711741541.018889",
        "reply_users": [
            "U06R7GCC26B",
            "U0698A4TQ2J",
            "UUCD6P13J",
            "U9JHLMZB4"
        ],
        "replies": [
            {
                "user": "U06R7GCC26B",
                "ts": "1711717541.060509"
            },
            {
                "user": "U06R7GCC26B",
                "ts": "1711717619.347529"
            },
            {
                "user": "U0698A4TQ2J",
                "ts": "1711717706.948679"
            },
            {
                "user": "U06R7GCC26B",
                "ts": "1711717717.803729"
            },
            {
                "user": "U06R7GCC26B",
                "ts": "1711717727.905359"
            },
            {
                "user": "UUCD6P13J",
                "ts": "1711717972.134569"
            },
            {
                "user": "U06R7GCC26B",
                "ts": "1711718100.029249"
            },
            {
                "user": "U06R7GCC26B",
                "ts": "1711718102.770789"
            },
            {
                "user": "U06R7GCC26B",
                "ts": "1711718139.056689"
            },
            {
                "user": "U06R7GCC26B",
                "ts": "1711718545.926009"
            },
            {
                "user": "U06R7GCC26B",
                "ts": "1711718945.559849"
            },
            {
                "user": "U9JHLMZB4",
                "ts": "1711735647.249789"
            },
            {
                "user": "U06R7GCC26B",
                "ts": "1711741541.018889"
            }
        ],
        "is_locked": false,
        "subscribed": false,
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "inr23",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Hi guys - first time Flumine user, bit stuck, canâ€™t see what Iâ€™ve done wrong "
                            },
                            {
                                "type": "emoji",
                                "name": "thread",
                                "unicode": "1f9f5"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U06R7GCC26B",
        "type": "message",
        "ts": "1711717541.060509",
        "client_msg_id": "98e74119-687b-434b-b5bb-c3535d83d347",
        "text": "this is my code:\n\n```import os\nfrom flumine import Flumine, BaseStrategy, clients\nfrom flumine.order.trade import Trade\nfrom flumine.order.order import LimitOrder, OrderStatus\nfrom flumine.markets.market import Market\nimport betfairlightweight\nfrom betfairlightweight.filters import streaming_market_filter, market_filter\nfrom betfairlightweight.resources import MarketBook\n\n\n\ntrading = betfairlightweight.APIClient(\n        username=os.environ[\"BETFAIR_USER\"],\n        password=os.environ[\"BETFAIR_PASS\"],\n        app_key=os.environ[\"BETFAIR_APP_KEY\"],\n        # certs=\"..\/certs\"\n    )\nclient = clients.BetfairClient(trading, paper_trade=True, interactive_login=True)\nprint(client.login())\n\nframework = Flumine(client=client)\n\nclass ExampleStrategy(BaseStrategy):\n    def start(self) -&gt; None:\n        print(\"starting strategy 'ExampleStrategy'\")\n\n    def process_new_market(self, market: Market, market_book: MarketBook) -&gt; None:\n        # called when a market is newly added to the framework\n        print(market_book.market_definition)\n        return super().process_new_market(market, market_book)\n\n    def process_sports_data(\n        self, market: Market, sports_data\n    ) -&gt; None:\n        # called on each update from sports-data-stream\n        print(market, sports_data)\n\n    def check_market_book(self, market: Market, market_book: MarketBook) -&gt; bool:\n        # process_market_book only executed if this returns True\n        print(market_book.market_definition)\n        return True\n\n    def process_market_book(self, market: Market, market_book: MarketBook) -&gt; None:\n        # process marketBook object\n        for runner in market_book.runners:\n            print(runner.selection_id)\n\nstrategy = ExampleStrategy(\n    market_filter=streaming_market_filter(\n        event_type_ids=[\"1\"],\n        event_ids=[\"33115229\"],\n        # market_types=[\"WIN\"],\n        # country_codes=[\"GB\"],\n    )\n)\n\nframework.add_strategy(strategy)\n\nframework.run()```",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g68a674a57e0",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/68a674a57e001129884dc5a186684950.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png",
            "first_name": "Ammar",
            "real_name": "Ammar",
            "display_name": "Ammar",
            "team": "T4G9NBD2M",
            "name": "ammarorama",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1711717507.710819",
        "parent_user_id": "U06R7GCC26B",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "OtfKi",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "this is my code:\n\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "import os\nfrom flumine import Flumine, BaseStrategy, clients\nfrom flumine.order.trade import Trade\nfrom flumine.order.order import LimitOrder, OrderStatus\nfrom flumine.markets.market import Market\nimport betfairlightweight\nfrom betfairlightweight.filters import streaming_market_filter, market_filter\nfrom betfairlightweight.resources import MarketBook\n\n\n\ntrading = betfairlightweight.APIClient(\n        username=os.environ[\"BETFAIR_USER\"],\n        password=os.environ[\"BETFAIR_PASS\"],\n        app_key=os.environ[\"BETFAIR_APP_KEY\"],\n        # certs=\"..\/certs\"\n    )\nclient = clients.BetfairClient(trading, paper_trade=True, interactive_login=True)\nprint(client.login())\n\nframework = Flumine(client=client)\n\nclass ExampleStrategy(BaseStrategy):\n    def start(self) -> None:\n        print(\"starting strategy 'ExampleStrategy'\")\n\n    def process_new_market(self, market: Market, market_book: MarketBook) -> None:\n        # called when a market is newly added to the framework\n        print(market_book.market_definition)\n        return super().process_new_market(market, market_book)\n\n    def process_sports_data(\n        self, market: Market, sports_data\n    ) -> None:\n        # called on each update from sports-data-stream\n        print(market, sports_data)\n\n    def check_market_book(self, market: Market, market_book: MarketBook) -> bool:\n        # process_market_book only executed if this returns True\n        print(market_book.market_definition)\n        return True\n\n    def process_market_book(self, market: Market, market_book: MarketBook) -> None:\n        # process marketBook object\n        for runner in market_book.runners:\n            print(runner.selection_id)\n\nstrategy = ExampleStrategy(\n    market_filter=streaming_market_filter(\n        event_type_ids=[\"1\"],\n        event_ids=[\"33115229\"],\n        # market_types=[\"WIN\"],\n        # country_codes=[\"GB\"],\n    )\n)\n\nframework.add_strategy(strategy)\n\nframework.run()"
                            }
                        ],
                        "border": 0
                    }
                ]
            }
        ]
    },
    {
        "user": "U06R7GCC26B",
        "type": "message",
        "ts": "1711717619.347529",
        "client_msg_id": "86b864bf-5de2-4891-af63-c4ddac046f95",
        "text": "this is the console output (same when running via jupyter)\n\n```&lt;bf&gt; ~\/workspace\/bf\/lib *[master] Â» python -m bot2\n\/Users\/bromar\/.virtualenvs\/bf\/lib\/python3.11\/site-packages\/pydantic\/_internal\/_config.py:322: UserWarning: Valid config keys have changed in V2:\n* 'allow_population_by_field_name' has been renamed to 'populate_by_name'\n* 'allow_mutation' has been removed\n  warnings.warn(message, UserWarning)\nNone\nstarting strategy 'ExampleStrategy'```\n\nand then nothing happens â€¦",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g68a674a57e0",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/68a674a57e001129884dc5a186684950.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png",
            "first_name": "Ammar",
            "real_name": "Ammar",
            "display_name": "Ammar",
            "team": "T4G9NBD2M",
            "name": "ammarorama",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1711717507.710819",
        "parent_user_id": "U06R7GCC26B",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Qb94N",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "this is the console output (same when running via jupyter)\n\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "<bf> ~\/workspace\/bf\/lib *[master] Â» python -m bot2\n\/Users\/bromar\/.virtualenvs\/bf\/lib\/python3.11\/site-packages\/pydantic\/_internal\/_config.py:322: UserWarning: Valid config keys have changed in V2:\n* 'allow_population_by_field_name' has been renamed to 'populate_by_name'\n* 'allow_mutation' has been removed\n  warnings.warn(message, UserWarning)\nNone\nstarting strategy 'ExampleStrategy'"
                            }
                        ],
                        "border": 0
                    },
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "\n\nand then nothing happens â€¦"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U0698A4TQ2J",
        "type": "message",
        "ts": "1711717706.948679",
        "client_msg_id": "B014F51A-0472-402E-B20F-9B5CD67806EC",
        "text": "Event_ids <tel:33115229|33115229> what sports market is this ?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g82cc538a216",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/82cc538a2165ad8e1b47e4a514550374.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0002-72.png",
            "first_name": "Chris",
            "real_name": "Chris",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "celliott174",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1711717507.710819",
        "parent_user_id": "U06R7GCC26B",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "9\/xUd",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Event_ids "
                            },
                            {
                                "type": "link",
                                "url": "tel:33115229",
                                "text": "33115229"
                            },
                            {
                                "type": "text",
                                "text": " what sports market is this ?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U06R7GCC26B",
        "type": "message",
        "ts": "1711717717.803729",
        "client_msg_id": "8b03e380-155b-43c5-b12e-8742d4d229e5",
        "text": "the access creds are definitely  correct\n\nwithout interactive login, and using the certs, the same issue presents\n\n\nIâ€™d have expected the print statements in each of the `process_` and `check_` functions to be running?\n\nThe event ID is bristol vs leicester:\n<https:\/\/www.betfair.com\/exchange\/plus\/en\/football\/english-championship\/bristol-city-v-leicester-betting-33115229>",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g68a674a57e0",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/68a674a57e001129884dc5a186684950.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png",
            "first_name": "Ammar",
            "real_name": "Ammar",
            "display_name": "Ammar",
            "team": "T4G9NBD2M",
            "name": "ammarorama",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1711717507.710819",
        "parent_user_id": "U06R7GCC26B",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "USOL7",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "the access creds are definitely  correct\n\nwithout interactive login, and using the certs, the same issue presents\n\n\nIâ€™d have expected the print statements in each of the "
                            },
                            {
                                "type": "text",
                                "text": "process_",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " and "
                            },
                            {
                                "type": "text",
                                "text": "check_",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " functions to be running?\n\nThe event ID is bristol vs leicester:\n"
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/www.betfair.com\/exchange\/plus\/en\/football\/english-championship\/bristol-city-v-leicester-betting-33115229"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U06R7GCC26B",
        "type": "message",
        "ts": "1711717727.905359",
        "client_msg_id": "209f0f71-d5b6-4c6b-b039-611783135b74",
        "text": "&gt;  Event_ids <tel:33115229|33115229> what sports market is this ?\nfootball",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g68a674a57e0",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/68a674a57e001129884dc5a186684950.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png",
            "first_name": "Ammar",
            "real_name": "Ammar",
            "display_name": "Ammar",
            "team": "T4G9NBD2M",
            "name": "ammarorama",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1711717507.710819",
        "parent_user_id": "U06R7GCC26B",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "gEuY5",
                "elements": [
                    {
                        "type": "rich_text_quote",
                        "elements": [
                            {
                                "type": "text",
                                "text": " Event_ids "
                            },
                            {
                                "type": "link",
                                "url": "tel:33115229",
                                "text": "33115229"
                            },
                            {
                                "type": "text",
                                "text": " what sports market is this ?"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "football"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UUCD6P13J",
        "type": "message",
        "ts": "1711717972.134569",
        "edited": {
            "user": "UUCD6P13J",
            "ts": "1711718023.000000"
        },
        "client_msg_id": "07c35a89-be0f-4e7a-9297-fcf2db0e5060",
        "text": "add logging like in the <https:\/\/github.com\/betcode-org\/flumine\/blob\/master\/examples\/example.py#L14|examples>, it will reveal the error",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g6898272ab81",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/6898272ab810e419c2c9ca9af1e53da8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png",
            "first_name": "Lee",
            "real_name": "Lee U",
            "display_name": "Lee",
            "team": "T4G9NBD2M",
            "name": "lunswor",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1711717507.710819",
        "parent_user_id": "U06R7GCC26B",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "R4oe6",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "add logging like in the "
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/github.com\/betcode-org\/flumine\/blob\/master\/examples\/example.py#L14",
                                "text": "examples"
                            },
                            {
                                "type": "text",
                                "text": ", it will reveal the error"
                            }
                        ]
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "eyes",
                "users": [
                    "U06R7GCC26B"
                ],
                "count": 1
            }
        ]
    },
    {
        "user": "U06R7GCC26B",
        "type": "message",
        "ts": "1711718100.029249",
        "client_msg_id": "6966a991-d155-4eda-a36f-826939eb6d7c",
        "text": "ahhh",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g68a674a57e0",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/68a674a57e001129884dc5a186684950.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png",
            "first_name": "Ammar",
            "real_name": "Ammar",
            "display_name": "Ammar",
            "team": "T4G9NBD2M",
            "name": "ammarorama",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1711717507.710819",
        "parent_user_id": "U06R7GCC26B",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "GfigF",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "ahhh"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U06R7GCC26B",
        "type": "message",
        "ts": "1711718102.770789",
        "client_msg_id": "0b4bee6b-e8f4-4397-ad49-eab934ae7696",
        "text": "that helps thanks!",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g68a674a57e0",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/68a674a57e001129884dc5a186684950.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png",
            "first_name": "Ammar",
            "real_name": "Ammar",
            "display_name": "Ammar",
            "team": "T4G9NBD2M",
            "name": "ammarorama",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1711717507.710819",
        "parent_user_id": "U06R7GCC26B",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "q2Smb",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "that helps thanks!"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U06R7GCC26B",
        "type": "message",
        "ts": "1711718139.056689",
        "client_msg_id": "daded2e2-0488-4954-b181-a3e34ef4a2f1",
        "text": "does flumine work with the non-production app key?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g68a674a57e0",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/68a674a57e001129884dc5a186684950.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png",
            "first_name": "Ammar",
            "real_name": "Ammar",
            "display_name": "Ammar",
            "team": "T4G9NBD2M",
            "name": "ammarorama",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1711717507.710819",
        "parent_user_id": "U06R7GCC26B",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "ynev7",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "does flumine work with the non-production app key?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U06R7GCC26B",
        "type": "message",
        "ts": "1711718545.926009",
        "client_msg_id": "571e9f3e-6cfb-4726-9dd8-46d88d72ac64",
        "text": "or is it that streaming doesnâ€™t work with the non-production api key?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g68a674a57e0",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/68a674a57e001129884dc5a186684950.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png",
            "first_name": "Ammar",
            "real_name": "Ammar",
            "display_name": "Ammar",
            "team": "T4G9NBD2M",
            "name": "ammarorama",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1711717507.710819",
        "parent_user_id": "U06R7GCC26B",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "\/jIS1",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "or is it that streaming doesnâ€™t work with the non-production api key?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U012XF5CNPN",
        "type": "message",
        "ts": "1711718940.851489",
        "client_msg_id": "21a66c2b-2275-4d9b-ab43-c658ed61ee86",
        "text": "It was a valid string in a nest of valid objects, but the string wasn't valid API input. Without a Streaming API linter it wasn't going to be obvious. The thing I missed was the \",\" wasn't syntax highlighted as out of the string. Needed more cups of tea, clearly...",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gf0a1c4f12dc",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/f0a1c4f12dc16bc00aa5abf1a75d640e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png",
            "first_name": "Paul",
            "real_name": "Paul Robinson",
            "display_name": "Paul",
            "team": "T4G9NBD2M",
            "name": "paul",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1711703685.155289",
        "parent_user_id": "U030GKBMCBF",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "vLxUg",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "It was a valid string in a nest of valid objects, but the string wasn't valid API input. Without a Streaming API linter it wasn't going to be obvious. The thing I missed was the \",\" wasn't syntax highlighted as out of the string. Needed more cups of tea, clearly..."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U06R7GCC26B",
        "type": "message",
        "ts": "1711718945.559849",
        "client_msg_id": "0c8b4532-af40-4ff6-a889-def613d78dda",
        "text": "ahhh i have an old api key, so streaming access needs to be requested :shrug:",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g68a674a57e0",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/68a674a57e001129884dc5a186684950.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png",
            "first_name": "Ammar",
            "real_name": "Ammar",
            "display_name": "Ammar",
            "team": "T4G9NBD2M",
            "name": "ammarorama",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1711717507.710819",
        "parent_user_id": "U06R7GCC26B",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "3XIjw",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "ahhh i have an old api key, so streaming access needs to be requested "
                            },
                            {
                                "type": "emoji",
                                "name": "shrug",
                                "unicode": "1f937"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U9JHLMZB4",
        "type": "message",
        "ts": "1711735647.249789",
        "client_msg_id": "68cc436a-f554-47ee-8139-24f5fb41262b",
        "text": "Hopefully that clears things up for you. But if you need further help, please confirm that you are using a live key with streaming enabled. The delayed key is useful for nothing other than confirming that you can connect, but beyond that just causes problems.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g951ddcb43e7",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/3951ddcb43e788a387d6daf330dad5ca.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png",
            "first_name": "",
            "real_name": "Peter Coles",
            "display_name": "Peter",
            "team": "T4G9NBD2M",
            "name": "peter",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1711717507.710819",
        "parent_user_id": "U06R7GCC26B",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "a+Rfc",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Hopefully that clears things up for you. But if you need further help, please confirm that you are using a live key with streaming enabled. The delayed key is useful for nothing other than confirming that you can connect, but beyond that just causes problems."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U06R7GCC26B",
        "type": "message",
        "ts": "1711741541.018889",
        "client_msg_id": "dbafc042-97be-4568-a518-702ff84d1bea",
        "text": "yeh, noted - thanks.\n\nliterally my first attempt to use flumine today so hopefully will be ok once they enable streaming on the key :+1:",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g68a674a57e0",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/68a674a57e001129884dc5a186684950.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0004-72.png",
            "first_name": "Ammar",
            "real_name": "Ammar",
            "display_name": "Ammar",
            "team": "T4G9NBD2M",
            "name": "ammarorama",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1711717507.710819",
        "parent_user_id": "U06R7GCC26B",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "FX\/vw",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "yeh, noted - thanks.\n\nliterally my first attempt to use flumine today so hopefully will be ok once they enable streaming on the key "
                            },
                            {
                                "type": "emoji",
                                "name": "+1",
                                "unicode": "1f44d"
                            }
                        ]
                    }
                ]
            }
        ]
    }
]