[
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1707900375.248339",
        "client_msg_id": "a7829a35-d738-4ea9-8e13-fab2a114bcb5",
        "text": "Oversight by myself on an optimisation to reduce func calls, fix <https:\/\/github.com\/betcode-org\/flumine\/pull\/737|here>",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1707860000.405929",
        "parent_user_id": "U04NWADNCFR",
        "attachments": [
            {
                "id": 1,
                "footer_icon": "https:\/\/slack.github.com\/static\/img\/favicon-neutral.png",
                "ts": 1707900284,
                "color": "36a64f",
                "bot_id": "B021ZJYSBMW",
                "app_unfurl_url": "https:\/\/github.com\/betcode-org\/flumine\/pull\/737",
                "is_app_unfurl": true,
                "app_id": "A01BP7R4KNY",
                "fallback": "#737 US races can start early, check running time to process if race has s…",
                "text": "…tarted",
                "title": "#737 US races can start early, check running time to process if race has s…",
                "title_link": "https:\/\/github.com\/betcode-org\/flumine\/pull\/737",
                "footer": "<https:\/\/github.com\/betcode-org\/flumine|betcode-org\/flumine>",
                "mrkdwn_in": [
                    "text"
                ]
            }
        ],
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "x2kzJ",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Oversight by myself on an optimisation to reduce func calls, fix "
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/github.com\/betcode-org\/flumine\/pull\/737",
                                "text": "here"
                            }
                        ]
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "raised_hands",
                "users": [
                    "U04NWADNCFR",
                    "U02FXEUUMRN"
                ],
                "count": 2
            }
        ]
    },
    {
        "subtype": "tombstone",
        "text": "This message was deleted.",
        "user": "USLACKBOT",
        "hidden": true,
        "type": "message",
        "ts": "1707912905.736399",
        "thread_ts": "1707912905.736399",
        "parent_user_id": "USLACKBOT",
        "reply_count": 11,
        "reply_users_count": 3,
        "latest_reply": "1707924892.360249",
        "reply_users": [
            "U9JHLMZB4",
            "U06KEECDXBJ",
            "U4H19D1D2"
        ],
        "replies": [
            {
                "user": "U9JHLMZB4",
                "ts": "1707914938.872969"
            },
            {
                "user": "U06KEECDXBJ",
                "ts": "1707915668.682799"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1707916778.567899"
            },
            {
                "user": "U06KEECDXBJ",
                "ts": "1707917355.536359"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1707917393.138489"
            },
            {
                "user": "U06KEECDXBJ",
                "ts": "1707917435.214099"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1707917466.671089"
            },
            {
                "user": "U06KEECDXBJ",
                "ts": "1707922530.705219"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1707922896.048639"
            },
            {
                "user": "U06KEECDXBJ",
                "ts": "1707924468.735609"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1707924892.360249"
            }
        ],
        "is_locked": false,
        "subscribed": true,
        "last_read": "1707924892.360249"
    },
    {
        "user": "U9JHLMZB4",
        "type": "message",
        "ts": "1707914938.872969",
        "client_msg_id": "5c92c078-a5b2-4de5-a6b8-b5e9cb3b7436",
        "text": "Look at the <https:\/\/github.com\/betcode-org\/flumine\/blob\/master\/examples\/strategies\/pricerecorder.py|price recorder> example strategy and adapt it to record the specific field that you want.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g951ddcb43e7",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/3951ddcb43e788a387d6daf330dad5ca.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png",
            "first_name": "",
            "real_name": "Peter Coles",
            "display_name": "Peter",
            "team": "T4G9NBD2M",
            "name": "peter",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1707912905.736399",
        "parent_user_id": "USLACKBOT",
        "attachments": [
            {
                "id": 1,
                "footer_icon": "https:\/\/slack.github.com\/static\/img\/favicon-neutral.png",
                "color": "24292f",
                "bot_id": "B021ZJYSBMW",
                "app_unfurl_url": "https:\/\/github.com\/betcode-org\/flumine\/blob\/master\/examples\/strategies\/pricerecorder.py",
                "is_app_unfurl": true,
                "app_id": "A01BP7R4KNY",
                "fallback": "<https:\/\/github.com\/betcode-org\/flumine\/blob\/master\/examples\/strategies\/pricerecorder.py | pricerecorder.py>",
                "text": "```\nimport os\nimport csv\n\nfrom flumine import BaseStrategy\nfrom flumine.utils import get_price\n\nHEADERS = [\n    \"market_id\",\n    \"publish_time\",\n    \"status\",\n    \"inplay\",\n    \"selection_id\",\n    \"last_price_traded\",\n    \"back\",\n    \"lay\",\n]\n\n\nclass PriceRecorder(BaseStrategy):\n    \"\"\"\n    Example strategy for recording prices\n    from historical or live data.\n    \"\"\"\n\n    def __init__(self, *args, **kwargs):\n        BaseStrategy.__init__(self, *args, **kwargs)\n        self.local_dir = self.context.get(\"local_dir\", \"\/tmp\")\n        self.filename = self.context.get(\"filename\", \"output.txt\")\n        self.file_directory = os.path.join(self.local_dir, self.filename)\n\n    def add(self, flumine) -> None:\n        # check local dir\n        if not os.path.isdir(self.local_dir):\n            raise OSError(\"File dir %s does not exist\" % self.local_dir)\n        # write headers\n        with open(self.file_directory, \"w\") as f:\n            writer = csv.DictWriter(f, fieldnames=HEADERS)\n            writer.writeheader()\n\n    def check_market_book(self, market, market_book):\n        return True\n\n    def process_market_book(self, market, market_book):\n        with open(self.file_directory, \"a\") as f:\n            writer = csv.DictWriter(f, fieldnames=HEADERS)\n            for runner in market_book.runners:\n                writer.writerow(\n                    {\n                        \"market_id\": market_book.market_id,\n                        \"publish_time\": market_book.publish_time,\n                        \"status\": market_book.status,\n                        \"inplay\": market_book.inplay,\n                        \"selection_id\": runner.selection_id,\n                        \"last_price_traded\": runner.last_price_traded,\n                        \"back\": get_price(runner.ex.available_to_back, 0),\n                        \"lay\": get_price(runner.ex.available_to_lay, 0),\n                    }\n                )\n\n```",
                "title": "<https:\/\/github.com\/betcode-org\/flumine\/blob\/master\/examples\/strategies\/pricerecorder.py | pricerecorder.py>",
                "footer": "<https:\/\/github.com\/betcode-org\/flumine|betcode-org\/flumine>",
                "mrkdwn_in": [
                    "text"
                ]
            }
        ],
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "d6SEk",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Look at the "
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/github.com\/betcode-org\/flumine\/blob\/master\/examples\/strategies\/pricerecorder.py",
                                "text": "price recorder"
                            },
                            {
                                "type": "text",
                                "text": " example strategy and adapt it to record the specific field that you want."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U06KEECDXBJ",
        "type": "message",
        "ts": "1707915668.682799",
        "client_msg_id": "ac700c29-74b4-4d89-9f74-aa607f18f37c",
        "text": "I didn't quite understand how this solves my problem. I already have the data, but I need to use a ready-made csv with the above fields, not the files that are in the tests\/resources directory\/",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "07dabb09207c",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-02-14\/6631065509238_07dabb09207c7ceddc43_72.png",
            "first_name": "Алеся",
            "real_name": "Алеся Селезнева",
            "display_name": "Al",
            "team": "T4G9NBD2M",
            "name": "a.seliazniova30032012",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1707912905.736399",
        "parent_user_id": "USLACKBOT",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Nq3no",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I didn't quite understand how this solves my problem. I already have the data, but I need to use a ready-made csv with the above fields, not the files that are in the tests\/resources directory\/"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1707916778.567899",
        "client_msg_id": "f67bd495-cf8f-4092-a243-cd8ef0b2efd7",
        "text": "Are you asking if you can use a csv as an input to simulate?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1707912905.736399",
        "parent_user_id": "USLACKBOT",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "FQg\/Z",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Are you asking if you can use a csv as an input to simulate?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U06KEECDXBJ",
        "type": "message",
        "ts": "1707917355.536359",
        "client_msg_id": "96b38688-5e78-4a69-9878-594b6e6301fb",
        "text": "yes, a csv file with its own data",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "07dabb09207c",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-02-14\/6631065509238_07dabb09207c7ceddc43_72.png",
            "first_name": "Алеся",
            "real_name": "Алеся Селезнева",
            "display_name": "Al",
            "team": "T4G9NBD2M",
            "name": "a.seliazniova30032012",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1707912905.736399",
        "parent_user_id": "USLACKBOT",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Li+LT",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "yes, a csv file with its own data"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1707917393.138489",
        "client_msg_id": "7d466a4f-e719-4787-a6e1-596370c37ad3",
        "text": "No, it only accepts betfair data (basic\/pro\/advanced) or self recorded as it is simulating 'live'",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1707912905.736399",
        "parent_user_id": "USLACKBOT",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "eW1yN",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "No, it only accepts betfair data (basic\/pro\/advanced) or self recorded as it is simulating 'live'"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U06KEECDXBJ",
        "type": "message",
        "ts": "1707917435.214099",
        "client_msg_id": "9678eb02-14e9-47e9-924d-fdcef68420e1",
        "text": "can they be converted to market_book or used as raw_data?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "07dabb09207c",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-02-14\/6631065509238_07dabb09207c7ceddc43_72.png",
            "first_name": "Алеся",
            "real_name": "Алеся Селезнева",
            "display_name": "Al",
            "team": "T4G9NBD2M",
            "name": "a.seliazniova30032012",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1707912905.736399",
        "parent_user_id": "USLACKBOT",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "AVIS2",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "can they be converted to market_book or used as raw_data?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1707917466.671089",
        "client_msg_id": "8e7b8a1c-de89-4f4f-84d5-83f9a04f4f44",
        "text": "not really, you don't have enough data (not even close)",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1707912905.736399",
        "parent_user_id": "USLACKBOT",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "ufzlc",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "not really, you don't have enough data (not even close)"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U06KEECDXBJ",
        "type": "message",
        "ts": "1707922530.705219",
        "client_msg_id": "feb40c57-85be-4625-89c0-cf658a41e20d",
        "text": "and if you add a custom function that will convert the csv file to json format, which is the case in the examples for the simulated client, the main data of which will be filled in, will this solve my problem?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "07dabb09207c",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-02-14\/6631065509238_07dabb09207c7ceddc43_72.png",
            "first_name": "Алеся",
            "real_name": "Алеся Селезнева",
            "display_name": "Al",
            "team": "T4G9NBD2M",
            "name": "a.seliazniova30032012",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1707912905.736399",
        "parent_user_id": "USLACKBOT",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "aDatq",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "and if you add a custom function that will convert the csv file to json format, which is the case in the examples for the simulated client, the main data of which will be filled in, will this solve my problem?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1707922896.048639",
        "client_msg_id": "3d7c25fe-143a-4454-9f33-4ac61e9ea057",
        "text": "You don't have the data, its crap, why do you have this and not streaming data?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1707912905.736399",
        "parent_user_id": "USLACKBOT",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "9U74+",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "You don't have the data, its crap, why do you have this and not streaming data?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U06KEECDXBJ",
        "type": "message",
        "ts": "1707924468.735609",
        "client_msg_id": "848bdf34-fa80-4de9-9ef5-b47963ef2c57",
        "text": "I am only an intermediary, I receive such data from another person, and they will not give me others",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "07dabb09207c",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-02-14\/6631065509238_07dabb09207c7ceddc43_72.png",
            "first_name": "Алеся",
            "real_name": "Алеся Селезнева",
            "display_name": "Al",
            "team": "T4G9NBD2M",
            "name": "a.seliazniova30032012",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1707912905.736399",
        "parent_user_id": "USLACKBOT",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "G0QMC",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I am only an intermediary, I receive such data from another person, and they will not give me others"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1707924892.360249",
        "client_msg_id": "42aa488c-1b56-49f0-aa98-09601641dd2b",
        "text": ":man-shrugging: get some real data",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1707912905.736399",
        "parent_user_id": "USLACKBOT",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "G8fi6",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "emoji",
                                "name": "man-shrugging",
                                "unicode": "1f937-200d-2642-fe0f"
                            },
                            {
                                "type": "text",
                                "text": " get some real data"
                            }
                        ]
                    }
                ]
            }
        ]
    }
]