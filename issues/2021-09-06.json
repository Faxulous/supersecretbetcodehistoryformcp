[
    {
        "subtype": "channel_join",
        "user": "U02D2B81FGX",
        "text": "<@U02D2B81FGX> has joined the channel",
        "type": "message",
        "ts": "1630918299.037900"
    },
    {
        "user": "U01S1VB9X9P",
        "type": "message",
        "ts": "1630920898.038900",
        "edited": {
            "user": "U01S1VB9X9P",
            "ts": "1630920943.000000"
        },
        "client_msg_id": "fcaf7fb1-c725-4690-aa71-7ecbdb45cda4",
        "text": "I am getting this weird error while backtesting and it is halting the script when it occurs\n```{\"asctime\": \"2021-09-06 09:28:44,051\", \"levelname\": \"CRITICAL\", \"message\": \"Trade error in 081dd302-0ef4-11ec-a5d6-1e0062368792\", \"exc_info\": \"Traceback (most recent call last):\\n  File \\\"\/Users\/adrian\/opt\/anaconda3\/envs\/betfair\/lib\/python3.8\/site-packages\/flumine\/execution\/simulatedexecution.py\\\", line 142, in execute_replace\\n    place_instruction_report = replacement_order.simulated.place(\\n  File \\\"\/Users\/adrian\/opt\/anaconda3\/envs\/betfair\/lib\/python3.8\/site-packages\/flumine\/backtest\/simulated.py\\\", line 68, in place\\n    self.size_voided += self.size_remaining\\n  File \\\"\/Users\/adrian\/opt\/anaconda3\/envs\/betfair\/lib\/python3.8\/site-packages\/flumine\/backtest\/simulated.py\\\", line 379, in size_remaining\\n    self.order.order_type.size\\nTypeError: unsupported operand type(s) for -: 'NoneType' and 'int'\"}```",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gedbe1c0faac",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/da19bb58fa64d5c88c2a156c73a2ccf3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png",
            "first_name": "Adrian",
            "real_name": "Adrian",
            "display_name": "Adrian",
            "team": "T4G9NBD2M",
            "name": "adrianwf",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Hq\/",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I am getting this weird error while backtesting and it is halting the script when it occurs\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "{\"asctime\": \"2021-09-06 09:28:44,051\", \"levelname\": \"CRITICAL\", \"message\": \"Trade error in 081dd302-0ef4-11ec-a5d6-1e0062368792\", \"exc_info\": \"Traceback (most recent call last):\\n  File \\\"\/Users\/adrian\/opt\/anaconda3\/envs\/betfair\/lib\/python3.8\/site-packages\/flumine\/execution\/simulatedexecution.py\\\", line 142, in execute_replace\\n    place_instruction_report = replacement_order.simulated.place(\\n  File \\\"\/Users\/adrian\/opt\/anaconda3\/envs\/betfair\/lib\/python3.8\/site-packages\/flumine\/backtest\/simulated.py\\\", line 68, in place\\n    self.size_voided += self.size_remaining\\n  File \\\"\/Users\/adrian\/opt\/anaconda3\/envs\/betfair\/lib\/python3.8\/site-packages\/flumine\/backtest\/simulated.py\\\", line 379, in size_remaining\\n    self.order.order_type.size\\nTypeError: unsupported operand type(s) for -: 'NoneType' and 'int'\"}"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "ULDAVFDRP",
        "type": "message",
        "ts": "1630921303.041100",
        "edited": {
            "user": "ULDAVFDRP",
            "ts": "1630921432.000000"
        },
        "client_msg_id": "664257da-4a88-4f06-a1a5-64d62f25044a",
        "text": "that error translates to your adding\/taking away  None and a integer together i.e. None - 5. So it looks self.order.order_type.size is None or one of the other variable it takes away in that property. Have you created an order with size None by accident (if thats possible)?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g46fe1c1bf03",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/b46fe1c1bf03e18d951e7032fb494283.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png",
            "first_name": "",
            "real_name": "Oliver Varney",
            "display_name": "Oliver Varney",
            "team": "T4G9NBD2M",
            "name": "oliverashleyvarney",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "i\/sHo",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "that error translates to your adding\/taking away  None and a integer together i.e. None - 5. So it looks self.order.order_type.size is None or one of the other variable it takes away in that property. Have you created an order with size None by accident (if thats possible)?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U01S1VB9X9P",
        "type": "message",
        "ts": "1630921594.042800",
        "client_msg_id": "6d18d16f-1d61-42e2-ae5a-d37e5fb233d1",
        "text": "I can't think why that would happen. I don't even use order_type size, only order_type.price, as per:\n`if order.order_type.price &lt; best_atb`\nand then replace order, which doesn't refer to size either",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gedbe1c0faac",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/da19bb58fa64d5c88c2a156c73a2ccf3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png",
            "first_name": "Adrian",
            "real_name": "Adrian",
            "display_name": "Adrian",
            "team": "T4G9NBD2M",
            "name": "adrianwf",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "fz=jL",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I can't think why that would happen. I don't even use order_type size, only order_type.price, as per:\n"
                            },
                            {
                                "type": "text",
                                "text": "if order.order_type.price < best_atb",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\nand then replace order, which doesn't refer to size either"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U01S1VB9X9P",
        "type": "message",
        "ts": "1630921673.043700",
        "client_msg_id": "43742e7a-e284-49c0-9b01-a16274014713",
        "text": "only place i refer to size is context stake",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gedbe1c0faac",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/da19bb58fa64d5c88c2a156c73a2ccf3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png",
            "first_name": "Adrian",
            "real_name": "Adrian",
            "display_name": "Adrian",
            "team": "T4G9NBD2M",
            "name": "adrianwf",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Dvmr",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "only place i refer to size is context stake"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "ULDAVFDRP",
        "type": "message",
        "ts": "1630921685.044000",
        "client_msg_id": "98b0af60-6548-462a-bd13-02b4ca1eaa1c",
        "text": "yes but the process of replacing the order looking at that error stack uses the property size_remaining, which in turn uses self.order.order_type.size",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g46fe1c1bf03",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/b46fe1c1bf03e18d951e7032fb494283.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png",
            "first_name": "",
            "real_name": "Oliver Varney",
            "display_name": "Oliver Varney",
            "team": "T4G9NBD2M",
            "name": "oliverashleyvarney",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1630921685.044000",
        "reply_count": 3,
        "reply_users_count": 2,
        "latest_reply": "1630922475.045600",
        "reply_users": [
            "U01S1VB9X9P",
            "ULDAVFDRP"
        ],
        "replies": [
            {
                "user": "U01S1VB9X9P",
                "ts": "1630922242.045200"
            },
            {
                "user": "ULDAVFDRP",
                "ts": "1630922414.045400"
            },
            {
                "user": "U01S1VB9X9P",
                "ts": "1630922475.045600"
            }
        ],
        "is_locked": false,
        "subscribed": false,
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Gn+E",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "yes but the process of replacing the order looking at that error stack uses the property size_remaining, which in turn uses self.order.order_type.size"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "ULDAVFDRP",
        "type": "message",
        "ts": "1630921724.044200",
        "client_msg_id": "ba754373-f8de-4f10-93f1-89952f8f2179",
        "text": "<https:\/\/github.com\/liampauling\/flumine\/blob\/f0e7e6542942d00685ceb6d72951456684998739\/flumine\/backtest\/simulated.py#L376>",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g46fe1c1bf03",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/b46fe1c1bf03e18d951e7032fb494283.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png",
            "first_name": "",
            "real_name": "Oliver Varney",
            "display_name": "Oliver Varney",
            "team": "T4G9NBD2M",
            "name": "oliverashleyvarney",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "attachments": [
            {
                "text": "```\n    def size_remaining(self) -&gt; float:\n```",
                "title": "<https:\/\/github.com\/liampauling\/flumine\/blob\/f0e7e6542942d00685ceb6d72951456684998739\/flumine\/backtest\/simulated.py | simulated.py>",
                "footer": "<https:\/\/github.com\/liampauling\/flumine|liampauling\/flumine>",
                "id": 1,
                "footer_icon": "https:\/\/slack.github.com\/static\/img\/favicon-neutral.png",
                "color": "24292f",
                "mrkdwn_in": [
                    "text"
                ],
                "fallback": "<https:\/\/github.com\/liampauling\/flumine\/blob\/f0e7e6542942d00685ceb6d72951456684998739\/flumine\/backtest\/simulated.py | simulated.py>",
                "bot_id": "B021ZJYSBMW",
                "app_unfurl_url": "https:\/\/github.com\/liampauling\/flumine\/blob\/f0e7e6542942d00685ceb6d72951456684998739\/flumine\/backtest\/simulated.py#L376",
                "is_app_unfurl": true,
                "app_id": "A01BP7R4KNY"
            }
        ],
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Lailx",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "link",
                                "url": "https:\/\/github.com\/liampauling\/flumine\/blob\/f0e7e6542942d00685ceb6d72951456684998739\/flumine\/backtest\/simulated.py#L376"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "text": "Good start to the week :grin:",
        "files": [
            {
                "id": "F02E6TTM600",
                "mode": "tombstone"
            }
        ],
        "upload": false,
        "user": "UUCD6P13J",
        "display_as_bot": false,
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "en21",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Good start to the week "
                            },
                            {
                                "type": "emoji",
                                "name": "grin",
                                "unicode": "1f601"
                            }
                        ]
                    }
                ]
            }
        ],
        "type": "message",
        "ts": "1630921984.044900"
    },
    {
        "text": "",
        "files": [
            {
                "id": "F02DVTT3ZSM",
                "mode": "hidden_by_limit"
            }
        ],
        "upload": false,
        "user": "UUCD6P13J",
        "display_as_bot": false,
        "type": "message",
        "ts": "1630922071.045100"
    },
    {
        "user": "U01S1VB9X9P",
        "type": "message",
        "ts": "1630922242.045200",
        "client_msg_id": "2a372246-a87a-4a87-95f3-2bb1be37241c",
        "text": "yep so it's the\n```self.size_voided += self.size_remaining```\none of them is an int and one is None. But size_remaining is supposed to return float",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gedbe1c0faac",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/da19bb58fa64d5c88c2a156c73a2ccf3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png",
            "first_name": "Adrian",
            "real_name": "Adrian",
            "display_name": "Adrian",
            "team": "T4G9NBD2M",
            "name": "adrianwf",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1630921685.044000",
        "parent_user_id": "ULDAVFDRP",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "V0m",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "yep so it's the\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "self.size_voided += self.size_remaining"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "one of them is an int and one is None. But size_remaining is supposed to return float"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "ULDAVFDRP",
        "type": "message",
        "ts": "1630922414.045400",
        "client_msg_id": "87a82154-a357-4a77-a2e7-6da28ab38d4d",
        "text": "same applies without looking deeply id stick a break point in or wrap that property with a try and except and catch the exception and find out what is None and why. Can you not isolate that market and step through the process of creating the order then replacing it",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g46fe1c1bf03",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/b46fe1c1bf03e18d951e7032fb494283.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0019-72.png",
            "first_name": "",
            "real_name": "Oliver Varney",
            "display_name": "Oliver Varney",
            "team": "T4G9NBD2M",
            "name": "oliverashleyvarney",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1630921685.044000",
        "parent_user_id": "ULDAVFDRP",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "=pTSV",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "same applies without looking deeply id stick a break point in or wrap that property with a try and except and catch the exception and find out what is None and why. Can you not isolate that market and step through the process of creating the order then replacing it"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U01S1VB9X9P",
        "type": "message",
        "ts": "1630922475.045600",
        "client_msg_id": "f31d816a-5439-460c-8afe-2c91da6f09d3",
        "text": "Yeah I already have it in a try except block but it's still breaking through. I'll try isolating the market to see if i can find it specifically. Thanks",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gedbe1c0faac",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/da19bb58fa64d5c88c2a156c73a2ccf3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png",
            "first_name": "Adrian",
            "real_name": "Adrian",
            "display_name": "Adrian",
            "team": "T4G9NBD2M",
            "name": "adrianwf",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1630921685.044000",
        "parent_user_id": "ULDAVFDRP",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "NB2",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Yeah I already have it in a try except block but it's still breaking through. I'll try isolating the market to see if i can find it specifically. Thanks"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U01S1VB9X9P",
        "type": "message",
        "ts": "1630977931.046200",
        "client_msg_id": "d00409e6-a06e-405b-8413-a23ed21dfe35",
        "text": "I've been hesitant to mess with any of your code as I don't understand 99% of it :flushed:",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gedbe1c0faac",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/da19bb58fa64d5c88c2a156c73a2ccf3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png",
            "first_name": "Adrian",
            "real_name": "Adrian",
            "display_name": "Adrian",
            "team": "T4G9NBD2M",
            "name": "adrianwf",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1630786211.031200",
        "parent_user_id": "U01UN2R5LM8",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Qtg",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I've been hesitant to mess with any of your code as I don't understand 99% of it "
                            },
                            {
                                "type": "emoji",
                                "name": "flushed",
                                "unicode": "1f633"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1630990609.046500",
        "client_msg_id": "10661DF9-A333-4DCE-8E43-6FDFEAB099C5",
        "text": "Same",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1630786211.031200",
        "parent_user_id": "U01UN2R5LM8",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "xJU",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Same"
                            }
                        ]
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "joy",
                "users": [
                    "U01S1VB9X9P"
                ],
                "count": 1
            }
        ]
    }
]