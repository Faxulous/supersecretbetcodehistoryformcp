[
    {
        "user": "U9JHLMZB4",
        "type": "message",
        "ts": "1690108327.396869",
        "edited": {
            "user": "U9JHLMZB4",
            "ts": "1690108366.000000"
        },
        "client_msg_id": "a470e6fb-7ba5-4f91-b31f-abb35dd70991",
        "text": "If it's a MARKET_ON_CLOSE order (as opposed to a LIMIT order with persistence type MARKET_ON_CLOSE) and a reserve runner starts from the trap that you backed\/laid, then the order stands (ref: <https:\/\/www.betfair.com\/aboutUs\/Rules.and.Regulations\/#rulespartb> section 10.5). this is an artefact of the curious notion that in greyhound races you're betting on the trap not the dog.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g951ddcb43e7",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/3951ddcb43e788a387d6daf330dad5ca.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png",
            "first_name": "",
            "real_name": "Peter Coles",
            "display_name": "Peter",
            "team": "T4G9NBD2M",
            "name": "peter",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1690087097.822359",
        "parent_user_id": "U010GM77S4W",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "1dtGj",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "If it's a MARKET_ON_CLOSE order (as opposed to a LIMIT order with persistence type MARKET_ON_CLOSE) and a reserve runner starts from the trap that you backed\/laid, then the order stands (ref: "
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/www.betfair.com\/aboutUs\/Rules.and.Regulations\/#rulespartb"
                            },
                            {
                                "type": "text",
                                "text": " section 10.5). this is an artefact of the curious notion that in greyhound races you're betting on the trap not the dog."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U010GM77S4W",
        "type": "message",
        "ts": "1690108469.235259",
        "client_msg_id": "5db80c5d-fe5a-4ec0-bd31-12d783f77645",
        "text": "I'm actually using LIMIT orders with persistance type MARKET_ON_CLOSE. Curiously my back bets were voided but my BSP hedges remained. Not sure why. Only thing I can think of is voided bets remained in the blotter",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "66cae8f5399c",
            "image_72": "https:\/\/avatars.slack-edge.com\/2020-03-20\/1004508356769_66cae8f5399cf91a07ae_72.jpg",
            "first_name": "",
            "real_name": "mandelbot",
            "display_name": "mandelbot",
            "team": "T4G9NBD2M",
            "name": "demhadbale",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1690087097.822359",
        "parent_user_id": "U010GM77S4W",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "PZra",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I'm actually using LIMIT orders with persistance type MARKET_ON_CLOSE. Curiously my back bets were voided but my BSP hedges remained. Not sure why. Only thing I can think of is voided bets remained in the blotter"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U9JHLMZB4",
        "type": "message",
        "ts": "1690108653.254059",
        "client_msg_id": "05df6576-293d-4a1e-916c-92d1c5312606",
        "text": "In that case yes, the bets should void (same reference). But I'm a little confused now. Are you saying that they did void at Betfair, but remained in the Flumine market blotter - I would expect this, but with the blotter entry updated to show the amount voided. Is that not what you saw?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g951ddcb43e7",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/3951ddcb43e788a387d6daf330dad5ca.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png",
            "first_name": "",
            "real_name": "Peter Coles",
            "display_name": "Peter",
            "team": "T4G9NBD2M",
            "name": "peter",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1690087097.822359",
        "parent_user_id": "U010GM77S4W",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "lefJz",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "In that case yes, the bets should void (same reference). But I'm a little confused now. Are you saying that they did void at Betfair, but remained in the Flumine market blotter - I would expect this, but with the blotter entry updated to show the amount voided. Is that not what you saw?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U010GM77S4W",
        "type": "message",
        "ts": "1690109134.656909",
        "edited": {
            "user": "U010GM77S4W",
            "ts": "1690109188.000000"
        },
        "client_msg_id": "e911f66a-3ee3-4349-957e-5e5525361353",
        "text": "This is how I'm counting the bets before hedging out\n```[o.size_matched - o.size_voided for o in market.blotter if o.selection_id == runner.selection_id and o.side == \"BACK\"]```\nwhich still resulted in a Limit order being placed (MARKET_ON_CLOSE), even though the initial bets have been voided",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "66cae8f5399c",
            "image_72": "https:\/\/avatars.slack-edge.com\/2020-03-20\/1004508356769_66cae8f5399cf91a07ae_72.jpg",
            "first_name": "",
            "real_name": "mandelbot",
            "display_name": "mandelbot",
            "team": "T4G9NBD2M",
            "name": "demhadbale",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1690087097.822359",
        "parent_user_id": "U010GM77S4W",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "EIP",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "This is how I'm counting the bets before hedging out\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "[o.size_matched - o.size_voided for o in market.blotter if o.selection_id == runner.selection_id and o.side == \"BACK\"]"
                            }
                        ],
                        "border": 0
                    },
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "which still resulted in a Limit order being placed (MARKET_ON_CLOSE), even though the initial bets have been voided"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U9JHLMZB4",
        "type": "message",
        "ts": "1690109839.808669",
        "edited": {
            "user": "U9JHLMZB4",
            "ts": "1690109869.000000"
        },
        "client_msg_id": "d3582f83-9a3d-4e21-b6bf-ee1207aef3c1",
        "text": "Without knowing what you do with that list, it's difficult to comment sensibly, but my gut suggests that your logic might be a bit off. I don't understand what size_matched - size_voided would mean.\n\nExample: you place a bet for £5, £3 is matched but then the unmatched portion is voided, so your list contains an entry for £1. But what does that £1 represent. You still have a matched bet for £3 and wanted £5, so a shortfall of £2. The £1 from your subtraction doesn't have any meaning that I can fathom.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g951ddcb43e7",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/3951ddcb43e788a387d6daf330dad5ca.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png",
            "first_name": "",
            "real_name": "Peter Coles",
            "display_name": "Peter",
            "team": "T4G9NBD2M",
            "name": "peter",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1690087097.822359",
        "parent_user_id": "U010GM77S4W",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "yDmbT",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Without knowing what you do with that list, it's difficult to comment sensibly, but my gut suggests that your logic might be a bit off. I don't understand what size_matched - size_voided would mean.\n\nExample: you place a bet for £5, £3 is matched but then the unmatched portion is voided, so your list contains an entry for £1. But what does that £1 represent. You still have a matched bet for £3 and wanted £5, so a shortfall of £2. The £1 from your subtraction doesn't have any meaning that I can fathom."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U010GM77S4W",
        "type": "message",
        "ts": "1690110064.189589",
        "client_msg_id": "9d656b0d-312d-4940-ad2a-e92920f8f2e3",
        "text": "I think I probably misunderstood how the entries worked in the blotter. I assumed a 3 pound bet that was voided would contain an entry for 3 pounds matched as well as 3 pounds voided.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "66cae8f5399c",
            "image_72": "https:\/\/avatars.slack-edge.com\/2020-03-20\/1004508356769_66cae8f5399cf91a07ae_72.jpg",
            "first_name": "",
            "real_name": "mandelbot",
            "display_name": "mandelbot",
            "team": "T4G9NBD2M",
            "name": "demhadbale",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1690087097.822359",
        "parent_user_id": "U010GM77S4W",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "ZnWW",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I think I probably misunderstood how the entries worked in the blotter. I assumed a 3 pound bet that was voided would contain an entry for 3 pounds matched as well as 3 pounds voided."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U010GM77S4W",
        "type": "message",
        "ts": "1690110180.935539",
        "client_msg_id": "37e68885-7242-4c2b-88ff-f0b79b864fe0",
        "text": "So if I'm understanding correctly, if I wanted to count all back bets on a runner that were not voided I could just:\n\n```[o.size_matched for o in market.blotter if o.selection_id == runner.selection_id and o.side == \"BACK\"]```\n?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "66cae8f5399c",
            "image_72": "https:\/\/avatars.slack-edge.com\/2020-03-20\/1004508356769_66cae8f5399cf91a07ae_72.jpg",
            "first_name": "",
            "real_name": "mandelbot",
            "display_name": "mandelbot",
            "team": "T4G9NBD2M",
            "name": "demhadbale",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1690087097.822359",
        "parent_user_id": "U010GM77S4W",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "VQB",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "So if I'm understanding correctly, if I wanted to count all back bets on a runner that were not voided I could just:\n\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "[o.size_matched for o in market.blotter if o.selection_id == runner.selection_id and o.side == \"BACK\"]"
                            }
                        ],
                        "border": 0
                    },
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "\n?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U9JHLMZB4",
        "type": "message",
        "ts": "1690110463.283739",
        "client_msg_id": "f2fb32e0-143f-4103-a9cb-2c639a14d708",
        "text": "That would be my expectation. I've always calculated on the basis that size_matched, size_remaining, size_voided, size_lapsed and size_cancelled should add up to the original bet size.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g951ddcb43e7",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/3951ddcb43e788a387d6daf330dad5ca.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png",
            "first_name": "",
            "real_name": "Peter Coles",
            "display_name": "Peter",
            "team": "T4G9NBD2M",
            "name": "peter",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1690087097.822359",
        "parent_user_id": "U010GM77S4W",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "K8s5",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "That would be my expectation. I've always calculated on the basis that size_matched, size_remaining, size_voided, size_lapsed and size_cancelled should add up to the original bet size."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U010GM77S4W",
        "type": "message",
        "ts": "1690110564.607989",
        "client_msg_id": "b99f4489-b091-4c75-94fd-c91a3fb471da",
        "text": "Thanks for the correction. Although, dont think it accounts for why the limit orders were voided yet not the MARKET_ON_CLOSE limit orders",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "66cae8f5399c",
            "image_72": "https:\/\/avatars.slack-edge.com\/2020-03-20\/1004508356769_66cae8f5399cf91a07ae_72.jpg",
            "first_name": "",
            "real_name": "mandelbot",
            "display_name": "mandelbot",
            "team": "T4G9NBD2M",
            "name": "demhadbale",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1690087097.822359",
        "parent_user_id": "U010GM77S4W",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Y\/jX",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Thanks for the correction. Although, dont think it accounts for why the limit orders were voided yet not the MARKET_ON_CLOSE limit orders"
                            }
                        ]
                    }
                ]
            }
        ]
    }
]