[
    {
        "user": "U02RN7YDRQ9",
        "type": "message",
        "ts": "1693332490.625219",
        "client_msg_id": "faab107e-5aa5-4bff-a95e-78b585292b8c",
        "text": "When a runner is removed on dogs, BF zap the market and a packet comes through with `market_book.total_matched == 0` all price lists in `market_book.runners.ex` are empty and there is no `'tv'` in `market_book.streaming_update`. Discovered some of my strategies do stupid things when this occurs. I can work around it in `check_market_book()` but wonder if there could\/should be some flag set in flumine to indicate a market has been reset and\/or that the book is empty for this packet ?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "ge46f1f8b708",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/e46f1f8b708a630e3191de7b2c42b1d1.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png",
            "first_name": "edblock",
            "real_name": "edblock",
            "display_name": "foxwood",
            "team": "T4G9NBD2M",
            "name": "eanb",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1693332490.625219",
        "reply_count": 3,
        "reply_users_count": 3,
        "latest_reply": "1693379389.543919",
        "reply_users": [
            "UBS7QANF3",
            "U02RN7YDRQ9",
            "U4H19D1D2"
        ],
        "replies": [
            {
                "user": "UBS7QANF3",
                "ts": "1693333576.421729"
            },
            {
                "user": "U02RN7YDRQ9",
                "ts": "1693340961.104449"
            },
            {
                "user": "U4H19D1D2",
                "ts": "1693379389.543919"
            }
        ],
        "is_locked": false,
        "subscribed": true,
        "last_read": "1693379389.543919",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "j5lF\/",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "When a runner is removed on dogs, BF zap the market and a packet comes through with "
                            },
                            {
                                "type": "text",
                                "text": "market_book.total_matched == 0",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " all price lists in "
                            },
                            {
                                "type": "text",
                                "text": "market_book.runners.ex",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " are empty and there is no "
                            },
                            {
                                "type": "text",
                                "text": "'tv'",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " in "
                            },
                            {
                                "type": "text",
                                "text": "market_book.streaming_update",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": ". Discovered some of my strategies do stupid things when this occurs. I can work around it in "
                            },
                            {
                                "type": "text",
                                "text": "check_market_book()",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " but wonder if there could\/should be some flag set in flumine to indicate a market has been reset and\/or that the book is empty for this packet ?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UBS7QANF3",
        "type": "message",
        "ts": "1693333576.421729",
        "client_msg_id": "2C5D089E-84CF-4B40-B3EE-D650DAE555C1",
        "text": "Market version?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gaaf844a4a90",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/eaaf844a4a905431d83430e563b077aa.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png",
            "first_name": "",
            "real_name": "Maurice Berk",
            "display_name": "Mo",
            "team": "T4G9NBD2M",
            "name": "maurice",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1693332490.625219",
        "parent_user_id": "U02RN7YDRQ9",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Z0V=w",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Market version?"
                            }
                        ]
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "heavy_plus_sign",
                "users": [
                    "U016TGY3676"
                ],
                "count": 1
            }
        ]
    },
    {
        "user": "U02RN7YDRQ9",
        "type": "message",
        "ts": "1693340961.104449",
        "client_msg_id": "2c7b406c-41d4-4d6d-891f-b4df257a62c7",
        "text": "Probably but it means tracking and updating a copy of the version number. There is a `SUSPENDED` in there somewhere but since the whole market is zapped for dogs checking the volume seems to work easiest  `*if* market_book.total_matched == 0 : ... check prices exist ...` ",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "ge46f1f8b708",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/e46f1f8b708a630e3191de7b2c42b1d1.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png",
            "first_name": "edblock",
            "real_name": "edblock",
            "display_name": "foxwood",
            "team": "T4G9NBD2M",
            "name": "eanb",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1693332490.625219",
        "parent_user_id": "U02RN7YDRQ9",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "IWZJ",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Probably but it means tracking and updating a copy of the version number. There is a "
                            },
                            {
                                "type": "text",
                                "text": "SUSPENDED",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " in there somewhere but since the whole market is zapped for dogs checking the volume seems to work easiest  "
                            },
                            {
                                "type": "text",
                                "text": "if ",
                                "style": {
                                    "bold": true,
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "market_book.total_matched == 0 : ... check prices exist ... ",
                                "style": {
                                    "code": true
                                }
                            }
                        ]
                    }
                ]
            }
        ]
    }
]