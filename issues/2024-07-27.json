[
    {
        "user": "U04NWADNCFR",
        "type": "message",
        "ts": "1722093929.801439",
        "edited": {
            "user": "U04NWADNCFR",
            "ts": "1722094003.000000"
        },
        "client_msg_id": "8c93d261-715a-406b-85e9-0dcd3d108940",
        "text": "I'm having some new issues lately where Flumine isn't enforcing exposure limits on selections and I am getting exposures that are a multiple of what I would like them to be. I recently made the following changes, could these somehow cause the exposure limits to be breached?\n• started setting the config parameter to make orders 'async' \n• adding 'force=True' on cancellations (because I often hit the hourly transaction limit)\nAnother symptom that may or may not be related is I get a lot of unmatched orders hanging around, even though my 'process_orders' function cancels after n seconds.\n\nMy assumption\/understanding is that if I stop Flumine and re-start it will recalculate exposures for all outstanding strategy orders, so stop\/restart shouldn't be the issue.\n\nIs there something I should be logging that would help track this down?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g3c4e33a28db",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/3c4e33a28dbfc1fe70799f8e243bf305.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png",
            "first_name": "Derek",
            "real_name": "Derek C",
            "display_name": "Derek C",
            "team": "T4G9NBD2M",
            "name": "dataexmachinazzzzz",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1722093929.801439",
        "reply_count": 13,
        "reply_users_count": 3,
        "latest_reply": "1722106471.228279",
        "reply_users": [
            "U03FS7KM2NL",
            "U04NWADNCFR",
            "UUCD6P13J"
        ],
        "replies": [
            {
                "user": "U03FS7KM2NL",
                "ts": "1722094128.057989"
            },
            {
                "user": "U04NWADNCFR",
                "ts": "1722094577.674059"
            },
            {
                "user": "U03FS7KM2NL",
                "ts": "1722095119.057739"
            },
            {
                "user": "U04NWADNCFR",
                "ts": "1722095558.579499"
            },
            {
                "user": "UUCD6P13J",
                "ts": "1722095916.600659"
            },
            {
                "user": "U04NWADNCFR",
                "ts": "1722096104.725649"
            },
            {
                "user": "U04NWADNCFR",
                "ts": "1722097420.865889"
            },
            {
                "user": "UUCD6P13J",
                "ts": "1722097536.538519"
            },
            {
                "user": "U04NWADNCFR",
                "ts": "1722097792.283339"
            },
            {
                "user": "UUCD6P13J",
                "ts": "1722098138.258279"
            },
            {
                "user": "U04NWADNCFR",
                "ts": "1722104896.412619"
            },
            {
                "user": "UUCD6P13J",
                "ts": "1722105703.270709"
            },
            {
                "user": "U04NWADNCFR",
                "ts": "1722106471.228279"
            }
        ],
        "is_locked": false,
        "subscribed": false,
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "GKilj",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I'm having some new issues lately where Flumine isn't enforcing exposure limits on selections and I am getting exposures that are a multiple of what I would like them to be. I recently made the following changes, could these somehow cause the exposure limits to be breached?\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_list",
                        "elements": [
                            {
                                "type": "rich_text_section",
                                "elements": [
                                    {
                                        "type": "text",
                                        "text": "started setting the config parameter to make orders 'async' "
                                    }
                                ]
                            },
                            {
                                "type": "rich_text_section",
                                "elements": [
                                    {
                                        "type": "text",
                                        "text": "adding 'force=True' on cancellations (because I often hit the hourly transaction limit)"
                                    }
                                ]
                            }
                        ],
                        "style": "bullet",
                        "indent": 0,
                        "border": 0
                    },
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "\nAnother symptom that may or may not be related is I get a lot of unmatched orders hanging around, even though my 'process_orders' function cancels after n seconds.\n\nMy assumption\/understanding is that if I stop Flumine and re-start it will recalculate exposures for all outstanding strategy orders, so stop\/restart shouldn't be the issue.\n\nIs there something I should be logging that would help track this down?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U03FS7KM2NL",
        "type": "message",
        "ts": "1722094128.057989",
        "client_msg_id": "AFB8D723-2B63-4616-9BED-D159B8606F98",
        "text": "Not a flumine user but if you’re creating orders async then potentially you could exceed exposure if you sent multiple orders in quick succession (though flumine might handle that), could log your orders with place\/create times to check that",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g160a197a059",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/160a197a059d9b97aabdd95ca66dc341.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png",
            "first_name": "Ralegh",
            "real_name": "Ralegh",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "ralegh",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1722093929.801439",
        "parent_user_id": "U04NWADNCFR",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "0yMGb",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Not a flumine user but if "
                            },
                            {
                                "type": "text",
                                "text": "you’re"
                            },
                            {
                                "type": "text",
                                "text": " creating orders async then potentially you could exceed exposure if you sent multiple orders in quick succession (though flumine might handle that), could log your orders with place\/create times to check that"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U04NWADNCFR",
        "type": "message",
        "ts": "1722094577.674059",
        "client_msg_id": "60155054-656e-492c-9313-0c20352c7d10",
        "text": "thanks <@U03FS7KM2NL> but i think Flumine is controlling that I only have 1 open order at a time (according to my settings) and if I look at the orders, there are dozens of small-exposure bets, it isn't that I have a few large ones making up the total.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g3c4e33a28db",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/3c4e33a28dbfc1fe70799f8e243bf305.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png",
            "first_name": "Derek",
            "real_name": "Derek C",
            "display_name": "Derek C",
            "team": "T4G9NBD2M",
            "name": "dataexmachinazzzzz",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1722093929.801439",
        "parent_user_id": "U04NWADNCFR",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "2vKc\/",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "thanks "
                            },
                            {
                                "type": "user",
                                "user_id": "U03FS7KM2NL"
                            },
                            {
                                "type": "text",
                                "text": " but i think Flumine is controlling that I only have 1 open order at a time (according to my settings) and if I look at the orders, there are dozens of small-exposure bets, it isn't that I have a few large ones making up the total."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U03FS7KM2NL",
        "type": "message",
        "ts": "1722095119.057739",
        "client_msg_id": "AC03A6AF-5459-4F00-84F7-E2CD598FC5CD",
        "text": "That would still manifest as small orders, would double check whether they’re getting placed &lt;100ms from each other ",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g160a197a059",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/160a197a059d9b97aabdd95ca66dc341.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png",
            "first_name": "Ralegh",
            "real_name": "Ralegh",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "ralegh",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1722093929.801439",
        "parent_user_id": "U04NWADNCFR",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "N1SMw",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "That would still manifest as small orders, would double check whether "
                            },
                            {
                                "type": "text",
                                "text": "they’re"
                            },
                            {
                                "type": "text",
                                "text": " getting placed <100ms from each other "
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U04NWADNCFR",
        "type": "message",
        "ts": "1722095558.579499",
        "edited": {
            "user": "U04NWADNCFR",
            "ts": "1722095597.000000"
        },
        "client_msg_id": "2d3dbf7a-2a5e-49f1-887f-78bd0542777a",
        "text": "no, it's like a few per minute at most and the total exposure can end up as 3x the max_selection_exposure even though each individual order is ~10% of the limit. I think I may have fundamentally misunderstood something.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g3c4e33a28db",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/3c4e33a28dbfc1fe70799f8e243bf305.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png",
            "first_name": "Derek",
            "real_name": "Derek C",
            "display_name": "Derek C",
            "team": "T4G9NBD2M",
            "name": "dataexmachinazzzzz",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1722093929.801439",
        "parent_user_id": "U04NWADNCFR",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "1y07R",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "no, it's like a few per minute at most and the total exposure can end up as 3x the max_selection_exposure even though each individual order is ~10% of the limit. I think I may have fundamentally misunderstood something."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UUCD6P13J",
        "type": "message",
        "ts": "1722095916.600659",
        "client_msg_id": "3634EB8B-A013-4570-87E7-79E6A670F2B6",
        "text": "are you using the <https:\/\/github.com\/betcode-org\/flumine\/blob\/master\/examples\/middleware\/orders.py|orders> middleware? If not the restarts will probably be the issue",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g6898272ab81",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/6898272ab810e419c2c9ca9af1e53da8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png",
            "first_name": "Lee",
            "real_name": "Lee U",
            "display_name": "Lee",
            "team": "T4G9NBD2M",
            "name": "lunswor",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1722093929.801439",
        "parent_user_id": "U04NWADNCFR",
        "attachments": [
            {
                "id": 1,
                "footer_icon": "https:\/\/slack.github.com\/static\/img\/favicon-neutral.png",
                "color": "24292f",
                "bot_id": "B021ZJYSBMW",
                "app_unfurl_url": "https:\/\/github.com\/betcode-org\/flumine\/blob\/master\/examples\/middleware\/orders.py",
                "is_app_unfurl": true,
                "app_id": "A01BP7R4KNY",
                "fallback": "<https:\/\/github.com\/betcode-org\/flumine\/blob\/master\/examples\/middleware\/orders.py | orders.py>",
                "text": "```\nimport logging\nfrom flumine import config\nfrom flumine.utils import STRATEGY_NAME_HASH_LENGTH\nfrom flumine.markets.middleware import Middleware\nfrom flumine.order.trade import Trade\n\nlogger = logging.getLogger(__name__)\n\n\nclass OrdersMiddleware(Middleware):\n    \"\"\"\n    Middleware to add execution complete orders\n    to the blotter. This is required on a restart\n    as the order stream does not include\n    EXECUTION_COMPLETE orders\n    \"\"\"\n\n    def __init__(self, flumine):\n        self.flumine = flumine\n\n    def add_market(self, market) -> None:\n        for client in self.flumine.clients:\n            resp = client.betting_client.betting.list_current_orders(\n                customer_strategy_refs=[config.customer_strategy_ref],\n                order_projection=\"EXECUTION_COMPLETE\",\n            )\n            for current_order in resp.orders:\n                <http:\/\/logger.info|logger.info>(\n                    \"OrdersMiddleware: Processing order %s\",\n                    current_order.bet_id,\n                    extra={\n                        \"bet_id\": current_order.bet_id,\n                        \"market_id\": current_order.market_id,\n                        \"customer_strategy_ref\": current_order.customer_strategy_ref,\n                        \"customer_order_ref\": current_order.customer_order_ref,\n                        \"client_username\": client.username,\n                    },\n                )\n                order = self._create_order_from_current(client, current_order, market)\n                if order:\n                    order.update_current_order(current_order)\n                    order.execution_complete()\n\n    def _create_order_from_current(self, client, current_order, market):\n        strategy_name_hash = current_order.customer_order_ref[\n            :STRATEGY_NAME_HASH_LENGTH\n        ]\n        order_id = current_order.customer_order_ref[STRATEGY_NAME_HASH_LENGTH + 1 :]\n        # get strategy\n        strategy = self.flumine.strategies.hashes.get(strategy_name_hash)\n        if strategy is None:\n            logger.warning(\n                \"OrdersMiddleware: Strategy not available to create order %s\",\n                order_id,\n                extra={\n                    \"bet_id\": current_order.bet_id,\n                    \"market_id\": current_order.market_id,\n                    \"customer_strategy_ref\": current_order.customer_strategy_ref,\n                    \"customer_order_ref\": current_order.customer_order_ref,\n                    \"strategy_name\": str(strategy),\n                    \"client_username\": client.username,\n                },\n            )\n            return\n        # add trade\/order\n        trade = Trade(\n            market.market_id,\n            current_order.selection_id,\n            current_order.handicap,\n            strategy,\n        )\n        order = trade.create_order_from_current(client, current_order, order_id)\n        market.blotter[order.id] = order\n        runner_context = strategy.get_runner_context(*order.lookup)\n        runner_context.place(trade.id)\n        <http:\/\/logger.info|logger.info>(\n            \"OrdersMiddleware: New order trade created\",\n            extra={\n                \"bet_id\": current_order.bet_id,\n                \"market_id\": current_order.market_id,\n                \"customer_strategy_ref\": current_order.customer_strategy_ref,\n                \"customer_order_ref\": current_order.customer_order_ref,\n                \"strategy_name\": str(strategy),\n                \"client_username\": client.username,\n            },\n        )\n        return order\n\n```",
                "title": "<https:\/\/github.com\/betcode-org\/flumine\/blob\/master\/examples\/middleware\/orders.py | orders.py>",
                "footer": "<https:\/\/github.com\/betcode-org\/flumine|betcode-org\/flumine>",
                "mrkdwn_in": [
                    "text"
                ]
            }
        ],
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "iSbJf",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "are you using the "
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/github.com\/betcode-org\/flumine\/blob\/master\/examples\/middleware\/orders.py",
                                "text": "orders"
                            },
                            {
                                "type": "text",
                                "text": " middleware? If not the restarts will probably be the issue"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U04NWADNCFR",
        "type": "message",
        "ts": "1722096104.725649",
        "client_msg_id": "52f29492-f9da-4976-baa7-15230c84da23",
        "text": "Thanks <@UUCD6P13J> I think that will be it - I thought that was a built-in feature rather than something to add myself. :man-facepalming:",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g3c4e33a28db",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/3c4e33a28dbfc1fe70799f8e243bf305.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png",
            "first_name": "Derek",
            "real_name": "Derek C",
            "display_name": "Derek C",
            "team": "T4G9NBD2M",
            "name": "dataexmachinazzzzz",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1722093929.801439",
        "parent_user_id": "U04NWADNCFR",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "3MS1g",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Thanks "
                            },
                            {
                                "type": "user",
                                "user_id": "UUCD6P13J"
                            },
                            {
                                "type": "text",
                                "text": " I think that will be it - I thought that was a built-in feature rather than something to add myself. "
                            },
                            {
                                "type": "emoji",
                                "name": "man-facepalming",
                                "unicode": "1f926-200d-2642-fe0f"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U04NWADNCFR",
        "type": "message",
        "ts": "1722097420.865889",
        "client_msg_id": "9be5aed3-accf-4d31-bcb1-5f097f8ade56",
        "text": "I'm having a bit of trouble getting this to work, have I got the right code here?\n```framework.add_market_middleware(OrdersMiddleware(framework))```\n",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g3c4e33a28db",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/3c4e33a28dbfc1fe70799f8e243bf305.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png",
            "first_name": "Derek",
            "real_name": "Derek C",
            "display_name": "Derek C",
            "team": "T4G9NBD2M",
            "name": "dataexmachinazzzzz",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1722093929.801439",
        "parent_user_id": "U04NWADNCFR",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "5BI7h",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I'm having a bit of trouble getting this to work, have I got the right code here?\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "framework.add_market_middleware(OrdersMiddleware(framework))"
                            }
                        ],
                        "border": 0
                    },
                    {
                        "type": "rich_text_section",
                        "elements": []
                    }
                ]
            }
        ]
    },
    {
        "user": "UUCD6P13J",
        "type": "message",
        "ts": "1722097536.538519",
        "client_msg_id": "8B776DCB-C6D6-4BE3-86A0-64DB654EA1E5",
        "text": "Have you copied the class? It’s only part of the examples, not the library",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g6898272ab81",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/6898272ab810e419c2c9ca9af1e53da8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png",
            "first_name": "Lee",
            "real_name": "Lee U",
            "display_name": "Lee",
            "team": "T4G9NBD2M",
            "name": "lunswor",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1722093929.801439",
        "parent_user_id": "U04NWADNCFR",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "\/zxhI",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Have you copied the class? "
                            },
                            {
                                "type": "text",
                                "text": "It’s"
                            },
                            {
                                "type": "text",
                                "text": " only part of the examples, not the library"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U04NWADNCFR",
        "type": "message",
        "ts": "1722097792.283339",
        "client_msg_id": "425d8757-019a-475b-95ef-19072dcbacaa",
        "text": "yes, I copied orders.py into my project and then:\n```from orders import OrdersMiddleware\nframework.add_market_middleware(OrdersMiddleware(framework))```\nseems to cause some kind of infinite loop in my setup, once the framework starts.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g3c4e33a28db",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/3c4e33a28dbfc1fe70799f8e243bf305.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png",
            "first_name": "Derek",
            "real_name": "Derek C",
            "display_name": "Derek C",
            "team": "T4G9NBD2M",
            "name": "dataexmachinazzzzz",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1722093929.801439",
        "parent_user_id": "U04NWADNCFR",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "svy\/c",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "yes, I copied orders.py into my project and then:\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "from orders import OrdersMiddleware\nframework.add_market_middleware(OrdersMiddleware(framework))"
                            }
                        ],
                        "border": 0
                    },
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "seems to cause some kind of infinite loop in my setup, once the framework starts."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UUCD6P13J",
        "type": "message",
        "ts": "1722098138.258279",
        "client_msg_id": "C3615344-DC1B-4719-956C-7F4C68B54222",
        "text": "you’ll probably need to put a debugger on it and see what’s happening",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g6898272ab81",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/6898272ab810e419c2c9ca9af1e53da8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png",
            "first_name": "Lee",
            "real_name": "Lee U",
            "display_name": "Lee",
            "team": "T4G9NBD2M",
            "name": "lunswor",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1722093929.801439",
        "parent_user_id": "U04NWADNCFR",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "W8LgO",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "you’ll probably need to put a debugger on it and see "
                            },
                            {
                                "type": "text",
                                "text": "what’s"
                            },
                            {
                                "type": "text",
                                "text": " happening"
                            }
                        ]
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "+1",
                "users": [
                    "U04NWADNCFR"
                ],
                "count": 1
            }
        ]
    },
    {
        "user": "U04NWADNCFR",
        "type": "message",
        "ts": "1722104896.412619",
        "client_msg_id": "59520eed-bc30-4270-bba6-22246dc1dc8d",
        "text": "I think the problem I'm having is that the middleware is calling 'list_current_orders' each time a new market comes onto the stream, which at startup is quite a heavy workload in my particular setup. I changed it to only list orders for the market that was being added and that got me past my blocker.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g3c4e33a28db",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/3c4e33a28dbfc1fe70799f8e243bf305.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png",
            "first_name": "Derek",
            "real_name": "Derek C",
            "display_name": "Derek C",
            "team": "T4G9NBD2M",
            "name": "dataexmachinazzzzz",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1722093929.801439",
        "parent_user_id": "U04NWADNCFR",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "pGFTq",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I think the problem I'm having is that the middleware is calling 'list_current_orders' each time a new market comes onto the stream, which at startup is quite a heavy workload in my particular setup. I changed it to only list orders for the market that was being added and that got me past my blocker."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UUCD6P13J",
        "type": "message",
        "ts": "1722105703.270709",
        "client_msg_id": "2348E8AA-B7E6-4A28-9948-E13CEC261D13",
        "text": "Cool, be careful of hitting the api too hard if you’re subscribed to lots of markets. It sounds like you have lots of markets\/orders so you could potentially batch up multiple markets per call",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g6898272ab81",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/6898272ab810e419c2c9ca9af1e53da8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png",
            "first_name": "Lee",
            "real_name": "Lee U",
            "display_name": "Lee",
            "team": "T4G9NBD2M",
            "name": "lunswor",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1722093929.801439",
        "parent_user_id": "U04NWADNCFR",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "M0OaI",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Cool, be careful of hitting the api too hard if you’re subscribed to lots of markets. It sounds like you have lots of markets\/orders so you could potentially batch up multiple markets per call"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U04NWADNCFR",
        "type": "message",
        "ts": "1722106471.228279",
        "client_msg_id": "3345adec-6a58-41f9-a569-7b711af27b3a",
        "text": "yeah, definitely room for some optimisations there! Thanks again for your help, I was totally stuck earlier.",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g3c4e33a28db",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/3c4e33a28dbfc1fe70799f8e243bf305.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0026-72.png",
            "first_name": "Derek",
            "real_name": "Derek C",
            "display_name": "Derek C",
            "team": "T4G9NBD2M",
            "name": "dataexmachinazzzzz",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1722093929.801439",
        "parent_user_id": "U04NWADNCFR",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "ZxbdX",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "yeah, definitely room for some optimisations there! Thanks again for your help, I was totally stuck earlier."
                            }
                        ]
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "+1",
                "users": [
                    "UUCD6P13J"
                ],
                "count": 1
            }
        ]
    }
]