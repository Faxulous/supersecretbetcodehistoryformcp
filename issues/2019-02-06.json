[
    {
        "subtype": "channel_join",
        "user": "UG03WDCHH",
        "text": "<@UG03WDCHH> has joined the channel",
        "type": "message",
        "ts": "1549491306.076700"
    },
    {
        "user": "UFTBRB3F1",
        "type": "message",
        "ts": "1549492477.079000",
        "client_msg_id": "35d2d974-03d6-4ef6-aabb-1622ae54bd8c",
        "text": "I've been playing around in python and to some extent I can get what I need in the console...however, I'm still stuck with the best way to stream the console results to a webbrowser...I've tried various sockets examples that claim to do the job, but nothing seems to work. Can anyone suggest the best way of getting the console output into a browser (presumably via some kind of websocket connection)?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g771e110be94",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/a771e110be945b86bede9d5c1bb551e3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png",
            "first_name": "",
            "real_name": "Newbie99",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "vjmehra",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "NxDn",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I've been playing around in python and to some extent I can get what I need in the console...however, I'm still stuck with the best way to stream the console results to a webbrowser...I've tried various sockets examples that claim to do the job, but nothing seems to work. Can anyone suggest the best way of getting the console output into a browser (presumably via some kind of websocket connection)?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "subtype": "channel_join",
        "user": "UG07N7MJ6",
        "text": "<@UG07N7MJ6> has joined the channel",
        "type": "message",
        "ts": "1549492678.079200"
    },
    {
        "user": "U5D4ZBEAG",
        "type": "message",
        "ts": "1549492817.079400",
        "client_msg_id": "b25c3009-7632-4f36-8f46-a2b5d51f0317",
        "text": "<@UFTBRB3F1> <https:\/\/flask-socketio.readthedocs.io\/en\/latest\/>",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g147ed91a398",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/7147ed91a39866d363a9cfa66ef64cb8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png",
            "first_name": "",
            "real_name": "seaders",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "seaders",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "d1l",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "user",
                                "user_id": "UFTBRB3F1"
                            },
                            {
                                "type": "text",
                                "text": " "
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/flask-socketio.readthedocs.io\/en\/latest\/"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UFTBRB3F1",
        "type": "message",
        "ts": "1549494207.082400",
        "client_msg_id": "ed6003c0-8257-4419-9c27-78f646a559ce",
        "text": "Thanks, however I get exactly the same issue...I don't get any error as such, but it just does nothing. I'm trying to essentially send the output of the example streaming script from Github. The script works fine, I can run it on its own and see the data come back as expected...however whenever I try to put in a any kind of socket connection it simply won't work. I presume there is some kind of conflict that I'm not understanding. Intuitively it seems quite simply, simply send what is shown on the console to a browser...but clearly its not as simple as it seems...although I can not understand why!",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g771e110be94",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/a771e110be945b86bede9d5c1bb551e3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-72.png",
            "first_name": "",
            "real_name": "Newbie99",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "vjmehra",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "ycfB7",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Thanks, however I get exactly the same issue...I don't get any error as such, but it just does nothing. I'm trying to essentially send the output of the example streaming script from Github. The script works fine, I can run it on its own and see the data come back as expected...however whenever I try to put in a any kind of socket connection it simply won't work. I presume there is some kind of conflict that I'm not understanding. Intuitively it seems quite simply, simply send what is shown on the console to a browser...but clearly its not as simple as it seems...although I can not understand why!"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U5D4ZBEAG",
        "type": "message",
        "ts": "1549501331.082600",
        "edited": {
            "user": "U5D4ZBEAG",
            "ts": "1550339582.000000"
        },
        "client_msg_id": "04b24e94-8ec7-4dc8-aa91-5e4a0b562ec9",
        "text": "```\nstream = None\nqueue = None\n\n\ndef get_queue():\n    global queue, stream\n\n    if not queue:\n        stream, queue = seadersbfstream.subscribe_to(['1.154237752'])\n    return queue\n\n\n@socketio.on('ping')\ndef handle_message(_message, *_args, **kwargs):\n    market_books = get_queue().get()\n    print(market_books)\n\n    for market_book in market_books:\n        emit(\n            'market_book',\n            f'{market_book} '\n            f'{market_book.streaming_unique_id} '\n            f'{market_book.streaming_update}, '\n            f'{market_book.market_definition}, '\n            f'{market_book.publish_time} '\n        )\n\n\nif __name__ == '__main__':\n    socketio.run(app)\n    stream.stop()```",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g147ed91a398",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/7147ed91a39866d363a9cfa66ef64cb8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png",
            "first_name": "",
            "real_name": "seaders",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "seaders",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "MgFT",
                "elements": [
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "stream = None\nqueue = None\n\n\ndef get_queue():\n    global queue, stream\n\n    if not queue:\n        stream, queue = seadersbfstream.subscribe_to(['1.154237752'])\n    return queue\n\n\n@socketio.on('ping')\ndef handle_message(_message, *_args, **kwargs):\n    market_books = get_queue().get()\n    print(market_books)\n\n    for market_book in market_books:\n        emit(\n            'market_book',\n            f'{market_book} '\n            f'{market_book.streaming_unique_id} '\n            f'{market_book.streaming_update}, '\n            f'{market_book.market_definition}, '\n            f'{market_book.publish_time} '\n        )\n\n\nif __name__ == '__main__':\n    socketio.run(app)\n    stream.stop()"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U5D4ZBEAG",
        "type": "message",
        "ts": "1549501365.083200",
        "client_msg_id": "0cd73894-2170-4a36-aa3b-46f07e20e1d4",
        "text": "<@UFTBRB3F1>... or something like that (I'll let you figure what `seadersbfstream.subscribe_to` does",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g147ed91a398",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/7147ed91a39866d363a9cfa66ef64cb8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png",
            "first_name": "",
            "real_name": "seaders",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "seaders",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "iRE",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "user",
                                "user_id": "UFTBRB3F1"
                            },
                            {
                                "type": "text",
                                "text": "... or something like that (I'll let you figure what "
                            },
                            {
                                "type": "text",
                                "text": "seadersbfstream.subscribe_to",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " does"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U5D4ZBEAG",
        "type": "message",
        "ts": "1549501425.084300",
        "client_msg_id": "d69b3744-55fc-450d-9716-63a858b5534a",
        "text": "you'd obvs have to manage what what whoever \"pings\" the socket gets,",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g147ed91a398",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/7147ed91a39866d363a9cfa66ef64cb8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png",
            "first_name": "",
            "real_name": "seaders",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "seaders",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "=y16",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "you'd obvs have to manage what what whoever \"pings\" the socket gets,"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U5D4ZBEAG",
        "type": "message",
        "ts": "1549501483.084900",
        "client_msg_id": "9606aedd-b637-4391-98ce-3665d329f780",
        "text": "but for your want to just log it to a page, that works with the flaskio stuff,\n```\n&lt;script type=\"text\/javascript\" charset=\"utf-8\"&gt;\n    var socket = io.connect('<http:\/\/127.0.0.1:5000\/>');\n    socket.on('connect', function() {\n        console.log('connected');\n\n        socket.emit('ping', '');\n    });\n    socket.on('market_book', function() {\n        console.log('message', arguments);\n    });\n&lt;\/script&gt;```",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g147ed91a398",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/7147ed91a39866d363a9cfa66ef64cb8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png",
            "first_name": "",
            "real_name": "seaders",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "seaders",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "2=V9d",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "but for your want to just log it to a page, that works with the flaskio stuff,"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "<script type=\"text\/javascript\" charset=\"utf-8\">\n    var socket = io.connect('"
                            },
                            {
                                "type": "link",
                                "url": "http:\/\/127.0.0.1:5000\/"
                            },
                            {
                                "type": "text",
                                "text": "');\n    socket.on('connect', function() {\n        console.log('connected');\n\n        socket.emit('ping', '');\n    });\n    socket.on('market_book', function() {\n        console.log('message', arguments);\n    });\n<\/script>"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U5D4ZBEAG",
        "type": "message",
        "ts": "1549501516.085600",
        "client_msg_id": "25682a5c-13a2-47ab-9069-6deb3fe6837d",
        "text": "connect, send ping, receive 'market_book' response, 'n do whatever you wants with it",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g147ed91a398",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/7147ed91a39866d363a9cfa66ef64cb8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png",
            "first_name": "",
            "real_name": "seaders",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "seaders",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "J6zX",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "connect, send ping, receive 'market_book' response, 'n do whatever you wants with it"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U5D4ZBEAG",
        "type": "message",
        "ts": "1549501540.086000",
        "client_msg_id": "248a9db0-d8fe-48b1-991d-989387625872",
        "text": "but yeah, definitely works as expected",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g147ed91a398",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/7147ed91a39866d363a9cfa66ef64cb8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0015-72.png",
            "first_name": "",
            "real_name": "seaders",
            "display_name": "",
            "team": "T4G9NBD2M",
            "name": "seaders",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "0YU7p",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "but yeah, definitely works as expected"
                            }
                        ]
                    }
                ]
            }
        ]
    }
]