[
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1662969454.824879",
        "edited": {
            "user": "U4H19D1D2",
            "ts": "1662969567.000000"
        },
        "client_msg_id": "c4321b13-d13a-47e6-af53-2f47fb389340",
        "text": "That difference is your theoretical tick to trade creation, however like you have mentioned it is based on your clock being accurate and it has the potential to combine\/hide network and CPU issues.\n\nIn an ideal world you would be monitoring:\n\n• `MarketBook.publish_time` -&gt; `MarketBook.now`: time taken from betfair to your program (ie. mostly network)\n• `MarketBook.now` -&gt; `Order.date_time_created`: time taken from MarketBook received to order created ie. time taken to process the book update (probably the one you are interested in if you have 200 strategies)\n• `Order.date_time_created` -&gt; `Order.responses.date_time_placed`: time taken from Order creation to Order response received (network \/ thread pool exhaustion)\nWe have a <https:\/\/github.com\/betcode-org\/flumine\/issues\/338|task> to try and improve this",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1662934944.831359",
        "parent_user_id": "UPMUFSGCR",
        "attachments": [
            {
                "id": 1,
                "footer_icon": "https:\/\/slack.github.com\/static\/img\/favicon-neutral.png",
                "ts": 1606820680,
                "color": "36a64f",
                "bot_id": "B021ZJYSBMW",
                "app_unfurl_url": "https:\/\/github.com\/betcode-org\/flumine\/issues\/338",
                "is_app_unfurl": true,
                "app_id": "A01BP7R4KNY",
                "fallback": "<https:\/\/github.com\/betcode-org\/flumine\/issues\/338|#338 Strategy tracing \/ profiling >",
                "text": "Sentry style tracing to allow profiling of strategies:\n\n• Order count\n• Function calls\n• Latency per `process_market_book` calls\n• Use `Event` object",
                "title": "<https:\/\/github.com\/betcode-org\/flumine\/issues\/338|#338 Strategy tracing \/ profiling >",
                "footer": "<https:\/\/github.com\/betcode-org\/flumine|betcode-org\/flumine>",
                "fields": [
                    {
                        "value": "enhancement",
                        "title": "Labels",
                        "short": true
                    }
                ],
                "mrkdwn_in": [
                    "text"
                ]
            }
        ],
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "5=H",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "That difference is your theoretical tick to trade creation, however like you have mentioned it is based on your clock being accurate and it has the potential to combine\/hide network and CPU issues.\n\nIn an ideal world you would be monitoring:\n\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_list",
                        "elements": [
                            {
                                "type": "rich_text_section",
                                "elements": [
                                    {
                                        "type": "text",
                                        "text": "MarketBook.publish_time",
                                        "style": {
                                            "code": true
                                        }
                                    },
                                    {
                                        "type": "text",
                                        "text": " -> "
                                    },
                                    {
                                        "type": "text",
                                        "text": "MarketBook.now",
                                        "style": {
                                            "code": true
                                        }
                                    },
                                    {
                                        "type": "text",
                                        "text": ": time taken from betfair to your program (ie. mostly network)"
                                    }
                                ]
                            },
                            {
                                "type": "rich_text_section",
                                "elements": [
                                    {
                                        "type": "text",
                                        "text": "MarketBook.now",
                                        "style": {
                                            "code": true
                                        }
                                    },
                                    {
                                        "type": "text",
                                        "text": " -> "
                                    },
                                    {
                                        "type": "text",
                                        "text": "Order.date_time_created",
                                        "style": {
                                            "code": true
                                        }
                                    },
                                    {
                                        "type": "text",
                                        "text": ": time taken from MarketBook received to order created ie. time taken to process the book update (probably the one you are interested in if you have 200 strategies)"
                                    }
                                ]
                            },
                            {
                                "type": "rich_text_section",
                                "elements": [
                                    {
                                        "type": "text",
                                        "text": "Order.date_time_created",
                                        "style": {
                                            "code": true
                                        }
                                    },
                                    {
                                        "type": "text",
                                        "text": " -> "
                                    },
                                    {
                                        "type": "text",
                                        "text": "Order.responses.date_time_placed",
                                        "style": {
                                            "code": true
                                        }
                                    },
                                    {
                                        "type": "text",
                                        "text": ": time taken from Order creation to Order response received (network \/ thread pool exhaustion)"
                                    }
                                ]
                            }
                        ],
                        "style": "bullet",
                        "indent": 0,
                        "border": 0
                    },
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "\nWe have a "
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/github.com\/betcode-org\/flumine\/issues\/338",
                                "text": "task"
                            },
                            {
                                "type": "text",
                                "text": " to try and improve this"
                            }
                        ]
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "rocket",
                "users": [
                    "UPMUFSGCR"
                ],
                "count": 1
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1662983124.475909",
        "client_msg_id": "7f9d68ff-cf7b-45de-ac51-fa783597d3b8",
        "text": "github down or is it me?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "bDOv",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "github down or is it me?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UUCD6P13J",
        "type": "message",
        "ts": "1662983147.556399",
        "client_msg_id": "483c6bb0-d920-4508-ac9e-0b02d0a5d5e6",
        "text": "yup",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g6898272ab81",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/6898272ab810e419c2c9ca9af1e53da8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-72.png",
            "first_name": "Lee",
            "real_name": "Lee U",
            "display_name": "Lee",
            "team": "T4G9NBD2M",
            "name": "lunswor",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "2jNw",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "yup"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UUE6E1LA1",
        "type": "message",
        "ts": "1662983155.400199",
        "client_msg_id": "1e46c731-5d4a-4842-a5f3-02e7a11c86b3",
        "text": "me too",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gf53cae45edd",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/f53cae45edd7f7b67bbe98819597612e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0017-72.png",
            "first_name": "",
            "real_name": "D C",
            "display_name": "D C",
            "team": "T4G9NBD2M",
            "name": "oddsvantage",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "VazHG",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "me too"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U4H19D1D2",
        "type": "message",
        "ts": "1662983188.022549",
        "client_msg_id": "fa142cc9-e3fd-41d9-ac78-620970389890",
        "text": "oh looks likes its back",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "137c5a3ef323",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-03-15\/6819395173841_137c5a3ef323f1944a1a_72.png",
            "first_name": "liam",
            "real_name": "liam",
            "display_name": "liam",
            "team": "T4G9NBD2M",
            "name": "liam",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "I=l+",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "oh looks likes its back"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "USWDY5P7G",
        "type": "message",
        "ts": "1662984290.168519",
        "edited": {
            "user": "USWDY5P7G",
            "ts": "1662984308.000000"
        },
        "client_msg_id": "429c12b7-b7d9-4b6b-85dd-a390a6afba82",
        "text": "In the last week or so I experienced several GitHub \"unicorn\" errors around this time of day",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "693b14d0cc42",
            "image_72": "https:\/\/avatars.slack-edge.com\/2021-08-29\/2425858826214_693b14d0cc42bdbfb86a_72.jpg",
            "first_name": "Fab",
            "real_name": "Fab",
            "display_name": "Fab",
            "team": "T4G9NBD2M",
            "name": "me1",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "zyv=M",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "In the last week or so I experienced several GitHub \"unicorn\" errors around this time of day"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "text": "You got me thinking so I did some tests yesterday on an instance I have running with 6 strategies that I know are slow at processing, here is the following at order creation:\n\n```latency = (trade.date_time_created - market_book._datetime_created).total_seconds()```\nVery strategy dependant but has the potential for the order to make a big difference in pnl \/ matching",
        "files": [
            {
                "id": "F041PPT4CDD",
                "mode": "hidden_by_limit"
            }
        ],
        "upload": false,
        "user": "U4H19D1D2",
        "display_as_bot": false,
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "hiYWe",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "You got me thinking so I did some tests yesterday on an instance I have running with 6 strategies that I know are slow at processing, here is the following at order creation:\n\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "latency = (trade.date_time_created - market_book._datetime_created).total_seconds()"
                            }
                        ],
                        "border": 0
                    },
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "\nVery strategy dependant but has the potential for the order to make a big difference in pnl \/ matching"
                            }
                        ]
                    }
                ]
            }
        ],
        "type": "message",
        "ts": "1663052219.519039",
        "client_msg_id": "0d7a1d25-8c04-4017-bd7a-a4272282c287",
        "thread_ts": "1662934944.831359",
        "parent_user_id": "UPMUFSGCR"
    }
]