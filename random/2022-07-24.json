[
    {
        "user": "UQL0QDEKA",
        "type": "message",
        "ts": "1658663327.876259",
        "client_msg_id": "5ea3ef19-2620-409f-94f1-d487b66fc822",
        "text": "<@U010GM77S4W> recently explained how to add more than one strategy to a single instance (thanks madelbot) using this :\nimport logging\nimport betfairlightweight\nfrom pythonjsonlogger import jsonlogger\n\nfrom flumine import Flumine, clients\nfrom flumine.streams.datastream import DataStream\nfrom Strategy1 import Strategy1\nfrom Strategy2 import Strategy2\n\n\nlogger = logging.getLogger()\n\ncustom_format = \"%(asctime) %(levelname) %(message)\"\nlog_handler = logging.StreamHandler()\nformatter = jsonlogger.JsonFormatter(custom_format)\nformatter.converter = time.gmtime\nlog_handler.setFormatter(formatter)\nlogger.addHandler(log_handler)\nlogger.setLevel(<http:\/\/logging.INFO|logging.INFO>)\n\ntrading = betfairlightweight.APIClient('username', 'password', app_key='app_key',\n\t\t\t\t\tcerts='\/path\/to\/certs')\ntrading.login()\n\nclient = clients.BetfairClient(trading)\n\nframework = Flumine(client=client)\n\nmarkets1 = betfairlightweight.filters.streaming_market_filter(\n           event_type_ids=[\"7\"],\n           country_codes=[\"GB\", \"IE\"],\n           market_types=[\"WIN\"]\n)\n\nmarkets2 = betfairlightweight.filters.streaming_market_filter(\n           event_type_ids=[\"4339\"],\n           country_codes=[\"GB\"],\n           market_types=[\"WIN\"]\n)\n\n\nstrategy1 = Strategy1(\n    name=\"Strategy1\",\n    market_filter=markets1,\n    max_order_exposure=50000000,\n    max_selection_exposure=6000000,\n    max_trade_count=200,\n    max_live_trade_count=1,\n    context={\"stake\": 2},\n)\n\nstrategy2 = Strategy2(\n    name=\"Strategy2\",\n    market_filter=markets2,\n    max_order_exposure=50000000,\n    max_selection_exposure=6000000,\n    max_trade_count=2000,\n    max_live_trade_count=2,\n    context={\"stake\": 2},\n)\n\nframework.add_strategy(strategy)\nframework.add_strategy(strategy2)\n\nframework.run()\n\nI assume you can use the same principle using the market recorder to record more than one sport\/category?\nIf so, Ill probably just add one more sport category for now, but is it good practice to add multiple sports. Does it start to slow the system down too much if you add multiple? Would it be reasonable to assume it could handle 3 or 4 categories easily? (Im using ubuntu on AWS 4gb ram, 2 CPU's)\n(Can someone remind me of the subscription limit too please?) Thanks in advance",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g444d10128c0",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/444d10128c0aaf094041a52a76796602.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png",
            "first_name": "Peter",
            "real_name": "Peter Lenagh",
            "display_name": "PeterLe",
            "team": "T4G9NBD2M",
            "name": "lenagh",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1658663327.876259",
        "reply_count": 5,
        "reply_users_count": 2,
        "latest_reply": "1658664578.421429",
        "reply_users": [
            "U010GM77S4W",
            "UQL0QDEKA"
        ],
        "replies": [
            {
                "user": "U010GM77S4W",
                "ts": "1658663511.745069"
            },
            {
                "user": "U010GM77S4W",
                "ts": "1658663546.321679"
            },
            {
                "user": "UQL0QDEKA",
                "ts": "1658664185.651169"
            },
            {
                "user": "U010GM77S4W",
                "ts": "1658664491.622729"
            },
            {
                "user": "UQL0QDEKA",
                "ts": "1658664578.421429"
            }
        ],
        "is_locked": false,
        "subscribed": false,
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "gHs",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "user",
                                "user_id": "U010GM77S4W"
                            },
                            {
                                "type": "text",
                                "text": " recently explained how to add more than one strategy to a single instance (thanks madelbot) using this :\nimport logging\nimport betfairlightweight\nfrom pythonjsonlogger import jsonlogger\n\nfrom flumine import Flumine, clients\nfrom flumine.streams.datastream import DataStream\nfrom Strategy1 import Strategy1\nfrom Strategy2 import Strategy2\n\n\nlogger = logging.getLogger()\n\ncustom_format = \"%(asctime) %(levelname) %(message)\"\nlog_handler = logging.StreamHandler()\nformatter = jsonlogger.JsonFormatter(custom_format)\nformatter.converter = time.gmtime\nlog_handler.setFormatter(formatter)\nlogger.addHandler(log_handler)\nlogger.setLevel("
                            },
                            {
                                "type": "link",
                                "url": "http:\/\/logging.INFO",
                                "text": "logging.INFO"
                            },
                            {
                                "type": "text",
                                "text": ")\n\ntrading = betfairlightweight.APIClient('username', 'password', app_key='app_key',\n\t\t\t\t\tcerts='\/path\/to\/certs')\ntrading.login()\n\nclient = clients.BetfairClient(trading)\n\nframework = Flumine(client=client)\n\nmarkets1 = betfairlightweight.filters.streaming_market_filter(\n           event_type_ids=[\"7\"],\n           country_codes=[\"GB\", \"IE\"],\n           market_types=[\"WIN\"]\n)\n\nmarkets2 = betfairlightweight.filters.streaming_market_filter(\n           event_type_ids=[\"4339\"],\n           country_codes=[\"GB\"],\n           market_types=[\"WIN\"]\n)\n\n\nstrategy1 = Strategy1(\n    name=\"Strategy1\",\n    market_filter=markets1,\n    max_order_exposure=50000000,\n    max_selection_exposure=6000000,\n    max_trade_count=200,\n    max_live_trade_count=1,\n    context={\"stake\": 2},\n)\n\nstrategy2 = Strategy2(\n    name=\"Strategy2\",\n    market_filter=markets2,\n    max_order_exposure=50000000,\n    max_selection_exposure=6000000,\n    max_trade_count=2000,\n    max_live_trade_count=2,\n    context={\"stake\": 2},\n)\n\nframework.add_strategy(strategy)\nframework.add_strategy(strategy2)\n\nframework.run()\n\nI assume you can use the same principle using the market recorder to record more than one sport\/category?\nIf so, Ill probably just add one more sport category for now, but is it good practice to add multiple sports. Does it start to slow the system down too much if you add multiple? Would it be reasonable to assume it could handle 3 or 4 categories easily? (Im using ubuntu on AWS 4gb ram, 2 CPU's)\n(Can someone remind me of the subscription limit too please?) Thanks in advance"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U010GM77S4W",
        "type": "message",
        "ts": "1658663511.745069",
        "client_msg_id": "93c4875b-1d48-4de4-98b0-5029e2ed277e",
        "text": "You can add more sports to the marketrecorder by adjusting the filter. IE adding more `event_type_ids`\/`country_codes` or `market_types`\n\n```markets = betfairlightweight.filters.streaming_market_filter(\n           event_type_ids=[\"7\"],\n           country_codes=[\"GB\", \"IE\"],\n           market_types=[\"WIN\"]\n)```",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "66cae8f5399c",
            "image_72": "https:\/\/avatars.slack-edge.com\/2020-03-20\/1004508356769_66cae8f5399cf91a07ae_72.jpg",
            "first_name": "",
            "real_name": "mandelbot",
            "display_name": "mandelbot",
            "team": "T4G9NBD2M",
            "name": "demhadbale",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1658663327.876259",
        "parent_user_id": "UQL0QDEKA",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "We=",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "You can add more sports to the marketrecorder by adjusting the filter. IE adding more "
                            },
                            {
                                "type": "text",
                                "text": "event_type_ids",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\/"
                            },
                            {
                                "type": "text",
                                "text": "country_codes ",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "or"
                            },
                            {
                                "type": "text",
                                "text": " market_types",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "markets = betfairlightweight.filters.streaming_market_filter(\n           event_type_ids=[\"7\"],\n           country_codes=[\"GB\", \"IE\"],\n           market_types=[\"WIN\"]\n)"
                            }
                        ],
                        "border": 0
                    }
                ]
            }
        ]
    },
    {
        "user": "U010GM77S4W",
        "type": "message",
        "ts": "1658663546.321679",
        "edited": {
            "user": "U010GM77S4W",
            "ts": "1658663552.000000"
        },
        "client_msg_id": "b93a8487-9ad5-4436-8fd7-c47ae5ee1766",
        "text": "I think the subscription limit is 200 unless you ask for an upgrade to 1000",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "66cae8f5399c",
            "image_72": "https:\/\/avatars.slack-edge.com\/2020-03-20\/1004508356769_66cae8f5399cf91a07ae_72.jpg",
            "first_name": "",
            "real_name": "mandelbot",
            "display_name": "mandelbot",
            "team": "T4G9NBD2M",
            "name": "demhadbale",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1658663327.876259",
        "parent_user_id": "UQL0QDEKA",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "f3S",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I think the subscription limit is 200 unless you ask for an upgrade to 1000"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UQL0QDEKA",
        "type": "message",
        "ts": "1658664185.651169",
        "edited": {
            "user": "UQL0QDEKA",
            "ts": "1658664352.000000"
        },
        "client_msg_id": "6e2c3644-8f4a-48ed-ac1f-ea954f4712cf",
        "text": "Thanks Mandelbot. Sorry i didnt explain myself fully. I understand the code you posted above (filter). I could use a separate account and do it the way you suggested, but i though that if did it by adding a separate strategy I could set the context up correctly so that it recorded the additional sport to a different directory. ie multiple sports using a single instance, each recording to named directories",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g444d10128c0",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/444d10128c0aaf094041a52a76796602.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png",
            "first_name": "Peter",
            "real_name": "Peter Lenagh",
            "display_name": "PeterLe",
            "team": "T4G9NBD2M",
            "name": "lenagh",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1658663327.876259",
        "parent_user_id": "UQL0QDEKA",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Z6xml",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Thanks Mandelbot. Sorry i didnt explain myself fully. I understand the code you posted above (filter). I could use a separate account and do it the way you suggested, but i though that if did it by adding a separate strategy I could set the context up correctly so that it recorded the additional sport to a different directory. ie multiple sports using a single instance, each recording to named directories"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U010GM77S4W",
        "type": "message",
        "ts": "1658664491.622729",
        "client_msg_id": "a56bb650-e289-48ef-bf77-d347c5354d52",
        "text": "Ah well you could sort them into different folder afterwards? say during clean_up or when they're added to S3? If you use an additional filter it will count as an extra connection unfortunately",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "66cae8f5399c",
            "image_72": "https:\/\/avatars.slack-edge.com\/2020-03-20\/1004508356769_66cae8f5399cf91a07ae_72.jpg",
            "first_name": "",
            "real_name": "mandelbot",
            "display_name": "mandelbot",
            "team": "T4G9NBD2M",
            "name": "demhadbale",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1658663327.876259",
        "parent_user_id": "UQL0QDEKA",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "LTC4N",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Ah well you could sort them into different folder afterwards? say during clean_up or when they're added to S3? If you use an additional filter it will count as an extra connection unfortunately"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UQL0QDEKA",
        "type": "message",
        "ts": "1658664578.421429",
        "client_msg_id": "f014f9af-3052-411e-b072-07af56e0e7f6",
        "text": "Ah I see. OK in that case Ill keep it simple and use a separate account. Thanks for your help :+1:",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "g444d10128c0",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/444d10128c0aaf094041a52a76796602.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0005-72.png",
            "first_name": "Peter",
            "real_name": "Peter Lenagh",
            "display_name": "PeterLe",
            "team": "T4G9NBD2M",
            "name": "lenagh",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1658663327.876259",
        "parent_user_id": "UQL0QDEKA",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "ah7",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Ah I see. OK in that case Ill keep it simple and use a separate account. Thanks for your help "
                            },
                            {
                                "type": "emoji",
                                "name": "+1",
                                "unicode": "1f44d"
                            }
                        ]
                    }
                ]
            }
        ]
    }
]