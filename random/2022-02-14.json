[
    {
        "subtype": "channel_join",
        "user": "U032SUA198T",
        "text": "<@U032SUA198T> has joined the channel",
        "type": "message",
        "ts": "1644828526.776439"
    },
    {
        "user": "U0155J92A7Q",
        "type": "message",
        "ts": "1644833113.261229",
        "client_msg_id": "93248d65-c692-4476-b608-77afd85110d6",
        "text": "Hey guys! Does anyone know how can I grant access to my S3 bucket to a friend of mine (who will create a S3 account)? Without touching any IAM role or anything complicated...",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gde8c5d51af5",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/de8c5d51af54a5ac7b501f416ddb262c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png",
            "first_name": "",
            "real_name": "Jorge",
            "display_name": "Jorge",
            "team": "T4G9NBD2M",
            "name": "jgarciam95",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1644833113.261229",
        "reply_count": 4,
        "reply_users_count": 3,
        "latest_reply": "1644841164.304839",
        "reply_users": [
            "UBS7QANF3",
            "U0155J92A7Q",
            "USWDY5P7G"
        ],
        "replies": [
            {
                "user": "UBS7QANF3",
                "ts": "1644833308.076669"
            },
            {
                "user": "U0155J92A7Q",
                "ts": "1644833398.955929"
            },
            {
                "user": "USWDY5P7G",
                "ts": "1644839757.504039"
            },
            {
                "user": "U0155J92A7Q",
                "ts": "1644841164.304839"
            }
        ],
        "is_locked": false,
        "subscribed": false,
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "ht3WO",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Hey guys! Does anyone know how can I grant access to my S3 bucket to a friend of mine (who will create a S3 account)? Without touching any IAM role or anything complicated..."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "UBS7QANF3",
        "type": "message",
        "ts": "1644833308.076669",
        "client_msg_id": "f8fad496-7279-4145-ad6e-334f4e3f9e70",
        "text": "Can't see how to do it without touching IAM...",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gaaf844a4a90",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/eaaf844a4a905431d83430e563b077aa.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0011-72.png",
            "first_name": "",
            "real_name": "Maurice Berk",
            "display_name": "Mo",
            "team": "T4G9NBD2M",
            "name": "maurice",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1644833113.261229",
        "parent_user_id": "U0155J92A7Q",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "u1Tq",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Can't see how to do it without touching IAM..."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U0155J92A7Q",
        "type": "message",
        "ts": "1644833398.955929",
        "client_msg_id": "fafae068-4546-4f56-9f7b-8e2d635b9824",
        "text": "Oh okay, then how can I do it with IAM?",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gde8c5d51af5",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/de8c5d51af54a5ac7b501f416ddb262c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png",
            "first_name": "",
            "real_name": "Jorge",
            "display_name": "Jorge",
            "team": "T4G9NBD2M",
            "name": "jgarciam95",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1644833113.261229",
        "parent_user_id": "U0155J92A7Q",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "ZTFmV",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Oh okay, then how can I do it with IAM?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "USWDY5P7G",
        "type": "message",
        "ts": "1644839757.504039",
        "client_msg_id": "3fc55919-0083-4509-a725-46dc4f5d3315",
        "text": "I roughly follow these steps to create a dedicated IAM with programmatic access to a bucket (replace `new_user` with your friend name):\n\n• Log into AWS using your root account.\n• Top right, a dropdown has an option called My Security Credentials, click on it.\n• On the left menu, go to Access Management &gt; Users.\n• Create a new user (e.g. `new_user`) with Programmatic Access.\n• Do not add it to a group nor assign any permissions for now.\n• Towards the end of the creation steps, it shows you the user’s KEY\/SECRET. Write it down.\n• After creation, in the user list, click on the user and note down his ARN, it looks like:\n*arn:aws:iam::168242217730:user\/new_user*\n• On the top menu, go to Services &gt; S3, then get into the desired bucket.\n• Go to Permissions &gt; Bucket Policy.\n• Enter a policy similar to the json below, you need to replace the user ARN (inside AWS) and the bucket name (inside Resource).\n```{\n    \"Version\": \"2012-10-17\",\n    \"Statement\": [\n        {\n            \"Sid\": \"AllowAccessToNewUser\",\n            \"Effect\": \"Allow\",\n            \"Principal\": {\n                \"AWS\": \"arn:aws:iam::168242217730:user\/new_user\"\n            },\n            \"Action\": \"s3:*\",\n            \"Resource\": [\n                \"arn:aws:s3:::thebucket\",\n                \"arn:aws:s3:::thebucket\/*\"\n            ]\n        }\n    ]\n}```",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "693b14d0cc42",
            "image_72": "https:\/\/avatars.slack-edge.com\/2021-08-29\/2425858826214_693b14d0cc42bdbfb86a_72.jpg",
            "first_name": "Fab",
            "real_name": "Fab",
            "display_name": "Fab",
            "team": "T4G9NBD2M",
            "name": "me1",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1644833113.261229",
        "parent_user_id": "U0155J92A7Q",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "udL",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I roughly follow these steps to create a dedicated IAM with programmatic access to a bucket (replace "
                            },
                            {
                                "type": "text",
                                "text": "new_user",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " with your friend name):\n\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_list",
                        "elements": [
                            {
                                "type": "rich_text_section",
                                "elements": [
                                    {
                                        "type": "text",
                                        "text": "Log into AWS using your root account."
                                    }
                                ]
                            },
                            {
                                "type": "rich_text_section",
                                "elements": [
                                    {
                                        "type": "text",
                                        "text": "Top right, a dropdown has an option called My Security Credentials, click on it."
                                    }
                                ]
                            },
                            {
                                "type": "rich_text_section",
                                "elements": [
                                    {
                                        "type": "text",
                                        "text": "On the left menu, go to Access Management > Users."
                                    }
                                ]
                            },
                            {
                                "type": "rich_text_section",
                                "elements": [
                                    {
                                        "type": "text",
                                        "text": "Create a new user (e.g. "
                                    },
                                    {
                                        "type": "text",
                                        "text": "new_user",
                                        "style": {
                                            "code": true
                                        }
                                    },
                                    {
                                        "type": "text",
                                        "text": ") with Programmatic Access."
                                    }
                                ]
                            },
                            {
                                "type": "rich_text_section",
                                "elements": [
                                    {
                                        "type": "text",
                                        "text": "Do not add it to a group nor assign any permissions for now."
                                    }
                                ]
                            },
                            {
                                "type": "rich_text_section",
                                "elements": [
                                    {
                                        "type": "text",
                                        "text": "Towards the end of the creation steps, it shows you the user’s KEY\/SECRET. Write it down."
                                    }
                                ]
                            },
                            {
                                "type": "rich_text_section",
                                "elements": [
                                    {
                                        "type": "text",
                                        "text": "After creation, in the user list, click on the user and note down his ARN, it looks like:"
                                    }
                                ]
                            }
                        ],
                        "style": "bullet",
                        "indent": 0,
                        "border": 0
                    },
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "arn:aws:iam::168242217730:user\/new_user",
                                "style": {
                                    "bold": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_list",
                        "elements": [
                            {
                                "type": "rich_text_section",
                                "elements": [
                                    {
                                        "type": "text",
                                        "text": "On the top menu, go to Services > S3, then get into the desired bucket."
                                    }
                                ]
                            },
                            {
                                "type": "rich_text_section",
                                "elements": [
                                    {
                                        "type": "text",
                                        "text": "Go to Permissions > Bucket Policy."
                                    }
                                ]
                            },
                            {
                                "type": "rich_text_section",
                                "elements": [
                                    {
                                        "type": "text",
                                        "text": "Enter a policy similar to the json below, you need to replace the user ARN (inside AWS) and the bucket name (inside Resource)."
                                    }
                                ]
                            }
                        ],
                        "style": "bullet",
                        "indent": 0,
                        "border": 0
                    },
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "{\n    \"Version\": \"2012-10-17\",\n    \"Statement\": [\n        {\n            \"Sid\": \"AllowAccessToNewUser\",\n            \"Effect\": \"Allow\",\n            \"Principal\": {\n                \"AWS\": \"arn:aws:iam::168242217730:user\/new_user\"\n            },\n            \"Action\": \"s3:*\",\n            \"Resource\": [\n                \"arn:aws:s3:::thebucket\",\n                \"arn:aws:s3:::thebucket\/*\"\n            ]\n        }\n    ]\n}"
                            }
                        ],
                        "border": 0
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "+1",
                "users": [
                    "U0155J92A7Q"
                ],
                "count": 1
            }
        ]
    },
    {
        "user": "U0155J92A7Q",
        "type": "message",
        "ts": "1644841164.304839",
        "client_msg_id": "215C52AB-2CDD-4302-A5B0-DF2DC151E341",
        "text": "Nice! Thank you so much!",
        "team": "T4G9NBD2M",
        "user_team": "T4G9NBD2M",
        "source_team": "T4G9NBD2M",
        "user_profile": {
            "avatar_hash": "gde8c5d51af5",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/de8c5d51af54a5ac7b501f416ddb262c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png",
            "first_name": "",
            "real_name": "Jorge",
            "display_name": "Jorge",
            "team": "T4G9NBD2M",
            "name": "jgarciam95",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1644833113.261229",
        "parent_user_id": "U0155J92A7Q",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "QLCwe",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Nice! Thank you so much!"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "subtype": "channel_join",
        "user": "U032ZSHPHNX",
        "text": "<@U032ZSHPHNX> has joined the channel",
        "type": "message",
        "ts": "1644855607.948539"
    }
]